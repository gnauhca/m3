{"version":3,"sources":["webpack:///webpack/bootstrap 7cee3331afa9a0e064f6","webpack:///./js/main.js","webpack:///./js/view/view-manager.js","webpack:///./js/view/progress.js","webpack:///./js/view/view.js","webpack:///./js/common/time.js","webpack:///./js/libs/EventEmitter.js","webpack:///./js/view/select.js","webpack:///./js/stages/select-table.js","webpack:///./js/stages/stage.js","webpack:///./js/config/select-conf.js","webpack:///./assets/logo.png","webpack:///./assets/select/particle-map.png","webpack:///./js/stages/select-cube.js","webpack:///./js/stages/select-stars.js","webpack:///./js/stages/explode-particles.js","webpack:///./js/view/display.js","webpack:///./js/stages/display-mobile.js","webpack:///./js/stages/mobile.js","webpack:///./js/common/loader.js","webpack:///./js/config/mobile-conf.js","webpack:///./assets/mobiles/pro5/pro5.js","webpack:///./assets/mobiles/pro5/pro5uv.png","webpack:///./js/common/m3-trackballcontrol.js","webpack:///./js/config/config.js","webpack:///./assets/texture/front.jpg","webpack:///./assets/texture/back.jpg","webpack:///./assets/texture/right.jpg","webpack:///./assets/texture/left.jpg","webpack:///./assets/texture/top.jpg","webpack:///./assets/texture/bottom.jpg","webpack:///./css/m3.scss"],"names":["require","window","M3","viewManager","loader","progressView","getView","activate","load","percent","setProgress","then","assets","inactivate","envMap","THREE","CubeTexture","envPosX","texture","envNegX","envPosY","envNegY","envPosZ","envNegZ","CubeReflectionMapping","urls","url","textureCube","ImageUtils","loadTextureCube","appInit","TIME","start","renderer","WebGLRenderer","antialias","alpha","scene","Scene","document","body","appendChild","domElement","setClearColor","winWidth","innerWidth","winHeight","innerHeight","setSize","camera","PerspectiveCamera","fog","Fog","spotLight","SpotLight","intensity","position","set","lookAt","Vector3","add","light","AmbientLight","addEventListener","aspect","updateProjectionMatrix","initStats","stats","Stats","setMode","style","zIndex","left","top","m3Time","time","addTick","update","render","activateView","_viewConstructors","_views","ViewManager","init","fontSize","htmlElem","querySelector","resize","name","active","stages","forEach","stage","data","view","views","ProgressView","_$progressWrap","_$progressVal","_$water","_$waterDivs","querySelectorAll","display","setTimeout","bind","initColor","finalColor","opacity","currentColor","map","colorVal","i","$waterDiv","backgroundColor","join","innerHTML","transform","toFixed","View","removeView","bodys","delta","stop","addBody","timeBody","push","removeBody","index","indexOf","splice","tick","now","Date","getTime","last","handleFrame","requestAnimationFrame","isStop","ticks","fn","TWEEN","Time","tweens","tween","env","exports","EventEmitter","proto","prototype","originalGlobalValue","indexOfListener","listeners","listener","length","alias","aliasClosure","apply","arguments","getListeners","evt","events","_getEvents","response","key","RegExp","hasOwnProperty","test","flattenListeners","flatListeners","getListenersAsObject","Array","isValidListener","addListener","TypeError","listenerIsWrapped","once","on","addOnceListener","defineEvent","defineEvents","evts","removeListener","off","addListeners","manipulateListeners","removeListeners","remove","value","single","multiple","call","removeEvent","type","_events","removeAllListeners","emitEvent","args","listenersMap","slice","_getOnceReturnValue","trigger","emit","setOnceReturnValue","_onceReturnValue","noConflict","define","module","SelectView","_selectStarsStage","_products","products","$selectProducts","$","selectHTML","product","html","_initEvent","that","$selectView","$ok","$productItems","productName","toggle","_selecteds","removeClass","selected","filter","addClass","selectedData","getSelected","pStar","mesh","clone","mobiles","isInit","entry","leave","SelectTable","objects","_BASECROOD","_CAMERACROOD","_t","_controls","_glowMaterial","GlowMaterial","_buildBase","_buildProductLogo","Object","keys","o","copy","TrackballControls","staticMoving","addTHREEObjTween","glowSvgMesh","material","uniforms_p_value","uniforms_glowColor_value","glowTable","tableGlow","uniforms","p","tableGlowTween","onComplete","glowMesh","traverse","object","ShaderMaterial","viewVector","subVectors","gui","dat","GUI","parameters","c","cGUI","min","max","step","listen","onChange","setPandC","pGUI","productNames","_product","removeTick","svgString","options","shape","transformSVGPathExposed","defaultOptions","amount","bevelThickness","bevelSize","bevelSegments","bevelEnabled","curveSegments","steps","svgGemo","extend","ExtrudeGeometry","center","tableTopGemo","CylinderGeometry","tableTopMaterial","MeshPhongMaterial","color","transparent","refractionRatio","shininess","specular","Color","tableTop","Mesh","tableBottomGemo","tableBottomMaterial","MeshLambertMaterial","DoubleSide","tableBottom","tableGlowMaterial","tableGlowGemo","logo","_createSVGGemo","computeBoundingBox","translate","boundingBox","y","rotateX","Math","PI","svgMaterial","metal","wireframe","svgMesh","svgLogo","glowMaterial","scale","multiplyScalar","planeGridCount","gridWidth","planeWidth","planeHeight","phaneGeom","PlaneGeometry","side","plane","rotation","x","gridGroup","Group","gridMaterial","gridMesh","j","userData","crood","cubeGridCount","cubeWidth","directionalLightColor","directionalLight","DirectionalLight","castShadow","shadowCameraNear","shadowCameraFar","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","distance","shadowMapHeight","shadowMapWidth","target","spotLight2","logoMaterial","group","len","angelStep","Radius","z","svgOption","gemo","cos","sin","Stage","state","onProgress","onSuccess","buildPath","selectConf","logoImg","particleMap","mx6","SelectCube","_PLANEWIDTH","_PLANEHEIGHT","_CUBESIZE","_GRIDXCOUNT","_GRIDZCOUNT","_CUBEHEIGHT","_MINSCALE","_MAXSCALE","_cubes","build","emptySpace","cubeGroup","cubeMaterial","cubeGeom","cube","glowCube","random","scaleV","scaleMin","scaleMax","cubeSize","BoxGeometry","glowCubeGeom","modifier","SubdivisionModifier","modify","_moveCubes","dur","abs","onUpdate","removeTween","_moveCube","Star","initCrood","startLines","endLines","box","connectStars","autoMoveTween","rotateT","geom","SphereGeometry","material1","MeshBasicMaterial","material2","SceneUtils","createMultiMaterialObject","line","move","newCrood","moveTo","callback","setCrood","ProductStar","_svgString","_svgMesh","_glowSprite","_selectTween","updateT","addTween","needUpdate","SVGGemetry","emissive","initV","finalV","normalize","axis","crossVectors","angle","acos","dot","quaternion","Quaternion","setFromAxisAngle","setFromQuaternion","spriteMap","spriteMaterial","SpriteMaterial","blending","AdditiveBlending","glowSprite","Sprite","visible","stopAnimate","animate","Line","startStar","endStar","end","startPointLight","endPointLight","ray","Raycaster","connected","lineMaterial","LineBasicMaterial","linewidth","lineGeom","Geometry","vertices","pointLightMap","TIME_1000","delay","moveIndex","staticIndex","geometry","verticesNeedUpdate","pointTween","Tween","to","easing","Easing","Cubic","In","curCroods","calCrood","sub","setLength","startV","getWorldPosition","endV","intersects","intersectObjects","pointStart","pointEnd","intersect","children","point","croods","vecs","SelectStars","interacted","_gridSize","_starCount","_rangeX","_rangeY","_rangeZ","_minDistant","_maxConnectDistant","_productCfgs","_stars","_lines","_pStars","_selectedPStars","_maxSelected","explodeParticles","_build","enabled","raycaster","mouse","Vector2","hit","hitStar","mousedown","event","clientX","clientY","setFromCamera","some","parent","_toggle","starCroods","starCrood","isValidCrood","starGroup","toBaseVec","parseInt","hasConnect","distantVec","distant","every","productIndexes","Set","size","productCfgIndex","star","has","setScalar","lineGroup","iStar","jStar","particleSystem","lightUpDur","TIME_4000","starGroupScaleDelay","TIME_800","starGroupScaleDur","starMoveDelay","TIME_400","starMoveDur","TIME_300","gatherDur","TIME_2200","exploreDur","cameraRotateDur","lineConnectDelay","TIME_2000","lineConnectDur","TIME_3000","initPos","up","lightUp","rotation_x","a","InOut","gather","explode","connect","travel","shift","unSelect","select","cameraPosition","_unSelect","_select","arr","ExplodeParticles","finalPos","img","imgData","getImageData","zRandom","yOffset","PointsMaterial","sizeAttenuation","pixel","v3","lightupZ","exAngle","exAngleY","rPercent","ParticleSystem","cameraTween","Promise","resolve","particleTween","gatherTween","explodeTween","r","Out","planeR","needsUpdate","Display","_lockTick","_progressView","_mobileStages","_currentMobileStages","_$domWrap","_$domManager","_$windowWrap","_windowDoms","_currentWindowDoms","mobile","mobileStage","_isLoad","sizePos","calculateSubWindowSize","entryCount","all","meshPos","_createWindowUI","_resizeWindows","sphereTick","activeWindows","activeWindow","inActivate","$lockBtn","find","$unlockBtn","$backBtn","_lock","_unlock","parents","resetWindow","_closeWindow","changeColor","silbings","unloadedCount","loaded","loadingInfos","loading","totalSize","loadedSize","progress","loadingInfo","_showProgress","_name","catch","e","console","error","stack","windowTemplate","colorTemplate","colorHTML","append","getColors","replace","empty","reset","resizeWindow","item","pos","$windowDom","css","lock","sizeInfo","getSize","unlock","DisplayMobile","mobileName","_windowSize","_winSizePX","_camera","_mobile","trackball","objectSizes","model","locked","reject","_setupScene","log","windowSize","Euler","THREEUtil","getLookAt","_changeColor","_render","_playEntryAnimation","$domElem","removeWindow","handleResize","initSize","finalSize","setState","resizeTween","modelRotation","cameraRotation","cameraUp","eye","addVectors","isMain","fullScreen","initModelRotation","initCameraPosition","initCameraLookAtPosition","setViewport","setScissor","setScissorTest","mobileEnvMap","JSONLoader","Mobile","config","_materials","_colors","_currentColor","_uuidMaterialNameMap","_texturePath","calculateSize","child","materialName","uuid","models","materials","loadPromise","modelRes","JSON","parse","_JSONLoaderParse","modelName","mParse","match","json","mapDiffuse","location","pathname","loadedCache","Loader","loadParams","loadTasks","_getLoadTasks","onLoad","loadedCount","loadTask","getLoadedSize","_loadTask","loadMethod","res","_getResults","ext","typeExtMap","_params","urlRegx","sizeDefault","params","toString","param","concat","_getLoaderType","onload","imgLoader","ImageLoader","TextureLoader","imgInfo","src","xhr","total","xhrLoader","XHRLoader","str","req","XMLHttpRequest","lengthComputable","s","createElement","responseText","documentElement","open","send","_this","STATE","NONE","ROTATE","ZOOM","PAN","TOUCH_ROTATE","TOUCH_ZOOM_PAN","screen","width","height","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","noRoll","dynamicDampingFactor","minDistance","maxDistance","Infinity","targetMesh","target0","position0","up0","EPS","lastPosition","_state","_prevState","_eye","_rotation","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","changeEvent","startEvent","endEvent","initEvent","setFromEuler","changeTargetMesh","winSize","maxDisBase","minDisBase","handleEvent","getMouseOnScreen","vector","pageX","pageY","getMouseProjectionOnBall","offsetX","offsetY","radio","deltaRotationQuaternion","multiplyQuaternions","rotateTarget","zoomCamera","factor","panCamera","mouseChange","pan","lengthSq","cross","checkDistances","distanceToSquared","dispatchEvent","mousePreX","mousePreY","isInScreen","preventDefault","stopPropagation","button","mousemove","mouseup","removeEventListener","mousewheel","wheelDelta","detail","touchstart","touches","dx","dy","sqrt","touchmove","touchend","_rotateEnd","_rotateStart","BUILDPATH","CONFIG","ASSETS"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,oBAAAA,CAAQ,EAAR,E,CAA0B;;AAE1B;AACA,EAAC,YAAW;;AAEZC,SAAOC,EAAP,GAAY,EAAZ;AACAA,KAAGC,WAAH,GAAiB,2BAAjB;;AAEA;AACA;AACA,MAAIC,SAAS,sBAAb;AACA,MAAIC,eAAeH,GAAGC,WAAH,CAAeG,OAAf,CAAuB,UAAvB,CAAnB;AACAD,eAAaE,QAAb;;AAIA;;;AAIAH,SAAOI,IAAP,iBAAoB,UAASC,OAAT,EAAkB;AACrCJ,gBAAaK,WAAb,CAAyBD,OAAzB;AACA,GAFD,EAEGE,IAFH,CAEQ,UAASC,MAAT,EAAiB;AACxBV,MAAGU,MAAH,GAAYA,MAAZ;AACAP,gBAAaQ,UAAb;;AAEA;AACAX,MAAGU,MAAH,CAAUE,MAAV,GAAmB,IAAIC,MAAMC,WAAV,CAClB,CACCd,GAAGU,MAAH,CAAUK,OAAV,CAAkBC,OADnB,EAEChB,GAAGU,MAAH,CAAUO,OAAV,CAAkBD,OAFnB,EAGChB,GAAGU,MAAH,CAAUQ,OAAV,CAAkBF,OAHnB,EAIChB,GAAGU,MAAH,CAAUS,OAAV,CAAkBH,OAJnB,EAKChB,GAAGU,MAAH,CAAUU,OAAV,CAAkBJ,OALnB,EAMChB,GAAGU,MAAH,CAAUW,OAAV,CAAkBL,OANnB,CADkB,EASlBH,MAAMS,qBATY,CAAnB;;AAYA,OAAIC,OAAO,CACV,eAAOR,OAAP,CAAeS,GADL,EAEV,eAAOP,OAAP,CAAeO,GAFL,EAGV,eAAON,OAAP,CAAeM,GAHL,EAIV,eAAOL,OAAP,CAAeK,GAJL,EAKV,eAAOJ,OAAP,CAAeI,GALL,EAMV,eAAOH,OAAP,CAAeG,GANL,CAAX;AAQA,OAAIC,cAAcZ,MAAMa,UAAN,CAAiBC,eAAjB,CAAiCJ,IAAjC,EAAwCV,MAAMS,qBAA9C,CAAlB;AACAtB,MAAGU,MAAH,CAAUE,MAAV,GAAmBa,WAAnB;AACA;;;AAGAG;AAGA,GAnCD;;AAqCA;;AAEA,WAASA,OAAT,GAAmB;AAClB7B,UAAO8B,IAAP,CAAYC,KAAZ;AACA;AACA9B,MAAG+B,QAAH,GAAc,IAAIlB,MAAMmB,aAAV,CAAwB,EAAEC,WAAW,IAAb,EAAoBC,OAAO,IAA3B,EAAxB,CAAd;;AAEAlC,MAAGmC,KAAH,GAAW,IAAItB,MAAMuB,KAAV,EAAX;AACAC,YAASC,IAAT,CAAcC,WAAd,CAA0BvC,GAAG+B,QAAH,CAAYS,UAAtC;AACAxC,MAAG+B,QAAH,CAAYU,aAAZ,CAA0B,QAA1B,EAAoC,CAApC;;AAEA,OAAIC,WAAW3C,OAAO4C,UAAtB;AACA,OAAIC,YAAY7C,OAAO8C,WAAvB;;AAEA7C,MAAG+B,QAAH,CAAYe,OAAZ,CAAoBJ,QAApB,EAA8BE,SAA9B;;AAGA5C,MAAG+C,MAAH,GAAY,IAAIlC,MAAMmC,iBAAV,CAA4B,EAA5B,EAAgCjD,OAAO4C,UAAP,GAAoB5C,OAAO8C,WAA3D,EAAwE,GAAxE,EAA6E,IAA7E,CAAZ;;AAGA;AACA,OAAII,MAAM,IAAIpC,MAAMqC,GAAV,CAAc,QAAd,EAAwB,CAAxB,EAA2B,IAA3B,CAAV;AACA;;AAEC,OAAIC,YAAY,IAAItC,MAAMuC,SAAV,CAAoB,QAApB,CAAhB;AACAD,aAAUE,SAAV,GAAsB,GAAtB;AACAF,aAAUG,QAAV,CAAmBC,GAAnB,CAAuB,CAAC,GAAxB,EAA6B,GAA7B,EAAkC,GAAlC;AACAJ,aAAUK,MAAV,CAAiB,IAAI3C,MAAM4C,OAAV,EAAjB;AACDzD,MAAGmC,KAAH,CAASuB,GAAT,CAAaP,SAAb;;AAEA,OAAIQ,QAAQ,IAAI9C,MAAM+C,YAAV,CAAwB,QAAxB,CAAZ,CA5BkB,CA4B8B;AAChD5D,MAAGmC,KAAH,CAASuB,GAAT,CAAcC,KAAd;;AAEA5D,UAAO8D,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AAC5CnB,eAAW3C,OAAO4C,UAAlB;AACAC,gBAAY7C,OAAO8C,WAAnB;AACA7C,OAAG+C,MAAH,CAAUe,MAAV,GAAmBpB,WAAWE,SAA9B;AACA5C,OAAG+C,MAAH,CAAUgB,sBAAV;AACA/D,OAAG+B,QAAH,CAAYe,OAAZ,CAAoBJ,QAApB,EAA8BE,SAA9B;AACA,IAND;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,YAASoB,SAAT,GAAqB;;AAEpB,QAAIC,QAAQ,IAAIC,KAAJ,EAAZ;;AAEAD,UAAME,OAAN,CAAc,CAAd,EAJoB,CAIF;;AAElB;AACAF,UAAMzB,UAAN,CAAiB4B,KAAjB,CAAuBd,QAAvB,GAAkC,UAAlC;AACAW,UAAMzB,UAAN,CAAiB4B,KAAjB,CAAuBC,MAAvB,GAAgC,MAAhC;AACAJ,UAAMzB,UAAN,CAAiB4B,KAAjB,CAAuBE,IAAvB,GAA8B,KAA9B;AACAL,UAAMzB,UAAN,CAAiB4B,KAAjB,CAAuBG,GAAvB,GAA6B,KAA7B;;AAEA;AACA,WAAON,KAAP;AACA;AACD,OAAIA,QAAQD,WAAZ;;AAEA;AACA,OAAIQ,SAAS,oBAAb;;AAEAxE,MAAGyE,IAAH,GAAU,oBAAV;AACAzE,MAAGyE,IAAH,CAAQC,OAAR,CAAgB,YAAW;AAC1BT,UAAMU,MAAN;AACA3E,OAAG+B,QAAH,CAAY6C,MAAZ,CAAmB5E,GAAGmC,KAAtB,EAA6BnC,GAAG+C,MAAhC;AACA,IAHD;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA/C,MAAGC,WAAH,CAAe4E,YAAf,CAA4B,QAA5B;AACA;AAEA,EAtJD,I;;;;;;;;;;;;;ACPA;;;AADA;;;;AAEA;;;;AACA;;;;;;;;AACA,KAAIC,oBAAoB;AACpB,mCADoB;AAEpB;AACA,+BAHoB;AAIpB;AAJoB,EAAxB;;AAOA,KAAIC,SAAS,EAAb;;KAGMC,W;AAEL,4BAAc;AAAA;;AACb,cAAKC,IAAL;AACA;;;;gCAEM;AACN;AACAlF,oBAAO8D,gBAAP,CAAwB,QAAxB,EAAmC,YAAW;AAC1C,qBAAInB,QAAJ;AACA,qBAAIwC,QAAJ;AACA,qBAAIC,WAAW9C,SAAS+C,aAAT,CAAuB,MAAvB,CAAf;AACA,0BAASC,MAAT,GAAkB;AACd3C,gCAAW3C,OAAO4C,UAAlB;AACAuC,gCAAWxC,WAAW,GAAtB;AACAwC,gCAAWA,WAAW,EAAX,GAAgB,EAAhB,GAAsBA,WAAW,CAAX,GAAe,CAAf,GAAmBA,QAApD;AACAC,8BAASf,KAAT,CAAec,QAAf,GAA0BA,WAAW,IAArC;;AAEA,0BAAK,IAAII,IAAT,IAAiBP,MAAjB,EAAyB;AACxB,6BAAIA,OAAOO,IAAP,EAAaC,MAAjB,EAAyB;AACrBR,oCAAOO,IAAP,EAAaD,MAAb;AACAN,oCAAOO,IAAP,EAAaE,MAAb,IAAuBT,OAAOO,IAAP,EAAaE,MAAb,CAAoBC,OAApB,CAA4B,UAASC,KAAT,EAAgB;AAClEA,uCAAML,MAAN,IAAgBK,MAAML,MAAN,EAAhB;AACA,8BAFsB,CAAvB;AAGH;AAED;AACJ;AACDA;AACA,wBAAOA,MAAP;AACH,cAtBiC,EAAlC;AAuBA;;;sCAEeC,I,EAAMK,I,EAAM;AACrB,iBAAIC,OAAO,KAAKxF,OAAL,CAAakF,IAAb,CAAX;AACAM,kBAAKvF,QAAL,CAAcsF,IAAd;AACH;;;wCAEcL,I,EAAMK,I,EAAM;AACvB,iBAAIC,OAAO,KAAKxF,OAAL,CAAakF,IAAb,CAAX;AACAM,kBAAKjF,UAAL,CAAgBgF,IAAhB;AACH;;;iCAEOL,I,EAAM;AACV,iBAAI,CAACP,OAAOO,IAAP,CAAL,EAAmB;AACfP,wBAAOO,IAAP,IAAe,IAAIR,kBAAkBQ,IAAlB,CAAJ,CAA4B,IAA5B,CAAf;AACH;AACD,oBAAOP,OAAOO,IAAP,CAAP;AACH;;;oCAEUM,I,EAAM;AAChB,oBAAOC,MAAMD,KAAKN,IAAX,CAAP;AACA;;;;;;mBAIUN,W;;;;;;;;;;;;;;ACtEf;;;;;;;;;;;;KAEMc,Y;;;AAEL,0BAAc;AAAA;;AAAA;;AAGb,SAAKC,cAAL,GAAsB1D,SAAS+C,aAAT,CAAuB,eAAvB,CAAtB;AACA,SAAKY,aAAL,GAAqB3D,SAAS+C,aAAT,CAAuB,cAAvB,CAArB;AACA,SAAKa,OAAL,GAAe5D,SAAS+C,aAAT,CAAuB,QAAvB,CAAf;AACA,SAAKc,WAAL,GAAmB,MAAKD,OAAL,CAAaE,gBAAb,CAA8B,KAA9B,CAAnB;AACA,SAAK3F,WAAL,CAAiB,CAAjB;AAPa;AAQb;;;;8BAEU;AACV,SAAKuF,cAAL,CAAoB3B,KAApB,CAA0BgC,OAA1B,GAAoC,OAApC;AACA;;;gCAEY;AACZC,eAAW,YAAW;AACrB,UAAKN,cAAL,CAAoB3B,KAApB,CAA0BgC,OAA1B,GAAoC,MAApC;AACA,UAAK5F,WAAL,CAAiB,CAAjB;AACA,KAHU,CAGT8F,IAHS,CAGJ,IAHI,CAAX,EAGc,IAHd;AAIA;;;+BAEW/F,O,EAAS;AACpB,QAAIgG,YAAY,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAAhB;AACA,QAAIC,aAAa,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAAjB;AACA,QAAIC,UAAU,GAAd;AACA,QAAIC,YAAJ;;AAEAA,mBAAeF,WAAWG,GAAX,CAAe,UAASC,QAAT,EAAmBC,CAAnB,EAAsB;AACnD,YAAON,UAAUM,CAAV,IAAe,CAACD,WAAWL,UAAUM,CAAV,CAAZ,IAA4BtG,OAA3C,GAAmD,CAA1D;AACA,KAFc,CAAf;;AAIA,SAAK2F,WAAL,CAAiBT,OAAjB,CAAyB,UAASqB,SAAT,EAAoB;AAC5CA,eAAU1C,KAAV,CAAgB2C,eAAhB,GAAkC,UAAUL,aAAaM,IAAb,CAAkB,GAAlB,CAAV,GAAmC,GAAnC,GAAyCP,OAAzC,GAAmD,GAArF;AACA,KAFD;;AAIA,SAAKT,aAAL,CAAmBiB,SAAnB,GAA+B,CAAC1G,UAAQ,GAAR,GAAc,CAAf,IAAoB,GAAnD;AACAA,eAAW,KAAX;AACA,SAAK0F,OAAL,CAAa7B,KAAb,CAAmB8C,SAAnB,GAA+B,YAAY3G,QAAQ4G,OAAR,CAAgB,CAAhB,CAAZ,GAAiC,GAAhE;AACA;;;;;;mBAGarB,Y;;;;;;;;;;;;;;;;AC7Cf;;;;;;;;;;;;KAEMsB,I;;;AAEF,mBAAYnH,WAAZ,EAAyB;AAAA;;AAAA;;AAErB,eAAKA,WAAL,GAAmBA,WAAnB;AACA,eAAKuF,MAAL,GAAc,EAAd,CAHqB,CAGH;AAClB,eAAKD,MAAL,GAAc,KAAd;AAJqB;AAKxB;;AAED;;;;;kCACSI,I,EAAM,CAEd;;AAED;;;;oCACWA,I,EAAM,CAAE;;;kCAEVD,K,EAAO,CAEf;;AAED;;;;kCACS,CAAE;;;mCAED;AACN;AACA,kBAAKzF,WAAL,CAAiBoH,UAAjB,CAA4B,IAA5B;AACH;;;;;;mBAIUD,I;;;;;;;;;;;;;;ACjCf;;;;;;;;;;;;AACA;AACA,KAAIvF,OAAO;;AAEV;AACAyF,SAAQ,EAHE;AAIVC,SAAO;AAJG,EAAX;;AAOA,KAAIC,OAAO,KAAX;AACA3F,MAAK4F,OAAL,GAAe,UAASC,QAAT,EAAmB;AACjC,OAAKJ,KAAL,CAAWK,IAAX,CAAgBD,QAAhB;AACA,EAFD;;AAIA7F,MAAK+F,UAAL,GAAkB,UAASF,QAAT,EAAmB;AACpC,MAAIG,QAAQ,KAAKP,KAAL,CAAWQ,OAAX,CAAmBJ,QAAnB,CAAZ;;AAEA,MAAIG,UAAU,CAAC,CAAf,EAAkB;AACjB,QAAKP,KAAL,CAAWS,MAAX,CAAkBF,KAAlB,EAAyB,CAAzB;AACA;AACD,EAND;AAOAhG,MAAKmG,IAAL,GAAa,YAAW;AACvB,MAAIC,MAAO,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAV;AACA,MAAIC,OAAOH,GAAX;AACA,MAAIV,KAAJ;AACA,SAAO,YAAW;AACjBA,WAAQU,MAAMG,IAAd;AACAb,WAAQA,QAAQ,GAAR,GAAc,EAAd,GAAoBA,QAAQ,EAAR,GAAY,EAAZ,GAAiBA,KAA7C;AACA1F,QAAK0F,KAAL,GAAaA,KAAb;AACAa,UAAOH,GAAP;;AAEApG,QAAKwG,WAAL,CAAiBd,KAAjB;AACA,OAAI,CAACC,IAAL,EAAW;AACVc,0BAAsBzG,KAAKmG,IAA3B;AACA;AACA;AACD,GAXD;AAYA,EAhBW,EAAZ;;AAmBAnG,MAAKC,KAAL,GAAa,YAAW;AACvB0F,SAAO,KAAP;AACA,OAAKQ,IAAL;AACA,EAHD;;AAKAnG,MAAK2F,IAAL,GAAY,YAAW;AACtBA,SAAO,IAAP;AACA,EAFD;;AAIA3F,MAAKwG,WAAL,GAAmB,UAASd,KAAT,EAAgB;;AAElC1F,OAAKyF,KAAL,CAAW7B,OAAX,CAAmB,UAASnD,IAAT,EAAe;AACjC,OAAI,CAACA,KAAKiG,MAAV,EAAkB;AACjBjG,SAAKkG,KAAL,CAAW/C,OAAX,CAAmB,UAASuC,IAAT,EAAe;AACjCA,UAAKS,EAAL,IAAWT,KAAKS,EAAL,CAAQlB,KAAR,CAAX;AACA,KAFD;AAGA;AACD,GAND;;AAQAmB,QAAM/D,MAAN;AACA,EAXD;;AAaA5E,QAAO8B,IAAP,GAAcA,IAAd;;AAEA;;KACM8G,I;;;AAEL,kBAAc;AAAA;;AAAA;;AAEb,SAAKH,KAAL,GAAa,EAAb;AACA,SAAKI,MAAL,GAAc,EAAd;AACA,SAAKL,MAAL,GAAc,KAAd;AACA1G,QAAK4F,OAAL;AALa;AAMb;;AAGD;;;;;;;6BAGU;AACT5F,SAAK+F,UAAL,CAAgB,IAAhB;AACA;;AAED;;;;;;;2BAIQa,E,EAAI;AACX,QAAIT,OAAO,EAAC,MAAMS,GAAGnC,IAAH,CAAQ,IAAR,CAAP,EAAX;;AAEA0B,SAAKO,MAAL,GAAc,KAAd;AACA,SAAKC,KAAL,CAAWb,IAAX,CAAgBK,IAAhB;AACA,WAAOA,IAAP;AACA;;;8BAEUA,I,EAAM;AAChB,QAAI,CAACA,IAAL,EAAW;AACV;AACA,UAAKQ,KAAL,GAAa,EAAb;AACA;AACA;;AAED,QAAIX,QAAQ,KAAKW,KAAL,CAAWV,OAAX,CAAmBE,IAAnB,CAAZ;;AAEA,QAAIH,UAAU,CAAC,CAAf,EAAkB;AACjB,UAAKW,KAAL,CAAWT,MAAX,CAAkBF,KAAlB,EAAyB,CAAzB;AACA;AACD;;AAED;;;;;;4BAGSgB,K,EAAO;AACf,SAAKD,MAAL,CAAYjB,IAAZ,CAAiBkB,KAAjB;AACA;;;+BAEWA,K,EAAO;AAClB,QAAI,CAACA,KAAL,EAAY;AACX;AACA,UAAKA,KAAL,GAAa,EAAb;AACA;AACA;;AAED,QAAIhB,QAAQ,KAAKe,MAAL,CAAYd,OAAZ,CAAoBe,KAApB,CAAZ;;AAEA,QAAIhB,UAAU,CAAC,CAAf,EAAkB;AACjB;AACA,UAAKe,MAAL,CAAYb,MAAZ,CAAmBF,KAAnB,EAA0B,CAA1B;AACA;AACD;;AAED;;;;0BACO;AACN,SAAKU,MAAL,GAAc,IAAd;AACA,SAAKK,MAAL,CAAYnD,OAAZ,CAAoB,UAASoD,KAAT,EAAgB;AACnCA,WAAMrB,IAAN;AACA,KAFD;AAGA;;;2BAEO;AACP,SAAKe,MAAL,GAAc,KAAd;AACA,SAAKK,MAAL,CAAYnD,OAAZ,CAAoB,UAASoD,KAAT,EAAgB;AACnCA,WAAM/G,KAAN;AACA,KAFD;AAGA;;;;;;AAGF/B,QAAO4I,IAAP,GAAcA,IAAd;;AAEA,MAAK,IAAI9B,IAAI,CAAb,EAAgBA,IAAI,KAApB,EAA2BA,KAAG,GAA9B,EAAmC;AAClC9G,SAAO,UAAU8G,CAAjB,IAAsB9G,OAAO+I,GAAP,KAAe,SAAf,GAA2B,CAA3B,GAA+BjC,CAArD;AACA;;mBAGc8B,I;;;;;;;;;;AC1Jf;;;;;;;AAOA,EAAE,WAAUI,OAAV,EAAmB;AACjB;;AAEA;;;;;;;AAMA,cAASC,YAAT,GAAwB,CAAE;;AAE1B;AACA,SAAIC,QAAQD,aAAaE,SAAzB;AACA,SAAIC,sBAAsBJ,QAAQC,YAAlC;;AAEA;;;;;;;;AAQA,cAASI,eAAT,CAAyBC,SAAzB,EAAoCC,QAApC,EAA8C;AAC1C,aAAIzC,IAAIwC,UAAUE,MAAlB;AACA,gBAAO1C,GAAP,EAAY;AACR,iBAAIwC,UAAUxC,CAAV,EAAayC,QAAb,KAA0BA,QAA9B,EAAwC;AACpC,wBAAOzC,CAAP;AACH;AACJ;;AAED,gBAAO,CAAC,CAAR;AACH;;AAED;;;;;;;AAOA,cAAS2C,KAAT,CAAelE,IAAf,EAAqB;AACjB,gBAAO,SAASmE,YAAT,GAAwB;AAC3B,oBAAO,KAAKnE,IAAL,EAAWoE,KAAX,CAAiB,IAAjB,EAAuBC,SAAvB,CAAP;AACH,UAFD;AAGH;;AAED;;;;;;;;;AASAV,WAAMW,YAAN,GAAqB,SAASA,YAAT,CAAsBC,GAAtB,EAA2B;AAC5C,aAAIC,SAAS,KAAKC,UAAL,EAAb;AACA,aAAIC,QAAJ;AACA,aAAIC,GAAJ;;AAEA;AACA;AACA,aAAIJ,eAAeK,MAAnB,EAA2B;AACvBF,wBAAW,EAAX;AACA,kBAAKC,GAAL,IAAYH,MAAZ,EAAoB;AAChB,qBAAIA,OAAOK,cAAP,CAAsBF,GAAtB,KAA8BJ,IAAIO,IAAJ,CAASH,GAAT,CAAlC,EAAiD;AAC7CD,8BAASC,GAAT,IAAgBH,OAAOG,GAAP,CAAhB;AACH;AACJ;AACJ,UAPD,MAQK;AACDD,wBAAWF,OAAOD,GAAP,MAAgBC,OAAOD,GAAP,IAAc,EAA9B,CAAX;AACH;;AAED,gBAAOG,QAAP;AACH,MApBD;;AAsBA;;;;;;AAMAf,WAAMoB,gBAAN,GAAyB,SAASA,gBAAT,CAA0BhB,SAA1B,EAAqC;AAC1D,aAAIiB,gBAAgB,EAApB;AACA,aAAIzD,CAAJ;;AAEA,cAAKA,IAAI,CAAT,EAAYA,IAAIwC,UAAUE,MAA1B,EAAkC1C,KAAK,CAAvC,EAA0C;AACtCyD,2BAAc3C,IAAd,CAAmB0B,UAAUxC,CAAV,EAAayC,QAAhC;AACH;;AAED,gBAAOgB,aAAP;AACH,MATD;;AAWA;;;;;;AAMArB,WAAMsB,oBAAN,GAA6B,SAASA,oBAAT,CAA8BV,GAA9B,EAAmC;AAC5D,aAAIR,YAAY,KAAKO,YAAL,CAAkBC,GAAlB,CAAhB;AACA,aAAIG,QAAJ;;AAEA,aAAIX,qBAAqBmB,KAAzB,EAAgC;AAC5BR,wBAAW,EAAX;AACAA,sBAASH,GAAT,IAAgBR,SAAhB;AACH;;AAED,gBAAOW,YAAYX,SAAnB;AACH,MAVD;;AAYA,cAASoB,eAAT,CAA0BnB,QAA1B,EAAoC;AAChC,aAAI,OAAOA,QAAP,KAAoB,UAApB,IAAkCA,oBAAoBY,MAA1D,EAAkE;AAC9D,oBAAO,IAAP;AACH,UAFD,MAEO,IAAIZ,YAAY,QAAOA,QAAP,yCAAOA,QAAP,OAAoB,QAApC,EAA8C;AACjD,oBAAOmB,gBAAgBnB,SAASA,QAAzB,CAAP;AACH,UAFM,MAEA;AACH,oBAAO,KAAP;AACH;AACJ;;AAED;;;;;;;;;;AAUAL,WAAMyB,WAAN,GAAoB,SAASA,WAAT,CAAqBb,GAArB,EAA0BP,QAA1B,EAAoC;AACpD,aAAI,CAACmB,gBAAgBnB,QAAhB,CAAL,EAAgC;AAC5B,mBAAM,IAAIqB,SAAJ,CAAc,6BAAd,CAAN;AACH;;AAED,aAAItB,YAAY,KAAKkB,oBAAL,CAA0BV,GAA1B,CAAhB;AACA,aAAIe,oBAAoB,QAAOtB,QAAP,yCAAOA,QAAP,OAAoB,QAA5C;AACA,aAAIW,GAAJ;;AAEA,cAAKA,GAAL,IAAYZ,SAAZ,EAAuB;AACnB,iBAAIA,UAAUc,cAAV,CAAyBF,GAAzB,KAAiCb,gBAAgBC,UAAUY,GAAV,CAAhB,EAAgCX,QAAhC,MAA8C,CAAC,CAApF,EAAuF;AACnFD,2BAAUY,GAAV,EAAetC,IAAf,CAAoBiD,oBAAoBtB,QAApB,GAA+B;AAC/CA,+BAAUA,QADqC;AAE/CuB,2BAAM;AAFyC,kBAAnD;AAIH;AACJ;;AAED,gBAAO,IAAP;AACH,MAnBD;;AAqBA;;;AAGA5B,WAAM6B,EAAN,GAAWtB,MAAM,aAAN,CAAX;;AAEA;;;;;;;;AAQAP,WAAM8B,eAAN,GAAwB,SAASA,eAAT,CAAyBlB,GAAzB,EAA8BP,QAA9B,EAAwC;AAC5D,gBAAO,KAAKoB,WAAL,CAAiBb,GAAjB,EAAsB;AACzBP,uBAAUA,QADe;AAEzBuB,mBAAM;AAFmB,UAAtB,CAAP;AAIH,MALD;;AAOA;;;AAGA5B,WAAM4B,IAAN,GAAarB,MAAM,iBAAN,CAAb;;AAEA;;;;;;;AAOAP,WAAM+B,WAAN,GAAoB,SAASA,WAAT,CAAqBnB,GAArB,EAA0B;AAC1C,cAAKD,YAAL,CAAkBC,GAAlB;AACA,gBAAO,IAAP;AACH,MAHD;;AAKA;;;;;;AAMAZ,WAAMgC,YAAN,GAAqB,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AAC7C,cAAK,IAAIrE,IAAI,CAAb,EAAgBA,IAAIqE,KAAK3B,MAAzB,EAAiC1C,KAAK,CAAtC,EAAyC;AACrC,kBAAKmE,WAAL,CAAiBE,KAAKrE,CAAL,CAAjB;AACH;AACD,gBAAO,IAAP;AACH,MALD;;AAOA;;;;;;;;AAQAoC,WAAMkC,cAAN,GAAuB,SAASA,cAAT,CAAwBtB,GAAxB,EAA6BP,QAA7B,EAAuC;AAC1D,aAAID,YAAY,KAAKkB,oBAAL,CAA0BV,GAA1B,CAAhB;AACA,aAAIhC,KAAJ;AACA,aAAIoC,GAAJ;;AAEA,cAAKA,GAAL,IAAYZ,SAAZ,EAAuB;AACnB,iBAAIA,UAAUc,cAAV,CAAyBF,GAAzB,CAAJ,EAAmC;AAC/BpC,yBAAQuB,gBAAgBC,UAAUY,GAAV,CAAhB,EAAgCX,QAAhC,CAAR;;AAEA,qBAAIzB,UAAU,CAAC,CAAf,EAAkB;AACdwB,+BAAUY,GAAV,EAAelC,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B;AACH;AACJ;AACJ;;AAED,gBAAO,IAAP;AACH,MAhBD;;AAkBA;;;AAGAoB,WAAMmC,GAAN,GAAY5B,MAAM,gBAAN,CAAZ;;AAEA;;;;;;;;;;AAUAP,WAAMoC,YAAN,GAAqB,SAASA,YAAT,CAAsBxB,GAAtB,EAA2BR,SAA3B,EAAsC;AACvD;AACA,gBAAO,KAAKiC,mBAAL,CAAyB,KAAzB,EAAgCzB,GAAhC,EAAqCR,SAArC,CAAP;AACH,MAHD;;AAKA;;;;;;;;;;AAUAJ,WAAMsC,eAAN,GAAwB,SAASA,eAAT,CAAyB1B,GAAzB,EAA8BR,SAA9B,EAAyC;AAC7D;AACA,gBAAO,KAAKiC,mBAAL,CAAyB,IAAzB,EAA+BzB,GAA/B,EAAoCR,SAApC,CAAP;AACH,MAHD;;AAKA;;;;;;;;;;;;AAYAJ,WAAMqC,mBAAN,GAA4B,SAASA,mBAAT,CAA6BE,MAA7B,EAAqC3B,GAArC,EAA0CR,SAA1C,EAAqD;AAC7E,aAAIxC,CAAJ;AACA,aAAI4E,KAAJ;AACA,aAAIC,SAASF,SAAS,KAAKL,cAAd,GAA+B,KAAKT,WAAjD;AACA,aAAIiB,WAAWH,SAAS,KAAKD,eAAd,GAAgC,KAAKF,YAApD;;AAEA;AACA,aAAI,QAAOxB,GAAP,yCAAOA,GAAP,OAAe,QAAf,IAA2B,EAAEA,eAAeK,MAAjB,CAA/B,EAAyD;AACrD,kBAAKrD,CAAL,IAAUgD,GAAV,EAAe;AACX,qBAAIA,IAAIM,cAAJ,CAAmBtD,CAAnB,MAA0B4E,QAAQ5B,IAAIhD,CAAJ,CAAlC,CAAJ,EAA+C;AAC3C;AACA,yBAAI,OAAO4E,KAAP,KAAiB,UAArB,EAAiC;AAC7BC,gCAAOE,IAAP,CAAY,IAAZ,EAAkB/E,CAAlB,EAAqB4E,KAArB;AACH,sBAFD,MAGK;AACD;AACAE,kCAASC,IAAT,CAAc,IAAd,EAAoB/E,CAApB,EAAuB4E,KAAvB;AACH;AACJ;AACJ;AACJ,UAbD,MAcK;AACD;AACA;AACA;AACA5E,iBAAIwC,UAAUE,MAAd;AACA,oBAAO1C,GAAP,EAAY;AACR6E,wBAAOE,IAAP,CAAY,IAAZ,EAAkB/B,GAAlB,EAAuBR,UAAUxC,CAAV,CAAvB;AACH;AACJ;;AAED,gBAAO,IAAP;AACH,MAhCD;;AAkCA;;;;;;;;;AASAoC,WAAM4C,WAAN,GAAoB,SAASA,WAAT,CAAqBhC,GAArB,EAA0B;AAC1C,aAAIiC,cAAcjC,GAAd,yCAAcA,GAAd,CAAJ;AACA,aAAIC,SAAS,KAAKC,UAAL,EAAb;AACA,aAAIE,GAAJ;;AAEA;AACA,aAAI6B,SAAS,QAAb,EAAuB;AACnB;AACA,oBAAOhC,OAAOD,GAAP,CAAP;AACH,UAHD,MAIK,IAAIA,eAAeK,MAAnB,EAA2B;AAC5B;AACA,kBAAKD,GAAL,IAAYH,MAAZ,EAAoB;AAChB,qBAAIA,OAAOK,cAAP,CAAsBF,GAAtB,KAA8BJ,IAAIO,IAAJ,CAASH,GAAT,CAAlC,EAAiD;AAC7C,4BAAOH,OAAOG,GAAP,CAAP;AACH;AACJ;AACJ,UAPI,MAQA;AACD;AACA,oBAAO,KAAK8B,OAAZ;AACH;;AAED,gBAAO,IAAP;AACH,MAxBD;;AA0BA;;;;;AAKA9C,WAAM+C,kBAAN,GAA2BxC,MAAM,aAAN,CAA3B;;AAEA;;;;;;;;;;;;AAYAP,WAAMgD,SAAN,GAAkB,SAASA,SAAT,CAAmBpC,GAAnB,EAAwBqC,IAAxB,EAA8B;AAC5C,aAAIC,eAAe,KAAK5B,oBAAL,CAA0BV,GAA1B,CAAnB;AACA,aAAIR,SAAJ;AACA,aAAIC,QAAJ;AACA,aAAIzC,CAAJ;AACA,aAAIoD,GAAJ;AACA,aAAID,QAAJ;;AAEA,cAAKC,GAAL,IAAYkC,YAAZ,EAA0B;AACtB,iBAAIA,aAAahC,cAAb,CAA4BF,GAA5B,CAAJ,EAAsC;AAClCZ,6BAAY8C,aAAalC,GAAb,EAAkBmC,KAAlB,CAAwB,CAAxB,CAAZ;;AAEA,sBAAKvF,IAAI,CAAT,EAAYA,IAAIwC,UAAUE,MAA1B,EAAkC1C,GAAlC,EAAuC;AACnC;AACA;AACAyC,gCAAWD,UAAUxC,CAAV,CAAX;;AAEA,yBAAIyC,SAASuB,IAAT,KAAkB,IAAtB,EAA4B;AACxB,8BAAKM,cAAL,CAAoBtB,GAApB,EAAyBP,SAASA,QAAlC;AACH;;AAEDU,gCAAWV,SAASA,QAAT,CAAkBI,KAAlB,CAAwB,IAAxB,EAA8BwC,QAAQ,EAAtC,CAAX;;AAEA,yBAAIlC,aAAa,KAAKqC,mBAAL,EAAjB,EAA6C;AACzC,8BAAKlB,cAAL,CAAoBtB,GAApB,EAAyBP,SAASA,QAAlC;AACH;AACJ;AACJ;AACJ;;AAED,gBAAO,IAAP;AACH,MA/BD;;AAiCA;;;AAGAL,WAAMqD,OAAN,GAAgB9C,MAAM,WAAN,CAAhB;;AAEA;;;;;;;;AAQAP,WAAMsD,IAAN,GAAa,SAASA,IAAT,CAAc1C,GAAd,EAAmB;AAC5B,aAAIqC,OAAO1B,MAAMtB,SAAN,CAAgBkD,KAAhB,CAAsBR,IAAtB,CAA2BjC,SAA3B,EAAsC,CAAtC,CAAX;AACA,gBAAO,KAAKsC,SAAL,CAAepC,GAAf,EAAoBqC,IAApB,CAAP;AACH,MAHD;;AAKA;;;;;;;;AAQAjD,WAAMuD,kBAAN,GAA2B,SAASA,kBAAT,CAA4Bf,KAA5B,EAAmC;AAC1D,cAAKgB,gBAAL,GAAwBhB,KAAxB;AACA,gBAAO,IAAP;AACH,MAHD;;AAKA;;;;;;;;AAQAxC,WAAMoD,mBAAN,GAA4B,SAASA,mBAAT,GAA+B;AACvD,aAAI,KAAKlC,cAAL,CAAoB,kBAApB,CAAJ,EAA6C;AACzC,oBAAO,KAAKsC,gBAAZ;AACH,UAFD,MAGK;AACD,oBAAO,IAAP;AACH;AACJ,MAPD;;AASA;;;;;;AAMAxD,WAAMc,UAAN,GAAmB,SAASA,UAAT,GAAsB;AACrC,gBAAO,KAAKgC,OAAL,KAAiB,KAAKA,OAAL,GAAe,EAAhC,CAAP;AACH,MAFD;;AAIA;;;;;AAKA/C,kBAAa0D,UAAb,GAA0B,SAASA,UAAT,GAAsB;AAC5C3D,iBAAQC,YAAR,GAAuBG,mBAAvB;AACA,gBAAOH,YAAP;AACH,MAHD;;AAKA;AACA,SAAI,IAAJ,EAAgD;AAC5C2D,SAAA,kCAAO,YAAY;AACf,oBAAO3D,YAAP;AACH,UAFD;AAGH,MAJD,MAKK,IAAI,QAAO4D,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8BA,OAAO7D,OAAzC,EAAiD;AAClD6D,gBAAO7D,OAAP,GAAiBC,YAAjB;AACH,MAFI,MAGA;AACDD,iBAAQC,YAAR,GAAuBA,YAAvB;AACH;AACJ,EA9dC,EA8dA,aAAQ,EA9dR,CAAD,C;;;;;;;;;;;;;;ACPD;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;KAGM6D,U;;;AAEL,wBAAc;AAAA;;AAEb;AACA;;AAHa;;AAKb,SAAKC,iBAAL,GAAyB,2BAAzB;;AAEA,SAAKC,SAAL,GAAiB,qBAAUC,QAA3B;AACA,SAAK/H,IAAL;;AAEA;AAVa;AAWb;;;;0BAEM;AACN;AACA,QAAIgI,kBAAkBC,EAAE,kBAAF,CAAtB;AACA,QAAIC,aAAa,EAAjB;AACA,yBAAUH,QAAV,CAAmBvH,OAAnB,CAA2B,UAAS2H,OAAT,EAAkB;AAC5CD,+CAAwCC,QAAQ9H,IAAhD,UAAyD8H,QAAQ9H,IAAjE;AACA,KAFD;AAGA2H,oBAAgBI,IAAhB,CAAqBF,UAArB;AACA,SAAKG,UAAL;AACA;;;gCAEY;AACZ,QAAIC,OAAO,IAAX;AACA,QAAIC,cAAcN,EAAE,aAAF,CAAlB;AACA,QAAIO,MAAMP,EAAE,iBAAF,CAAV;AACA,QAAIQ,gBAAgBR,EAAE,iCAAF,CAApB;AACAA,MAAE,aAAF,EAAiBpC,EAAjB,CAAoB,OAApB,EAA6B,qBAA7B,EAAoD,YAAW;AAC9D,SAAI,CAACyC,KAAKlN,QAAV,EAAoB;AACpB,SAAIsN,cAAcT,EAAE,IAAF,EAAQvH,IAAR,CAAa,aAAb,CAAlB;;AAEA4H,UAAKT,iBAAL,CAAuBc,MAAvB,CAA8BD,WAA9B;AACA,KALD;;AAOAJ,SAAKT,iBAAL,CAAuBpC,WAAvB,CAAmC,iBAAnC,EAAsD,UAASmD,UAAT,EAAqB;AAC1EH,mBAAcI,WAAd,CAA0B,UAA1B;AACAD,gBAAWpI,OAAX,CAAmB,UAACsI,QAAD;AAAA,aAAYL,cAAcM,MAAd,yBAA2CD,SAASzI,IAApD,QAA6D2I,QAA7D,CAAsE,UAAtE,CAAZ;AAAA,MAAnB;AACAP,mBAAcM,MAAd,CAAqB,WAArB,EAAkCzE,MAAlC,GAAyCkE,IAAIQ,QAAJ,CAAa,UAAb,CAAzC,GAAkER,IAAIK,WAAJ,CAAgB,UAAhB,CAAlE;AACA,KAJD;AAKAZ,MAAE,aAAF,EAAiBpC,EAAjB,CAAoB,OAApB,EAA6B,0BAA7B,EAAyD,YAAW;AACnE;;AAEA;AACA;;AAEA,SAAIoD,eAAeX,KAAKT,iBAAL,CAAuBqB,WAAvB,GAAqCxH,GAArC,CAAyC;AAAA,aAAQ,EAAC,QAAQyH,MAAM9I,IAAf,EAAqB,YAAY8I,MAAMC,IAAN,CAAW/K,QAAX,CAAoBgL,KAApB,EAAjC,EAAR;AAAA,MAAzC,CAAnB;;AAEAtO,QAAGC,WAAH,CAAe4E,YAAf,CAA4B,SAA5B,EAAuC,EAAC0J,SAASL,YAAV,EAAvC;AACAX,UAAK5M,UAAL;AACA;AACA,KAXD;AAYA;;;8BAEU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,QAAI,CAAC,KAAKmM,iBAAL,CAAuB0B,MAA5B,EAAoC;AACnC,UAAK1B,iBAAL,CAAuB7H,IAAvB;AACA;AACD,SAAK6H,iBAAL,CAAuB2B,KAAvB;;AAEA;AAEA;;;gCAGY;AACZ,SAAK3B,iBAAL,CAAuB4B,KAAvB;;AAEAxB,MAAE,aAAF,EAAiBe,QAAjB,CAA0B,YAA1B;AACA;;;;;;mBAIapB,U;;;;;;;;;;;;;;AC/Ff;;;;AACA;;;;;;;;;;;;AAEA;KACM8B,W;;;AAEL,yBAAc;AAAA;;AAAA;;AAEb,SAAKH,MAAL,GAAc,KAAd;AACA,SAAKI,OAAL;;AAEA,SAAKC,UAAL,GAAkB,IAAIhO,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAlB;AACA,SAAKqL,YAAL,GAAoB,IAAIjO,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB,GAArB,EAA0B,GAA1B,CAApB;;AAEA,SAAKsJ,SAAL,GAAiB,EAAjB,CARa,CAQQ;;AAErB,SAAKgC,EAAL;AACA,SAAKC,SAAL;;AAEA;AACA,SAAKC,aAAL;AAda;AAeb;;AAED;;;;;0BACO;AACN,SAAKA,aAAL,GAAqB,IAAIpO,MAAMqO,YAAV,EAArB;;AAEA,SAAKC,UAAL;AACA,SAAKC,iBAAL,GAJM,CAIoB;;;AAIpB,SAAKZ,MAAL,GAAc,IAAd;AACN;;;2BAEO;;AAEPa,WAAOC,IAAP,CAAY,KAAKV,OAAjB,EAA0BnJ,OAA1B,CAAkC,UAAS8J,CAAT,EAAY;AAAEvP,QAAGmC,KAAH,CAASuB,GAAT,CAAa,KAAKkL,OAAL,CAAaW,CAAb,CAAb;AAA+B,KAA7C,CAA8CjJ,IAA9C,CAAmD,IAAnD,CAAlC;;AAEA,SAAKvD,MAAL,CAAYO,QAAZ,CAAqBkM,IAArB,CAA0B,KAAKV,YAA/B;AACA,SAAK/L,MAAL,CAAYS,MAAZ,CAAmB,KAAKqL,UAAxB;AACA,SAAKG,SAAL,GAAiB,IAAInO,MAAM4O,iBAAV,CAA4B,KAAK1M,MAAjC,EAAyC/C,GAAG+B,QAAH,CAAYS,UAArD,CAAjB;AACA,SAAKwM,SAAL,CAAeU,YAAf,GAA8B,IAA9B;;AAGA;;AAEA,SAAKC,gBAAL,CAAsB,KAAKf,OAAL,CAAagB,WAAb,CAAyBC,QAA/C,EAAyD;AACxDC,uBAAkB,IADsC;AAExDC,+BAA0B;AAF8B,KAAzD,EAGG,IAHH,EAGSjO,KAHT;;AAOA,QAAIkO,YAAY,YAAW;AAC1B,SAAIF,mBAAmB,KAAKlB,OAAL,CAAaqB,SAAb,CAAuBJ,QAAvB,CAAgCK,QAAhC,CAAyCC,CAAzC,CAA2C1E,KAA3C,KAAqD,GAArD,GAA2D,GAA3D,GAAiE,GAAxF;AACA,SAAI2E,iBAAiB,KAAKT,gBAAL,CAAsB,KAAKf,OAAL,CAAaqB,SAAb,CAAuBJ,QAA7C,EAAuD;AAC3EC,wBAAkBA;AADyD,MAAvD,EAElB,IAFkB,EAEZ;AACRO,gBADQ,wBACK;AAAEL;AAAY;AADnB,MAFY,EAIlBlO,KAJkB,EAArB;AAKA,KAPe,CAOdwE,IAPc,CAOT,IAPS,CAAhB;;AASA0J;;AAEA;AACA,SAAKjB,EAAL,GAAU,KAAKrK,OAAL,CAAa,UAAS6C,KAAT,EAAgB;AACtC,UAAKyH,SAAL,CAAerK,MAAf,CAAsB4C,KAAtB;;AAEA,SAAI+I,iBAAJ;;AAEAtQ,QAAGmC,KAAH,CAASoO,QAAT,CAAkB,UAASC,MAAT,EAAiB;AAClC,UAAIA,OAAOX,QAAP,IAAmBW,OAAOX,QAAP,YAA2BhP,MAAM4P,cAAxD,EAAwE;AACvED,cAAOX,QAAP,CAAgBK,QAAhB,CAAyBQ,UAAzB,CAAoCjF,KAApC,GACA,IAAI5K,MAAM4C,OAAV,GAAoBkN,UAApB,CAA+B,KAAK5N,MAAL,CAAYO,QAA3C,EAAqDkN,OAAOlN,QAA5D,CADA;AAEA;AACD,MALiB,CAKhBgD,IALgB,CAKX,IALW,CAAlB;AAMA,KAXS,CAAV;;AAaA;AACA,QAAIsK,MAAM,IAAIC,IAAIC,GAAR,EAAV;AACA,QAAIC,aAAa,EAAEC,GAAG,GAAL,EAAUb,GAAG,GAAb,EAAjB;AACA,QAAIc,OAAOL,IAAIlN,GAAJ,CAASqN,UAAT,EAAqB,GAArB,EAA2BG,GAA3B,CAA+B,GAA/B,EAAoCC,GAApC,CAAwC,GAAxC,EAA6CC,IAA7C,CAAkD,IAAlD,EAAwD9L,IAAxD,CAA6D,GAA7D,EAAkE+L,MAAlE,EAAX;AACAJ,SAAKK,QAAL,CACI,UAAS7F,KAAT,EAAgB;AAClB8F,cAASR,WAAWZ,CAApB,EAAuBY,WAAWC,CAAlC;AACG,KAHL;;AAMA,QAAIQ,OAAOZ,IAAIlN,GAAJ,CAAQqN,UAAR,EAAoB,GAApB,EAAyBG,GAAzB,CAA6B,GAA7B,EAAkCC,GAAlC,CAAsC,GAAtC,EAA2CC,IAA3C,CAAgD,IAAhD,EAAsD9L,IAAtD,CAA2D,GAA3D,EAAgE+L,MAAhE,EAAX;AACAG,SAAKF,QAAL,CACI,UAAS7F,KAAT,EAAgB;AAClB8F,cAASR,WAAWZ,CAApB,EAAuBY,WAAWC,CAAlC;AACG,KAHL;;AAMA,aAASO,QAAT,CAAkBpB,CAAlB,EAAqBa,CAArB,EAAwB;AACvBhR,QAAGmC,KAAH,CAASoO,QAAT,CAAkB,UAASC,MAAT,EAAiB;AAClC,UAAIA,OAAOX,QAAP,IAAmBW,OAAOX,QAAP,YAA2BhP,MAAM4P,cAAxD,EAAwE;AACvED,cAAOX,QAAP,CAAgBK,QAAhB,CAAyB,GAAzB,EAA8BzE,KAA9B,GAAsC0E,CAAtC;AACAK,cAAOX,QAAP,CAAgBK,QAAhB,CAAyB,GAAzB,EAA8BzE,KAA9B,GAAsCuF,CAAtC;AACA;AACD,MALD;AAMA;AACD;;;iCAEaS,Y,EAAc;AAC3B,SAAK1E,SAAL,CAAetH,OAAf,CAAuB,UAASiM,QAAT,EAAmB,CAEzC,CAFD;AAGA;;;2BAEO;AACP;AACA,SAAKC,UAAL;AACA;;;kCAEcC,S,EAAWC,O,EAAS;AAClC,QAAIC,QAAQC,wBAAwBH,SAAxB,CAAZ;AACA,QAAII,iBAAiB;AACXC,aAAQ,CADG;AAEXC,qBAAgB,CAFL;AAGXC,gBAAW,CAHA;AAIXC,oBAAe,EAJJ;AAKXC,mBAAc,KALH;AAMXC,oBAAe,EANJ;AAOXC,YAAO;AAPI,KAArB;AASM,QAAIC,OAAJ;;AAEAX,cAAU3E,EAAEuF,MAAF,CAAS,EAAT,EAAaT,cAAb,EAA6BH,OAA7B,CAAV;AACNW,cAAU,IAAI3R,MAAM6R,eAAV,CAA0BZ,KAA1B,EAAiCD,OAAjC,CAAV;AACMW,YAAQG,MAAR;AACA,WAAOH,OAAP;AACN;;;gCAEY;;AAEZ;AACA,QAAII,eAAe,IAAI/R,MAAMgS,gBAAV,CAA2B,GAA3B,EAAgC,GAAhC,EAAqC,CAArC,EAAwC,GAAxC,CAAnB;AACA,QAAIC,mBAAmB,IAAIjS,MAAMkS,iBAAV,CAA4B,EAACC,OAAO,QAAR,EAA5B,CAAvB;;AAEAF,qBAAiBG,WAAjB,GAA+B,IAA/B;AACAH,qBAAiBrM,OAAjB,GAA2B,GAA3B;AACAqM,qBAAiBI,eAAjB,GAAmC,GAAnC;AACA;AACAJ,qBAAiBK,SAAjB,GAA6B,KAA7B;AACAL,qBAAiBM,QAAjB,GAA4B,IAAIvS,MAAMwS,KAAV,CAAgB,uBAAhB,CAA5B;;AAEA,QAAIC,WAAW,IAAIzS,MAAM0S,IAAV,CAAeX,YAAf,EAA6BE,gBAA7B,CAAf;AACAQ,aAAShQ,QAAT,CAAkBC,GAAlB,CAAsB,CAAtB,EAAyB,EAAzB,EAA6B,CAA7B;;AAGA,QAAIiQ,kBAAkB,IAAI3S,MAAMgS,gBAAV,CAA2B,GAA3B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,GAAxC,EAA6C,EAA7C,CAAtB;AACA,QAAIY,sBAAsB,IAAI5S,MAAM6S,mBAAV,CAA8B,EAACV,OAAO,QAAR,EAAiB,QAAQnS,MAAM8S,UAA/B,EAA2C,YAAY,QAAvD,EAA9B,CAA1B;AACA,QAAIC,cAAc,IAAI/S,MAAM0S,IAAV,CAAeC,eAAf,EAAgCC,mBAAhC,CAAlB;AACAG,gBAAYtQ,QAAZ,CAAqBC,GAArB,CAAyB,CAAzB,EAA4B,EAA5B,EAAgC,CAAhC;;AAEA,SAAKqL,OAAL,CAAa0E,QAAb,GAAwBA,QAAxB;AACA,SAAK1E,OAAL,CAAagF,WAAb,GAA2BA,WAA3B;;AAEA,QAAIC,oBAAoB,IAAIhT,MAAMqO,YAAV,CAAuB,EAAC8B,GAAG,IAAJ,EAAUb,GAAG,CAAb,EAAgB6C,OAAO,IAAInS,MAAMwS,KAAV,CAAgB,QAAhB,CAAvB,EAAvB,CAAxB;AACA,QAAIS,gBAAgB,IAAIjT,MAAMgS,gBAAV,CAA2B,GAA3B,EAAgC,IAAhC,EAAsC,CAAtC,EAAyC,GAAzC,EAA8C,EAA9C,CAApB;AACA,QAAI5C,YAAY,IAAIpP,MAAM0S,IAAV,CAAeO,aAAf,EAA8BD,iBAA9B,CAAhB;AACA5D,cAAU3M,QAAV,CAAmBC,GAAnB,CAAuB,CAAvB,EAA0B,EAA1B,EAA8B,CAA9B;;AAEA,SAAKqL,OAAL,CAAa0E,QAAb,GAAwBA,QAAxB;AACA,SAAK1E,OAAL,CAAagF,WAAb,GAA2BA,WAA3B;AACA,SAAKhF,OAAL,CAAaqB,SAAb,GAAyBA,SAAzB;;AAEA;AACA,QAAI2B,YAAY,qBAAUmC,IAA1B;AACA,QAAIlC,UAAU;AACJI,aAAQ,CADJ;AAEJC,qBAAgB,GAFZ;AAGJC,gBAAW,GAHP;AAIJC,oBAAe,EAJX;AAKJC,mBAAc,IALV;AAMJC,oBAAe,EANX;AAOJC,YAAO;AAPH,KAAd;AASM,QAAIC,UAAU,KAAKwB,cAAL,CAAoBpC,SAApB,EAA+BC,OAA/B,CAAd;AACAW,YAAQyB,kBAAR;AACAzB,YAAQ0B,SAAR,CAAkB,CAAlB,EAAqB,CAAC1B,QAAQ2B,WAAR,CAAoBhD,GAApB,CAAwBiD,CAA9C,EAAiD,CAAjD;AACA5B,YAAQ6B,OAAR,CAAgBC,KAAKC,EAArB;;AAEA,QAAIC,cAAc,IAAI3T,MAAMkS,iBAAV,CAA4B,EAACC,OAAO,QAAR,EAAkBG,WAAW,GAA7B,EAAkCsB,OAAO,IAAzC,EAA+CC,WAAW,IAA1D,EAA5B,CAAlB;AACA,QAAIC,UAAU,IAAI9T,MAAM0S,IAAV,CAAef,OAAf,EAAwBgC,WAAxB,CAAd;AACAG,YAAQrR,QAAR,CAAiBC,GAAjB,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,GAA3B;AACA,SAAKqL,OAAL,CAAagG,OAAb,GAAuBD,OAAvB;;AAGA,QAAIE,eAAe,IAAIhU,MAAMqO,YAAV,CAAuB,EAAC8B,GAAG,IAAJ,EAAUb,GAAG,CAAb,EAAgB6C,OAAO,QAAvB,EAAvB,CAAnB;AACA,QAAIpD,cAAc,IAAI/O,MAAM0S,IAAV,CAAef,QAAQlE,KAAR,EAAf,EAAgCuG,YAAhC,CAAlB;AACNjF,gBAAYtM,QAAZ,CAAqBkM,IAArB,CAA0BmF,QAAQrR,QAAlC;AACAsM,gBAAYkF,KAAZ,CAAkBC,cAAlB,CAAiC,GAAjC;AACA;;AAEA;;AAEA;AACA,QAAIC,iBAAiB,EAArB;AACA,QAAIC,YAAY,GAAhB;AACA,QAAIC,aAAaF,iBAAiBC,SAAlC;AACA,QAAIE,cAAcH,iBAAiBC,SAAnC;AACA,QAAIG,YAAY,IAAIvU,MAAMwU,aAAV,CAAwBH,UAAxB,EAAoCC,WAApC,EAAiDH,cAAjD,EAAiEA,cAAjE,CAAhB;AACA,QAAInF,WAAW,IAAIhP,MAAMkS,iBAAV,CAA6B,EAACC,OAAO,QAAR,EAAkBsC,MAAMzU,MAAM8S,UAA9B,EAA7B,CAAf;AACA;AACA,QAAI4B,QAAQ,IAAI1U,MAAM0S,IAAV,CAAgB6B,SAAhB,EAA2BvF,QAA3B,CAAZ;AACA0F,UAAMC,QAAN,CAAeC,CAAf,GAAmBnB,KAAKC,EAAL,GAAU,GAA7B;AACAgB,UAAMjS,QAAN,CAAe8Q,CAAf,IAAoB,CAApB;AACA,SAAKxF,OAAL,CAAa2G,KAAb,GAAqBA,KAArB;;AAGA;AACA,QAAIG,YAAY,IAAI7U,MAAM8U,KAAV,EAAhB;AACA,QAAIC,eAAe,IAAI/U,MAAMkS,iBAAV,CAA4B,EAACC,OAAO,QAAR,EAAkBsC,MAAMzU,MAAM8S,UAA9B,EAA5B,CAAnB;AACA,QAAIiC,eAAe,KAAK3G,aAAL,CAAmBX,KAAnB,EAAnB;AACA,QAAIuH,QAAJ;;AAGA,SAAK,IAAIhP,IAAI,CAAb,EAAgBA,IAAImO,cAApB,EAAoCnO,GAApC,EAAyC;AACxC,UAAK,IAAIiP,IAAI,CAAb,EAAgBA,IAAId,cAApB,EAAoCc,GAApC,EAAyC;AACxC,UAAMjP,IAAI,CAAJ,IAAS,EAAEiP,IAAI,CAAN,CAAV,IAAwB,EAAEjP,IAAI,CAAN,KAAYiP,IAAI,CAA7C,EAAkD;AACjDD,kBAAW,IAAIhV,MAAM0S,IAAV,CACV,IAAI1S,MAAMwU,aAAV,CAAwBJ,SAAxB,EAAmCA,SAAnC,EAA8C,CAA9C,EAAiD,CAAjD,CADU,EAEVW,YAFU,CAAX;AAIAC,gBAASE,QAAT,CAAkBC,KAAlB,GAA0B,EAACP,GAAG5O,CAAJ,EAAOuN,GAAG0B,CAAV,EAA1B;AACAD,gBAASL,QAAT,CAAkBC,CAAlB,GAAsB,CAACnB,KAAKC,EAAN,GAAW,GAAjC;AACAsB,gBAASvS,QAAT,CAAkBC,GAAlB,CAAsBsD,IAAIoO,SAAJ,GAAgBC,aAAW,CAAjD,EAAoD,GAApD,EAAyDY,IAAIb,SAAJ,GAAgBE,cAAY,CAArF;AACAO,iBAAUhS,GAAV,CAAcmS,QAAd;AACA;AACD;AACD;AACD,SAAKjH,OAAL,CAAa8G,SAAb,GAAyBA,SAAzB;;AAGA;AACA,QAAIO,gBAAgB,EAApB;AACA,QAAIC,YAAYhB,aAAae,aAA7B;;AAIA;AACM,QAAIE,wBAAwB,SAA5B;AACA,QAAIC,mBAAmB,IAAIvV,MAAMwV,gBAAV,CAA2BF,qBAA3B,CAAvB;AACAC,qBAAiB9Q,IAAjB,GAAwB,KAAKA,IAAL,GAAY,mBAApC;AACA8Q,qBAAiB9S,QAAjB,CAA0BC,GAA1B,CAA8B,CAAC,GAA/B,EAAoC,EAApC,EAAwC,EAAxC;AACA6S,qBAAiBE,UAAjB,GAA8B,IAA9B;AACAF,qBAAiBG,gBAAjB,GAAoC,CAApC;AACAH,qBAAiBI,eAAjB,GAAmC,GAAnC;AACAJ,qBAAiBK,gBAAjB,GAAoC,CAAC,GAArC;AACAL,qBAAiBM,iBAAjB,GAAqC,GAArC;AACAN,qBAAiBO,eAAjB,GAAmC,GAAnC;AACAP,qBAAiBQ,kBAAjB,GAAsC,CAAC,GAAvC;;AAEAR,qBAAiBS,QAAjB,GAA4B,CAA5B;AACAT,qBAAiB/S,SAAjB,GAA6B,GAA7B;AACA+S,qBAAiBU,eAAjB,GAAmC,IAAnC;AACAV,qBAAiBW,cAAjB,GAAkC,IAAlC;AACAX,qBAAiBY,MAAjB,CAAwBxT,MAAxB,CAA+B,KAAKqL,UAApC;AACA;;AAEL,SAAKD,OAAL,CAAazL,SAAb,GAAyB,IAAItC,MAAMuC,SAAV,CAAoB,QAApB,CAAzB;AACA,SAAKwL,OAAL,CAAazL,SAAb,CAAuBE,SAAvB,GAAmC,GAAnC;AACA,SAAKuL,OAAL,CAAazL,SAAb,CAAuBG,QAAvB,CAAgCC,GAAhC,CAAoC,CAAC,GAArC,EAA0C,GAA1C,EAA+C,GAA/C;AACA,SAAKqL,OAAL,CAAazL,SAAb,CAAuBK,MAAvB,CAA8B,KAAKqL,UAAnC;;AAEA,SAAKD,OAAL,CAAaqI,UAAb,GAA0B,IAAIpW,MAAMuC,SAAV,CAAoB,QAApB,CAA1B;AACA,SAAKwL,OAAL,CAAaqI,UAAb,CAAwB5T,SAAxB,GAAoC,GAApC;AACA,SAAKuL,OAAL,CAAaqI,UAAb,CAAwB3T,QAAxB,CAAiCC,GAAjC,CAAqC,GAArC,EAA0C,GAA1C,EAA+C,CAAC,GAAhD;AACA,SAAKqL,OAAL,CAAaqI,UAAb,CAAwBzT,MAAxB,CAA+B,KAAKqL,UAApC;AACD;;;uCAEmB;AACnB,QAAIqI,eAAe,IAAIrW,MAAMkS,iBAAV,CAA4B,EAACC,OAAO,QAAR,EAA5B,CAAnB;AACA,QAAImE,QAAQ,IAAItW,MAAM8U,KAAV,EAAZ;AACA,QAAIyB,MAAM,qBAAUpK,QAAV,CAAmBzD,MAA7B;AACA,QAAI8N,YAAY/C,KAAKC,EAAL,GAAU,CAAV,GAAc6C,GAA9B;AACA,QAAIE,SAAS,EAAb;AACA,QAAIlD,IAAI,EAAR;AACA,QAAIqB,CAAJ;AACA,QAAI8B,CAAJ;;AAEA,QAAIC,YAAY;AACNvF,aAAQ,CADF;AAENC,qBAAgB,GAFV;AAGNC,gBAAW,GAHL;AAINC,oBAAe,EAJT;AAKNC,mBAAc,KALR;AAMNC,oBAAe,EANT;AAONC,YAAO;AAPD,KAAhB;;AAUA,yBAAUvF,QAAV,CAAmBvH,OAAnB,CAA2B,UAAS2H,OAAT,EAAkBvG,CAAlB,EAAqB;AAC/C,SAAI4Q,OAAO,KAAKzD,cAAL,CAAoB5G,QAAQwE,SAA5B,EAAuC4F,SAAvC,CAAX;AACA,SAAInJ,OAAO,IAAIxN,MAAM0S,IAAV,CAAekE,IAAf,EAAqBP,YAArB,CAAiC,YAAjC,CAAX;;AAEA,SAAI5G,WAAW,IAAIzP,MAAM0S,IAAV,CAAekE,KAAKnJ,KAAL,EAAf,EAA6B,KAAKW,aAAL,CAAmBX,KAAnB,EAA7B,CAAf;;AAGAmH,SAAI6B,SAAShD,KAAKoD,GAAL,CAASL,YAAYxQ,CAArB,CAAb;AACA0Q,SAAID,SAAShD,KAAKqD,GAAL,CAASN,YAAYxQ,CAArB,CAAb;;AAEA,UAAKkG,SAAL,CAAeK,QAAQ9H,IAAvB,IAA+B,EAAC,QAAQ+I,IAAT,EAAe,YAAYiC,QAA3B,EAAqC,YAAW,KAAhD,EAA/B;;AAEAjC,UAAKyG,KAAL,CAAWvR,GAAX,CAAe,IAAf,EAAqB,IAArB,EAA2B,IAA3B;AACA8K,UAAK/K,QAAL,CAAcC,GAAd,CAAkBkS,CAAlB,EAAqBrB,CAArB,EAAwBmD,CAAxB;AACAlJ,UAAKmH,QAAL,CAAcC,CAAd,GAAkBnB,KAAKC,EAAL,GAAU,CAA5B;AACAlG,UAAKmH,QAAL,CAAc+B,CAAd,GAAkBjD,KAAKC,EAAL,GAAU,CAAV,GAAc8C,YAAYxQ,CAA5C;;AAEAyJ,cAASwE,KAAT,CAAevR,GAAf,CAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqCwR,cAArC,CAAoD,GAApD,EAAyD;AACzDzE,cAAShN,QAAT,CAAkBC,GAAlB,CAAsBkS,CAAtB,EAAyBrB,CAAzB,EAA4BmD,CAA5B;AACAjH,cAASkF,QAAT,CAAkBC,CAAlB,GAAsBnB,KAAKC,EAAL,GAAU,CAAhC;AACAjE,cAASkF,QAAT,CAAkB+B,CAAlB,GAAsBjD,KAAKC,EAAL,GAAU,CAAV,GAAc8C,YAAYxQ,CAAhD;;AAEA;AACAsQ,WAAMzT,GAAN,CAAU2K,IAAV;AACA,KAxB0B,CAwBzB/H,IAxByB,CAwBpB,IAxBoB,CAA3B;;AA0BA,SAAKsI,OAAL,CAAa5B,QAAb,GAAwBmK,KAAxB;AACA;;;;;;mBAGaxI,W;;;;;;;;;;;;;;;;ACrUf;;;;;;;;;;;;KAEMiJ,K;;;AAEL,mBAAc;AAAA;;AAAA;;AAGb,SAAKhJ,OAAL,GAAe,EAAf;AACA,SAAKiJ,KAAL,CAJa,CAID;AACZ,SAAKrJ,MAAL,GAAc,KAAd;AACA,SAAKrM,KAAL;;AAEA;AACA,SAAKA,KAAL,GAAanC,GAAGmC,KAAhB;AACA,SAAKY,MAAL,GAAc/C,GAAG+C,MAAjB;AAVa;AAWb;;AAED;;;;;wBACK+U,U,EAAYC,S,EAAW,CAE3B;;AAED;;;;wBACKD,U,EAAYC,S,EAAW,CAE3B;;;4BAEQ,CAER;;AAED;;;;4BACS;AACR,SAAK,IAAIzS,IAAT,IAAiB,KAAKsJ,OAAtB,EAA+B;AAC9B,UAAKzM,KAAL,CAAWqJ,MAAX,CAAkB,KAAKoD,OAAL,CAAatJ,IAAb,CAAlB;AACA;AACD;;;6BAES;AACT,0GADS,CACQ;AACjB,SAAKkG,MAAL;AACA,SAAK,IAAIlG,IAAT,IAAiB,KAAKsJ,OAAtB,EAA+B;AAC9B,YAAO,KAAKA,OAAL,CAAatJ,IAAb,CAAP;AACA;AACD;;;;;;mBAGasS,K;;;;;;;;;;;AC/Cf,KAAII,YAAY,UAAhB;AACA,KAAIhL,WAAW,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,EAAwB,KAAxB,EAA+B,UAA/B,EAA2C,SAA3C,EAAsD,aAAtD,CAAf;;AAGA,KAAIiL,aAAa;AAChBlE,QAAM,yiBADU;;AAGhB/G,YAAU,EAHM;AAIhBkL,WAASF,YAAY,mBAAAlY,CAAQ,EAAR,CAJL;AAKhBqY,eAAaH,YAAY,mBAAAlY,CAAQ,EAAR;AALT,EAAjB;;AAQA,KAAIsY,MAAM,0qBAAV;;AAEApL,UAASvH,OAAT,CAAiB,UAASkI,WAAT,EAAsB;AACtCsK,aAAWjL,QAAX,CAAoBrF,IAApB,CACC,EAAC,QAAQgG,WAAT,EAAsBiE,WAAWwG,GAAjC,EADD;AAGA,EAJD;;mBAMeH,U;;;;;;ACpBf,4D;;;;;;ACAA,2E;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;AAEA;KACMI,U;;;AAEL,wBAAc;AAAA;;AAAA;;AAEb,SAAKzJ,OAAL;AACA,SAAKC,UAAL,GAAkB,IAAIhO,MAAM4C,OAAV,EAAlB;AACA,SAAK6U,WAAL,GAAmB,IAAnB;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,SAAL,GAAiB,EAAjB,CANa,CAMQ;AACrB,SAAKC,WAAL,GAAoB,MAAKH,WAAL,GAAmB,MAAKE,SAAzB,GAAoC,CAAvD,CAPa,CAO6C;AAC1D,SAAKE,WAAL,GAAoB,MAAKH,YAAL,GAAoB,MAAKC,SAA1B,GAAqC,CAAxD,CARa,CAQ8C;AAC3D,SAAKG,WAAL,GAAmB,GAAnB;AACA,SAAKC,SAAL,GAAiB,GAAjB,CAVa,CAUS;AACtB,SAAKC,SAAL,GAAiB,GAAjB,CAXa,CAWS;AACtB,SAAKC,MAAL,CAZa,CAYA;AACb,SAAKtK,MAAL,GAAc,KAAd;AAba;AAcb;;AAED;;;;;0BACO;AACN,SAAKuK,KAAL;AACM,SAAKvK,MAAL,GAAc,IAAd;AACN;;;2BAEO;;AAEP;AACA,SAAKsK,MAAL,GAAc,EAAd;;AAEA,QAAIE,aAAa,GAAjB;AACA,QAAIC,YAAY,IAAIpY,MAAM8U,KAAV,EAAhB;AACA,QAAIuD,YAAJ;AACA,QAAIC,QAAJ;AACA,QAAIC,IAAJ;AACA,QAAIC,QAAJ;;AAEA,SAAK,IAAIxS,IAAI,CAAb,EAAgBA,IAAI,KAAK4R,WAAzB,EAAsC5R,GAAtC,EAA4C;;AAE3C,UAAK,IAAIiP,IAAI,CAAb,EAAgBA,IAAI,KAAK4C,WAAzB,EAAsC5C,GAAtC,EAA4C;;AAE3C,UAAIL,IAAI,KAAK5G,UAAL,CAAgB4G,CAAhB,GAAoB,KAAKgD,WAAL,GAAmB,CAAvC,GAA2C5R,CAAnD;AACA,UAAI0Q,IAAI,KAAK1I,UAAL,CAAgB0I,CAAhB,GAAoB,KAAKmB,WAAL,GAAmB,CAAvC,GAA2C5C,CAAnD;AACA,UAAIL,IAAIA,CAAJ,GAAQ8B,IAAIA,CAAZ,GAAgB,KAAKkB,WAAL,GAAmBO,UAAnB,GAAgC,KAAKP,WAArC,GAAmDO,UAAnE,IACF1E,KAAKgF,MAAL,KAAgB,GAAjB,GAAwB,CADzB,EAC4B;AAC3B;AACA;;AAED,WAAKR,MAAL,CAAYjS,CAAZ,IAAiB,KAAKiS,MAAL,CAAYjS,CAAZ,KAAkB,EAAnC;AACA,WAAKiS,MAAL,CAAYjS,CAAZ,EAAeiP,CAAf,IAAoB;AACnBxS,iBAAU,EAACmS,GAAGA,CAAJ,EAAOrB,GAAG,CAAV,EAAamD,GAAGA,CAAhB,EADS;AAEnBgC,eAASjF,KAAKgF,MAAL,KAAgB,IAFN,EAEa;AAChCE,iBAAU,KAAKZ,SAAL,GAAiB,CAAC,KAAKC,SAAL,GAAiB,KAAKD,SAAvB,IAAoCtE,KAAKgF,MAAL,EAApC,GAAoD,CAH5D;AAInBG,iBAAU,KAAKZ,SAAL,GAAiB,CAAC,KAAKA,SAAL,GAAiB,KAAKD,SAAvB,IAAoCtE,KAAKgF,MAAL,EAApC,GAAoD,CAJ5D,EAApB;AAMA;AACA;AACA,UAAII,WAAW,KAAKlB,SAAL,IAAmB,MAAM,MAAMlE,KAAKgF,MAAL,EAA/B,CAAf;AACAH,iBAAW,IAAItY,MAAM8Y,WAAV,CACPD,QADO,EAEP,KAAKf,WAFE,EAGPe,QAHO,EAGE,CAHF,EAGI,CAHJ,EAGM,CAHN,CAAX;AAKAR,qBAAe,IAAIrY,MAAM6S,mBAAV,CACd;AACCV,cAAO;AADR,OADc,CAAf;AAUAoG,aAAO,IAAIvY,MAAM0S,IAAV,CAAe4F,QAAf,EAAyBD,YAAzB,CAAP;AACAE,WAAK9V,QAAL,CAAcC,GAAd,CACC,CAAC,KAAKuV,MAAL,CAAYjS,CAAZ,EAAeiP,CAAf,EAAkBxS,QAAlB,CAA2BmS,CAA3B,GAA+BnB,KAAKgF,MAAL,EAA/B,GAA+C,GAAhD,IAAuD,KAAKd,SAD7D,EAEC,CAFD,EAGC,CAAC,KAAKM,MAAL,CAAYjS,CAAZ,EAAeiP,CAAf,EAAkBxS,QAAlB,CAA2BiU,CAA3B,GAA+BjD,KAAKgF,MAAL,EAA/B,GAA+C,GAAhD,IAAuD,KAAKd,SAH7D;AAKAY,WAAKtE,KAAL,CAAWvR,GAAX,CAAe,CAAf,EAAkB,IAAlB,EAAwB,CAAxB;AACA,WAAKuV,MAAL,CAAYjS,CAAZ,EAAeiP,CAAf,EAAkBsD,IAAlB,GAAyBA,IAAzB;;AAEA,UAAIQ,eAAe,IAAI/Y,MAAM8Y,WAAV,CAClBD,WAAW,GADO,EAElB,KAAKf,WAAL,GAAoB,GAFF,EAGlBe,WAAW,GAHO,EAGF,CAHE,EAGC,CAHD,EAGI,CAHJ,CAAnB;AAKA,UAAIG,WAAW,IAAIhZ,MAAMiZ,mBAAV,CAA+B,CAA/B,CAAf;AACAD,eAASE,MAAT,CAAiBH,YAAjB;AACAP,iBAAW,IAAIxY,MAAM0S,IAAV,CACVqG,YADU,EAEV,IAAI/Y,MAAMqO,YAAV,CAAuB;AACtB8B,UAAG,IADmB;AAEtBb,UAAG,GAFmB;AAGtBZ,UAAG,GAHmB;AAItByD,cAAO,IAAInS,MAAMwS,KAAV,CAAgB,QAAhB,CAJe;AAKtBJ,oBAAa;AALS,OAAvB,CAFU,CAAX;;AAWAoG,eAAS/V,QAAT,CAAkBkM,IAAlB,CAAuB4J,KAAK9V,QAA5B;AACA+V,eAASvE,KAAT,CAAetF,IAAf,CAAoB4J,KAAKtE,KAAzB;AACA,WAAKgE,MAAL,CAAYjS,CAAZ,EAAeiP,CAAf,EAAkBuD,QAAlB,GAA6BA,QAA7B;;AAEAJ,gBAAUvV,GAAV,CAAc0V,IAAd;AACAH,gBAAUvV,GAAV,CAAc2V,QAAd;AAIA;AACD;;AAED,SAAKzK,OAAL,CAAaqK,SAAb,GAAyBA,SAAzB;AAGA;;;2BAEO;AACP5J,WAAOC,IAAP,CAAY,KAAKV,OAAjB,EAA0BnJ,OAA1B,CAAkC,UAAS8J,CAAT,EAAY;AAAEvP,QAAGmC,KAAH,CAASuB,GAAT,CAAa,KAAKkL,OAAL,CAAaW,CAAb,CAAb;AAA+B,KAA7C,CAA8CjJ,IAA9C,CAAmD,IAAnD,CAAlC;AACA,SAAK0T,UAAL;AACA;;;2BAEO;AACP;AACA,SAAKrI,UAAL;AACA;;;6BAESyH,I,EAAM;AACf,QAAI7L,OAAO,IAAX;AACA,QAAIyJ,SAAS,EAAb;AACA,QAAIiD,GAAJ;;AAEAb,SAAKI,QAAL,GAAgB,KAAKZ,SAAL,GAAiB,CAAC,KAAKC,SAAL,GAAiB,KAAKD,SAAvB,IAAoCtE,KAAKgF,MAAL,EAApC,GAAoD,CAArF;AACAF,SAAKK,QAAL,GAAgB,KAAKZ,SAAL,GAAiB,CAAC,KAAKA,SAAL,GAAiB,KAAKD,SAAvB,IAAoCtE,KAAKgF,MAAL,EAApC,GAAoD,CAArF,CANe,CAMyE;;AAExF,QAAIF,KAAKA,IAAL,CAAUtE,KAAV,CAAgBV,CAAhB,IAAqBgF,KAAKI,QAA9B,EAAwC;AACvCxC,YAAOlC,KAAP,GAAe,IAAIjU,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB2V,KAAKK,QAAL,GAAgB,IAArC,EAA2C,CAA3C,CAAf;AACA,KAFD,MAEO,IAAIL,KAAKA,IAAL,CAAUtE,KAAV,CAAgBV,CAAhB,IAAqBgF,KAAKK,QAA9B,EAAwC;AAC9CzC,YAAOlC,KAAP,GAAe,IAAIjU,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB2V,KAAKI,QAAL,GAAgB,IAArC,EAA2C,CAA3C,CAAf;AACA,KAFM,MAEA;AACNxC,YAAOlC,KAAP,GAAe,IAAIjU,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB2V,KAAKI,QAAL,GAAgB,IAArC,EAA2C,CAA3C,CAAf;AACA;AACD;AACA;;AAEAS,UAAM3F,KAAK4F,GAAL,CAASlD,OAAOlC,KAAP,CAAaV,CAAb,GAAiBgF,KAAKA,IAAL,CAAUtE,KAAV,CAAgBV,CAA1C,IAA+CgF,KAAKG,MAA1D;;AAEAH,SAAKvQ,KAAL,GAAa0E,KAAKoC,gBAAL,CAAsByJ,KAAKA,IAA3B,EAAiCpC,MAAjC,EAAyCiD,GAAzC,EAA8C;AAC1DE,eAAU,oBAAW;AACpBf,WAAKC,QAAL,CAAcvE,KAAd,CAAoBtF,IAApB,CAAyB4J,KAAKA,IAAL,CAAUtE,KAAnC,EADoB,CACqB;AACzC;AACA,MAJyD;AAK1DzE,iBAAY,sBAAW;AACtB;AACA9C,WAAK6M,WAAL,CAAiBhB,KAAKvQ,KAAtB;AACA0E,WAAK8M,SAAL,CAAejB,IAAf;AACA;AATyD,KAA9C,CAAb;AAWAA,SAAKvQ,KAAL,CAAW/G,KAAX;AAGA;;AAED;;;;gCACa;AACZ,SAAK,IAAIsX,IAAJ,EAAUvS,IAAI,KAAKiS,MAAL,CAAYvP,MAAZ,GAAqB,CAAxC,EAA2C1C,KAAK,CAAhD,EAAmDA,GAAnD,EAAwD;AACvD,SAAI,CAAC,KAAKiS,MAAL,CAAYjS,CAAZ,CAAL,EAAqB;AAAE;AAAW;AAClC,UAAK,IAAIiP,IAAI,KAAKgD,MAAL,CAAYjS,CAAZ,EAAe0C,MAAf,GAAwB,CAArC,EAAwCuM,KAAK,CAA7C,EAAgDA,GAAhD,EAAqD;AACpD,UAAI,CAAC,KAAKgD,MAAL,CAAYjS,CAAZ,EAAeiP,CAAf,CAAL,EAAwB;AAAE;AAAW;AACrCsD,aAAO,KAAKN,MAAL,CAAYjS,CAAZ,EAAeiP,CAAf,CAAP;AACA,WAAKuE,SAAL,CAAejB,IAAf;AACA;AACD;AACD;;;;;;mBAMaf,U;;;;;;;;;;;;;;;;ACrLf;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;KAEMiC,I;;;AACL,gBAAYC,SAAZ,EAAuB;AAAA;;AAAA;;AAEtB,SAAKC,UAAL,GAAkB,EAAlB,CAFsB,CAEA;AACtB,SAAKC,QAAL,GAAgB,EAAhB,CAHsB,CAGF;AACpB,SAAKC,GAAL;AACA,SAAKrM,IAAL;AACA,SAAKsM,YAAL,GAAoB,EAApB;AACA,SAAKJ,SAAL,GAAiBA,SAAjB;AACA,SAAKK,aAAL;AACA,SAAKC,OAAL;AATsB;AAUtB;;;;0BAEM;AACN,SAAK9B,KAAL;AACA,SAAK1K,IAAL,CAAU/K,QAAV,CAAmBC,GAAnB,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B;AACA;;AAEA;AACA,SAAKsX,OAAL,GAAe,KAAKnW,OAAL,CAAa,YAAW;AACtC,UAAKgW,GAAL,CAASlF,QAAT,CAAkBC,CAAlB,IAAuB,KAAvB;AACA,UAAKiF,GAAL,CAASlF,QAAT,CAAkBpB,CAAlB,IAAuB,KAAvB;AACA;AACA,UAAKsG,GAAL,CAASlF,QAAT,CAAkB+B,CAAlB,IAAuB,KAAvB;AACA,KAL2B,CAK1BjR,IAL0B,CAKrB,IALqB,CAAb,CAAf;;AAOA,QAAIiH,OAAO,IAAX;AACA;;;2BAEO;AACP;AACA,QAAIuN,OAAO,IAAIja,MAAMka,cAAV,CAAyB,KAAKzG,KAAKgF,MAAL,KAAgB,CAA9C,EAAiD,CAAjD,EAAoD,CAApD,CAAX;AACA;;;;AAIA;;AAEA,QAAI0B,YAAY,IAAIna,MAAMoa,iBAAV,CAA4B,EAACjI,OAAO,QAAR,EAAkB0B,WAAW,IAA7B,EAAmCjO,SAAS,GAA5C,EAA5B,CAAhB;AACA;AACA,QAAIyU,YAAY,IAAIra,MAAM6S,mBAAV,EAAhB;AACAwH,cAAUta,MAAV,GAAmBZ,GAAGU,MAAH,CAAUE,MAA7B;AACAsa,cAAU5F,IAAV,GAAiBzU,MAAM8S,UAAvB;AACAuH,cAAUjI,WAAV,GAAwB,IAAxB;AACAiI,cAAUzU,OAAV,GAAoB,GAApB;AACAyU,cAAUhI,eAAV,GAA4B,GAA5B;AACA;AACA,QAAI7E,OAAOxN,MAAMsa,UAAN,CAAiBC,yBAAjB,CAA2CN,IAA3C,EAAiD,CAACE,SAAD,EAAYE,SAAZ,CAAjD,CAAX;;AAEA7M,SAAKmH,QAAL,CAAcjS,GAAd,CAAkB+Q,KAAKgF,MAAL,EAAlB,EAAiChF,KAAKgF,MAAL,EAAjC,EAAgDhF,KAAKgF,MAAL,EAAhD;AACA,SAAKjL,IAAL,GAAYA,IAAZ;AACA,SAAKqM,GAAL,GAAWrM,IAAX;AACA,SAAKqM,GAAL,CAASpV,IAAT,GAAgB,SAAhB;AACA;;;4BAEQ0Q,K,EAAO;AACfA,aAAS,KAAK3H,IAAL,CAAU/K,QAAV,CAAmBkM,IAAnB,CAAwBwG,KAAxB,CAAT;AACA,SAAKwE,UAAL,CAAgB/U,OAAhB,CAAwB,UAAC4V,IAAD;AAAA,YAAUA,KAAK1W,MAAL,EAAV;AAAA,KAAxB;AACA,SAAK8V,QAAL,CAAchV,OAAd,CAAsB,UAAC4V,IAAD;AAAA,YAAUA,KAAK1W,MAAL,EAAV;AAAA,KAAtB;AACA;;;8BAGU;AACV,aAAS2W,IAAT,GAAgB;AACf,SAAIC,WAAWhO,KAAKgN,SAAL,CAAejM,KAAf,GAAuB5K,GAAvB,CAA2B,IAAI7C,MAAM4C,OAAV,CACzC6Q,KAAKgF,MAAL,KAAgB,EADyB,EAEzChF,KAAKgF,MAAL,KAAgB,EAFyB,EAGzChF,KAAKgF,MAAL,KAAgB,EAHyB,CAA3B,CAAf;AAKA/L,UAAKiO,MAAL,CAAYD,QAAZ,EAAsBD,IAAtB;AACA;AACDA;AACA;;;0BAEMtF,K,EAAOyF,Q,EAAU;AACvBb,oBAAgB,KAAKjL,gBAAL,CAAsB,KAAKtB,IAA3B,EAAiC,EAAC/K,UAAU0S,KAAX,EAAjC,EAAoD,OAAO1B,KAAKgF,MAAL,KAAgB,IAAvB,GAA4B,CAAhF,EAAmF;AAClGa,eAAU,YAAW;AACpB,WAAKuB,QAAL,CAAc,KAAKrN,IAAL,CAAU/K,QAAxB;AACA,MAFS,CAERgD,IAFQ,CAEH,IAFG,CADwF;AAIlG+J,iBAAYoL;AAJsF,KAAnF,EAKb3Z,KALa,EAAhB;AAMA;;;;;;KAGI6Z,W;;;AACL,uBAAY3F,KAAZ,EAAmBpE,SAAnB,EAA8B;AAAA;;AAAA,0HACvBoE,KADuB;;AAE7B,UAAK1Q,IAAL;AACA,UAAKyI,QAAL,GAAgB,KAAhB;AACA,UAAK6N,UAAL,GAAkBhK,SAAlB;;AAEA,UAAKiK,QAAL;AACA,UAAKC,WAAL;;AAEA,UAAKC,YAAL;;AAEA,UAAKC,OAAL;AAX6B;AAY7B;;;;0BAEM;AAAA;;AACN,mHADM,CACQ;AACd;AACA,SAAKA,OAAL,GAAe,KAAKC,QAAL,CAAc,YAAM;AAClC,YAAKH,WAAL,CAAiBjM,QAAjB,CAA0BqM,UAA1B,GAAuC,IAAvC;AACA,YAAKL,QAAL,CAAchM,QAAd,CAAuBqM,UAAvB,GAAoC,IAApC;AACA,KAHc,CAAf;AAIA;;;2BAEO;AACP;AACA,QAAI/E,QAAQ,IAAItW,MAAM8U,KAAV,EAAZ;AACA,QAAInD,UAAU,IAAI3R,MAAMsb,UAAV,CAAqB,KAAKP,UAA1B,EAAsC,EAAtC,CAAd;AACA;AACA,QAAI/L,WAAW,IAAIhP,MAAMoa,iBAAV,CAA4B,EAACjI,OAAO,QAAR,EAA5B,CAAf;AACA;AACA,QAAIwB,cAAc,IAAI3T,MAAMkS,iBAAV,CAA4B;AAC7CC,YAAO,QADsC;AAE7CoJ,eAAU;AAFmC,KAA5B,CAAlB;AAIA,QAAIzH,UAAU,IAAI9T,MAAM0S,IAAV,CAAef,OAAf,EAAwB3C,QAAxB,CAAd;AACA8E,YAAQG,KAAR,CAAcvR,GAAd,CAAkB,GAAlB,EAAuB,GAAvB,EAA4B,GAA5B;;AAEA,QAAI8Y,QAAQ,IAAIxb,MAAM4C,OAAV,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,CAAtB,CAAZ;AACA,QAAI6Y,SAAS,KAAK/B,SAAL,CAAejM,KAAf,GAAuBiO,SAAvB,EAAb;;AAEAF,UAAMjI,CAAN,GAAUkI,OAAOlI,CAAP,GAAW,CAArB;AACA,QAAIoI,OAAO,IAAI3b,MAAM4C,OAAV,EAAX;AACA+Y,SAAKC,YAAL,CAAkBJ,KAAlB,EAAyBC,MAAzB,EAAiCC,SAAjC;AACA,QAAIG,QAAQpI,KAAKqI,IAAL,CAAWN,MAAMO,GAAN,CAAUN,MAAV,IAAoBD,MAAM9S,MAAN,EAApB,GAAqC8S,MAAM9S,MAAN,EAAhD,CAAZ;AACA,QAAIsT,aAAa,IAAIhc,MAAMic,UAAV,EAAjB;;AAEAD,eAAWE,gBAAX,CAA4BP,IAA5B,EAAkCE,KAAlC;AACA/H,YAAQa,QAAR,CAAiBwH,iBAAjB,CAAmCH,UAAnC;AACA,SAAKhB,QAAL,GAAgBlH,OAAhB;;AAEA,QAAIsI,YAAYjd,GAAGU,MAAH,CAAUyX,WAAV,CAAsBnX,OAAtC;;AAEA,QAAIkc,iBAAiB,IAAIrc,MAAMsc,cAAV,CAAyB;AAC7CxW,UAAKsW,SADwC;AAE7CG,eAAUvc,MAAMwc,gBAF6B;AAG7CpK,kBAAa,IAHgC;AAI7CxM,cAAS;AAJoC,KAAzB,CAArB;AAMA,QAAI6W,aAAa,IAAIzc,MAAM0c,MAAV,CAAiBL,cAAjB,CAAjB;AACAI,eAAWxI,KAAX,CAAiBvR,GAAjB,CAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B;AACA,SAAKuY,WAAL,GAAmBwB,UAAnB;;AAEAnG,UAAMzT,GAAN,CAAU4Z,UAAV;AACAnG,UAAMzT,GAAN,CAAUiR,OAAV;AACAwC,UAAMzT,GAAN,CAAU,KAAK2K,IAAf;AACA,SAAKA,IAAL,GAAY8I,KAAZ;AACA;;;4BAEQ;AAAA;;AACR,QAAI5J,OAAO,IAAX;AACA,SAAKQ,QAAL,GAAgB,IAAhB;AACA,SAAK+N,WAAL,CAAiB0B,OAAjB,GAA2B,IAA3B;AACA,SAAK3B,QAAL,CAAchM,QAAd,CAAuB4N,WAAvB,GAAqCC,OAArC,CAA6C,EAAC1K,OAAO,QAAR,EAA7C,EAAgE,GAAhE;AACA,SAAK8I,WAAL,CAAiBjM,QAAjB,CAA0B4N,WAA1B,GAAwCC,OAAxC,CAAgD,EAACjX,SAAS,CAAV,EAAhD,EAA8D,GAA9D,EAAmE,CAAnE,EAAsE;AACrE4J,iBAAY;AAAA,aAAI,OAAKyL,WAAL,CAAiB0B,OAAjB,GAA2B,IAA/B;AAAA;AADyD,KAAtE;AAGA;;;8BAEU;AAAA;;AACV,SAAKzP,QAAL,GAAgB,KAAhB;AACA,SAAK+N,WAAL,CAAiB0B,OAAjB,GAA2B,IAA3B;AACA,SAAK3B,QAAL,CAAchM,QAAd,CAAuB4N,WAAvB,GAAqCC,OAArC,CAA6C,EAAC1K,OAAO,QAAR,EAA7C,EAAgE,GAAhE;AACA,SAAK8I,WAAL,CAAiBjM,QAAjB,CAA0B4N,WAA1B,GAAwCC,OAAxC,CAAgD,EAACjX,SAAS,CAAV,EAAhD,EAA8D,GAA9D,EAAmE,CAAnE,EAAsE;AACrE4J,iBAAY;AAAA,aAAI,OAAKyL,WAAL,CAAiB0B,OAAjB,GAA2B,KAA/B;AAAA;AADyD,KAAtE;AAGA;;;;GAtFwBlD,I;;KAyFpBqD,I;;;AACL,gBAAYC,SAAZ,EAAuBC,OAAvB,EAAgC;AAAA;;AAAA;;AAE/B,UAAKD,SAAL,GAAiBA,SAAjB;AACA,UAAKC,OAAL,GAAeA,OAAf;;AAEA,UAAK/b,KAAL,GAAa,IAAIjB,MAAM4C,OAAV,EAAb;AACA,UAAKqa,GAAL,GAAW,IAAIjd,MAAM4C,OAAV,EAAX;;AAEA,UAAK4K,IAAL,CAR+B,CAQpB;AACX,UAAKgN,IAAL;AACA,UAAK0C,eAAL,CAV+B,CAUT;AACtB,UAAKC,aAAL,CAX+B,CAWX;;AAEpB,UAAKC,GAAL,GAAW,IAAIpd,MAAMqd,SAAV,EAAX;AACA,UAAKC,SAAL,GAAiB,KAAjB;AACA,UAAKlZ,IAAL;AAf+B;AAgB/B;;;;0BAEM;AACN,QAAImZ,eAAe,IAAIvd,MAAMwd,iBAAV,CAA6B,EAAErL,OAAO,QAAT,EAAmBvM,SAAS,CAA5B,EAA+B6X,WAAW,CAA1C,EAA6CrL,aAAa,IAA1D,EAA7B,CAAnB;AACA;;;;;;;AAOA,QAAIsL,WAAW,IAAI1d,MAAM2d,QAAV,EAAf;AACAD,aAASE,QAAT,CAAkB9W,IAAlB,CAAuB,KAAK7F,KAA5B,EAAmC,KAAKgc,GAAxC;AACA,SAAKzC,IAAL,GAAY,IAAIxa,MAAM8c,IAAV,CAAeY,QAAf,EAAyBH,YAAzB,CAAZ;;AAEA,QAAIM,gBAAgB1e,GAAGU,MAAH,CAAUyX,WAAV,CAAsBnX,OAA1C;;AAEA,QAAIkc,iBAAiB,IAAIrc,MAAMsc,cAAV,CAAyB;AAC7CxW,UAAK+X,aADwC;AAE7CtB,eAAUvc,MAAMwc,gBAF6B;AAG7CpK,kBAAa,IAHgC;AAI7CxM,cAAS;AAJoC,KAAzB,CAArB;AAMA,SAAKsX,eAAL,GAAuB,IAAIld,MAAM0c,MAAV,CAAiBL,cAAjB,CAAvB;AACA,SAAKc,aAAL,GAAqB,IAAInd,MAAM0c,MAAV,CAAiBL,cAAjB,CAArB;AACA,SAAKa,eAAL,CAAqBjJ,KAArB,CAA2BvR,GAA3B,CAA+B,EAA/B,EAAkC,EAAlC,EAAqC,EAArC;AACA,SAAKya,aAAL,CAAmBlJ,KAAnB,CAAyBvR,GAAzB,CAA6B,EAA7B,EAAgC,EAAhC,EAAmC,EAAnC;;AAEA,SAAK8K,IAAL,GAAY,IAAIxN,MAAM8U,KAAV,EAAZ;AACA,SAAKtH,IAAL,CAAU3K,GAAV,CAAc,KAAK2X,IAAnB;AACA,SAAKhN,IAAL,CAAU3K,GAAV,CAAc,KAAKqa,eAAnB;AACA,SAAK1P,IAAL,CAAU3K,GAAV,CAAc,KAAKsa,aAAnB;AACA,SAAK3P,IAAL,CAAUmP,OAAV,GAAoB,KAApB;AACA;;;6BAE+B;AAAA,QAAxBvD,GAAwB,uEAApB0E,SAAoB;AAAA,QAATC,KAAS,uEAAH,CAAG;;AAC/B,QAAIrR,OAAO,IAAX;AACA,QAAIsR,YAAYvK,KAAKgF,MAAL,KAAc,CAAd,GAAgB,CAAhC;AACA,QAAIwF,cAAc,CAACD,YAAU,CAAX,IAAgB,CAAlC;;AAEA,SAAKxQ,IAAL,CAAUmP,OAAV,GAAoB,IAApB;AACA,aAAS7Y,MAAT,GAAkB;AACjB4I,UAAK8N,IAAL,CAAU0D,QAAV,CAAmBC,kBAAnB,GAAwC,IAAxC;AACAzR,UAAK8N,IAAL,CAAUxL,QAAV,CAAmBqM,UAAnB,GAAgC,IAAhC;AACA;;AAED,QAAI+C,aAAa,IAAIvW,MAAMwW,KAAV,CAAgB,EAAC/O,GAAG,CAAJ,EAAhB,EAAwBgP,EAAxB,CAA2B,EAAChP,GAAG,CAAJ,EAA3B,EAAmC8J,GAAnC,EACfmF,MADe,CACR1W,MAAM2W,MAAN,CAAaC,KAAb,CAAmBC,EADX,EACepF,QADf,CACwB,YAAW;AAClD,SAAIqF,YAAYjS,KAAKkS,QAAL,EAAhB;AACA,SAAIC,MAAO,IAAI7e,MAAM4C,OAAV,EAAD,CAAoBkN,UAApB,CAA+B6O,UAAUX,SAAV,CAA/B,EAAoDW,UAAUV,WAAV,CAApD,CAAV;AACAY,SAAIC,SAAJ,CAAcD,IAAInW,MAAJ,KAAe,KAAK4G,CAAlC;AACAqP,eAAUX,SAAV,IAAuBW,UAAUV,WAAV,EAAuBxQ,KAAvB,GAA+B5K,GAA/B,CAAmCgc,GAAnC,CAAvB;AACAnS,UAAKmO,QAAL,CAAc8D,SAAd;AACA,KAPe,EAObnP,UAPa,CAOF,YAAW;AACxB9C,UAAK6M,WAAL,CAAiB6E,UAAjB;AACA1R,UAAK4Q,SAAL,GAAiB,IAAjB;AACA,KAVe,CAAjB;AAWA9X,eAAW;AAAA,YAAI4Y,WAAWnd,KAAX,EAAJ;AAAA,KAAX,EAAmC8c,KAAnC;AACA,SAAKvD,IAAL,CAAUxL,QAAV,CAAmB6N,OAAnB,CAA2B,EAACjX,SAAS,GAAV,EAA3B,EAA2CwT,GAA3C,EAAgD2E,KAAhD,EAAuD,EAACzE,UAAUxV,MAAX,EAAvD;AACA,SAAKoZ,eAAL,CAAqBL,OAArB,CAA6B,EAAC5I,OAAO,IAAIjU,MAAM4C,OAAV,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,CAAtB,CAAR,EAA7B,EAAgEwW,GAAhE,EAAqE2E,KAArE;AACA,SAAKb,eAAL,CAAqBlO,QAArB,CAA8B6N,OAA9B,CAAsC,EAACjX,SAAS,GAAV,EAAtC,EAAsDwT,GAAtD,EAA2D2E,KAA3D;AACA;;;8BAEU;AACV,QAAIgB,SAAS,KAAKhC,SAAL,CAAelD,GAAf,CAAmBmF,gBAAnB,EAAb;AACA,QAAIC,OAAO,KAAKjC,OAAL,CAAanD,GAAb,CAAiBmF,gBAAjB,EAAX;;AAEA;AACA;AACA,SAAK5B,GAAL,CAAS1a,GAAT,CAAaqc,MAAb,EAAsB,IAAI/e,MAAM4C,OAAV,EAAD,CAAoBkN,UAApB,CAA+BmP,IAA/B,EAAqCF,MAArC,EAA6CrD,SAA7C,EAArB;AACA,QAAIwD,aAAa,KAAK9B,GAAL,CAAS+B,gBAAT,CAA0B,CAAC,KAAKpC,SAAL,CAAelD,GAAhB,EAAqB,KAAKmD,OAAL,CAAanD,GAAlC,CAA1B,EAAkE,IAAlE,CAAjB;AACA,QAAIuF,mBAAJ;AAAA,QAAeC,iBAAf;;AAEAH,eAAWta,OAAX,CAAmB,UAAS0a,SAAT,EAAoB;AACtC,SAAI,CAACF,UAAD,KACF,KAAKrC,SAAL,CAAelD,GAAf,KAAuByF,UAAU3P,MAAjC,IACD,KAAKoN,SAAL,CAAelD,GAAf,CAAmB0F,QAAnB,CAA4BtY,OAA5B,CAAoCqY,UAAU3P,MAA9C,MAA0D,CAAC,CAFxD,CAAJ,EAEiE;AAChEyP,mBAAaE,UAAUE,KAAvB;AACA;AACD,SAAI,CAACH,QAAD,KACF,KAAKrC,OAAL,CAAanD,GAAb,KAAqByF,UAAU3P,MAA/B,IACD,KAAKqN,OAAL,CAAanD,GAAb,CAAiB0F,QAAjB,CAA0BtY,OAA1B,CAAkCqY,UAAU3P,MAA5C,MAAwD,CAAC,CAFtD,CAAJ,EAE+D;AAC9D0P,iBAAWC,UAAUE,KAArB;AACA;AACD,KAXkB,CAWjB/Z,IAXiB,CAWZ,IAXY,CAAnB;;AAaA;AACA;AACA,WAAO,CAAC2Z,UAAD,EAAaC,QAAb,CAAP;AACA;;;4BAEQI,M,EAAQ;AAChB,SAAKxe,KAAL,CAAW0N,IAAX,CAAgB8Q,OAAO,CAAP,CAAhB;AACA,SAAKxC,GAAL,CAAStO,IAAT,CAAc8Q,OAAO,CAAP,CAAd;;AAEA,SAAKvC,eAAL,CAAqBza,QAArB,CAA8BkM,IAA9B,CAAmC,KAAK1N,KAAxC;AACA,SAAKkc,aAAL,CAAmB1a,QAAnB,CAA4BkM,IAA5B,CAAiC,KAAKsO,GAAtC;;AAEA,SAAKzC,IAAL,CAAU0D,QAAV,CAAmBC,kBAAnB,GAAwC,IAAxC;AACA;;;4BAEQ;AACR,QAAI,CAAC,KAAKb,SAAV,EAAqB;AACrB,QAAIoC,OAAO,KAAKd,QAAL,EAAX;AACA,SAAK/D,QAAL,CAAc6E,IAAd;AACA;;;;;;KAGIC,W;;;AACL,yBAAc;AAAA;;AAAA;;AAGb,UAAKhS,MAAL,GAAc,KAAd;AACA,UAAKiS,UAAL,GAAkB,KAAlB;;AAEA,UAAKC,SAAL,GAAiB,EAAjB;AACA,UAAKC,UAAL,GAAkB,EAAlB;AACA,UAAKC,OAAL,GAAe,EAAf,CARa,CAQM;AACnB,UAAKC,OAAL,GAAe,EAAf,CATa,CASM;AACnB,UAAKC,OAAL,GAAe,EAAf,CAVa,CAUM;;AAEnB,UAAKC,WAAL,GAAmB,OAAKL,SAAL,GAAiB,CAApC,CAZa,CAY0B;AACvC,UAAKM,kBAAL,GAA0B,OAAKN,SAAL,GAAiB,CAA3C,CAba,CAaiC;;AAE9C,UAAKO,YAAL;AACA,UAAKC,MAAL,GAAc,EAAd;AACA,UAAKC,MAAL,GAAc,EAAd;AACA,UAAKC,OAAL,GAAe,EAAf,CAlBa,CAkBM;AACnB,UAAKC,eAAL,GAAuB,EAAvB;AACA,UAAKC,YAAL,GAAoB,CAApB;;AAEA,UAAKC,gBAAL,GAAwB,gCAAxB;AAtBa;AAuBb;;;;0BACM;AACN,SAAKN,YAAL,GAAoB/T,EAAEuF,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB,qBAAUzF,QAA7B,CAApB;AACA,SAAKwB,MAAL,GAAc,IAAd;AACA,SAAKlB,UAAL;AACA,SAAKkU,MAAL;;AAEA,SAAKxS,SAAL,GAAiB,IAAInO,MAAM4O,iBAAV,CAA4B,KAAK1M,MAAjC,EAAyC/C,GAAG+B,QAAH,CAAYS,UAArD,CAAjB;AACA,SAAKwM,SAAL,CAAeyS,OAAf,GAAyB,KAAzB;AACA;;;gCAEY;AACZ,QAAIlU,OAAO,IAAX;AACA,QAAImU,YAAY,IAAI7gB,MAAMqd,SAAV,EAAhB;AACA,QAAI6B,mBAAJ;AACA,QAAI4B,QAAQ,IAAI9gB,MAAM+gB,OAAV,EAAZ;AACA,QAAIC,YAAJ;AACA,QAAIC,gBAAJ;;AAEA,aAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACzB,SAAI,CAACzU,KAAKkT,UAAV,EAAsB;;AAEtBoB,WAAM,IAAN;AACAF,WAAMlM,CAAN,GAAYuM,MAAMC,OAAN,GAAgBliB,OAAO4C,UAAzB,GAAwC,CAAxC,GAA4C,CAAtD;AACAgf,WAAMvN,CAAN,GAAU,EAAI4N,MAAME,OAAN,GAAgBniB,OAAO8C,WAA3B,IAA2C,CAA3C,GAA+C,CAAzD;AACA6e,eAAUS,aAAV,CAAwBR,KAAxB,EAA+B3hB,GAAG+C,MAAlC;AACAgd,kBAAa2B,UAAU1B,gBAAV,CAA2BzS,KAAK6T,OAAL,CAAaza,GAAb,CAAiB;AAAA,aAAOyH,MAAMsM,GAAb;AAAA,MAAjB,CAA3B,EAA+D,IAA/D,CAAb;;AAEA,SAAIqF,WAAWqC,IAAX,CAAgB,UAASjC,SAAT,EAAoB;AACvC,UAAIA,UAAU3P,MAAV,CAAiBlL,IAAjB,KAA0B,SAA9B,EAAyC;AACxCuc,aAAM1B,UAAU3P,MAAhB;AACA,cAAO,IAAP;AACA,OAHD,MAGO,IAAI2P,UAAU3P,MAAV,CAAiB6R,MAAjB,IAA2BlC,UAAU3P,MAAV,CAAiB6R,MAAjB,CAAwB/c,IAAxB,KAAiC,SAAhE,EAA2E;AACjFuc,aAAM1B,UAAU3P,MAAV,CAAiB6R,MAAvB;AACA,cAAO,IAAP;AACA;AACD,MARG,CAAJ,EAQI;AACHP,gBAAUvU,KAAK6T,OAAL,CAAapT,MAAb,CAAoB;AAAA,cAAOI,MAAMsM,GAAN,KAAYmH,GAAnB;AAAA,OAApB,EAA4C,CAA5C,CAAV;AACAtU,WAAK+U,OAAL,CAAaR,OAAb;AACA;AACD;AACA;;AAEDzf,aAASwB,gBAAT,CAA0B,OAA1B,EAAmCke,SAAnC;AACA;;;4BAEQ;AAAA;;AACR,QAAIxU,OAAO,IAAX;AACA,QAAIgV,aAAa,EAAjB;AACA,QAAIC,kBAAJ;AACA,QAAIC,eAAe,KAAnB;AACA,QAAIC,YAAY,IAAI7hB,MAAM8U,KAAV,EAAhB;;AAEA,QAAIgN,YAAY,IAAI9hB,MAAM4C,OAAV,CACf,CAAC,KAAKid,SAAN,GAAkB,KAAKE,OAAvB,GAAiC,CADlB,EAEf,CAAC,KAAKF,SAAN,GAAkB,KAAKG,OAAvB,GAAiC,CAFlB,EAGf,CAAC,KAAKH,SAAN,GAAkB,KAAKI,OAAvB,GAAiC,CAHlB,CAAhB;;AAPQ;;AAeP0B,iBAAY,IAAI3hB,MAAM4C,OAAV,CACXmf,SAAS,OAAKhC,OAAL,GAAetM,KAAKgF,MAAL,EAAxB,IAAyC,OAAKoH,SADnC,EAEXkC,SAAS,OAAK/B,OAAL,GAAevM,KAAKgF,MAAL,EAAxB,IAAyC,OAAKoH,SAFnC,EAGXkC,SAAS,OAAK9B,OAAL,GAAexM,KAAKgF,MAAL,EAAxB,IAAyC,OAAKoH,SAHnC,CAAZ;AAKA8B,eAAU9e,GAAV,CAAcif,SAAd;;AAEA,SAAIE,aAAa,KAAjB;AACA,SAAIC,aAAa,IAAIjiB,MAAM4C,OAAV,EAAjB;AACA,SAAIsf,gBAAJ;AACAN,oBAAeF,WAAWS,KAAX,CAAiB,UAAShN,KAAT,EAAgB;AAC/C+M,gBAAUD,WAAWnS,UAAX,CAAsB6R,SAAtB,EAAiCxM,KAAjC,EAAwCzM,MAAxC,EAAV;AACAsZ,mBAAcA,cAAcE,UAAUxV,KAAKyT,kBAA3C;AACA,aAAO+B,UAAUxV,KAAKwT,WAAtB;AACA,MAJc,KAIT8B,UAJN;;AAMA,SAAI,CAACN,WAAWhZ,MAAZ,IAAsBkZ,YAA1B,EAAwC;AACvCF,iBAAW5a,IAAX,CAAgB6a,SAAhB;AACA;AAjCM;;AAaR,WAAMD,WAAWhZ,MAAX,GAAoB,KAAKoX,UAA/B,EAA2C;AAAA;AAqB1C;;AAED;AACA,QAAIsC,iBAAiB,IAAIC,GAAJ,EAArB;AACA,WAAMD,eAAeE,IAAf,GAAsB,KAAKlC,YAAL,CAAkB1X,MAA9C,EAAsD;AACrD0Z,oBAAevf,GAAf,CAAoB4Q,KAAKgF,MAAL,KAAgB,KAAKqH,UAAtB,GAAkC,CAArD;AACA;AACD;AACA,QAAIyC,kBAAkB,CAAtB,CA1CQ,CA0CiB;AACzBb,eAAW9c,OAAX,CAAmB,UAAS+c,SAAT,EAAoB3a,KAApB,EAA2B;AAC7C,SAAIwb,aAAJ;AACA,SAAIJ,eAAeK,GAAf,CAAmBzb,KAAnB,CAAJ,EAA+B;AAC9Bwb,aAAO,IAAI1H,WAAJ,CAAgB6G,SAAhB,EAA2BjV,KAAK0T,YAAL,CAAkBmC,eAAlB,EAAmCxR,SAA9D,CAAP;AACAyR,WAAKpe,IAAL;AACAoe,WAAK/d,IAAL,GAAYiI,KAAK0T,YAAL,CAAkBmC,eAAlB,EAAmC9d,IAA/C;AACAiI,WAAK6T,OAAL,CAAazZ,IAAb,CAAkB0b,IAAlB;AACAD;AACA,MAND,MAMO;AACNC,aAAO,IAAI/I,IAAJ,CAASkI,SAAT,CAAP,CAA4Ba,KAAKpe,IAAL;AAC5B;AACD;AACAoe,UAAK3H,QAAL,CAAc,IAAI7a,MAAM4C,OAAV,CAAkB6Q,KAAKgF,MAAL,KAAc,CAAhC,EAAmChF,KAAKgF,MAAL,KAAc,CAAjD,EAAoDhF,KAAKgF,MAAL,KAAc,CAAlE,CAAd;AACA;AACA/L,UAAK2T,MAAL,CAAYvZ,IAAZ,CAAiB0b,IAAjB;AACAX,eAAUhf,GAAV,CAAc2f,KAAKhV,IAAnB;AACA,KAhBD;AAiBA,SAAKO,OAAL,CAAa8T,SAAb,GAAyBA,SAAzB;AACA,SAAK9T,OAAL,CAAa8T,SAAb,CAAuB5N,KAAvB,CAA6ByO,SAA7B,CAAuC,MAAvC;;AAEA;AACA,QAAIlI,aAAJ;AACA,QAAImI,YAAY,IAAI3iB,MAAM8U,KAAV,EAAhB;AACA,SAAKuL,MAAL,CAAYzb,OAAZ,CAAoB,UAASge,KAAT,EAAgB5c,CAAhB,EAAmB;AACtC0G,UAAK2T,MAAL,CAAYzb,OAAZ,CAAoB,UAASie,KAAT,EAAgB5N,CAAhB,EAAmB;AACtC,UACCjP,MAAMiP,CAAN,IACA2N,MAAM9I,YAAN,CAAmB7S,OAAnB,CAA2B4b,KAA3B,MAAsC,CAAC,CADvC,IAEAA,MAAM/I,YAAN,CAAmB7S,OAAnB,CAA2B2b,KAA3B,MAAsC,CAAC,CAFvC,IAGC,IAAI5iB,MAAM4C,OAAV,EAAD,CAAoBkN,UAApB,CAA+B8S,MAAMlJ,SAArC,EAAgDmJ,MAAMnJ,SAAtD,EAAiEhR,MAAjE,KAA4EgE,KAAKyT,kBAJlF,EAKE;;AAEF3F,aAAO,IAAIsC,IAAJ,CAAS8F,KAAT,EAAgBC,KAAhB,CAAP;AACAD,YAAM9I,YAAN,CAAmBhT,IAAnB,CAAwB+b,KAAxB;AACAA,YAAM/I,YAAN,CAAmBhT,IAAnB,CAAwB8b,KAAxB;AACAA,YAAMjJ,UAAN,CAAiB7S,IAAjB,CAAsB0T,IAAtB;AACAqI,YAAMjJ,QAAN,CAAe9S,IAAf,CAAoB0T,IAApB;AACAmI,gBAAU9f,GAAV,CAAc2X,KAAKhN,IAAnB;AACAd,WAAK4T,MAAL,CAAYxZ,IAAZ,CAAiB0T,IAAjB;AACA,MAfD;AAgBA,KAjBD;AAkBA,SAAKzM,OAAL,CAAa4U,SAAb,GAAyBA,SAAzB;;AAEA;AACA,SAAKjC,gBAAL,CAAsBxI,KAAtB;AACA,SAAKnK,OAAL,CAAa+U,cAAb,GAA8B,KAAKpC,gBAAL,CAAsBoC,cAApD;AAEA;;;2BAEqB;AAAA,QAAhBjG,OAAgB,uEAAN,IAAM;;AACrBrO,WAAOC,IAAP,CAAY,KAAKV,OAAjB,EAA0BnJ,OAA1B,CAAkC,UAAS8J,CAAT,EAAY;AAAEvP,QAAGmC,KAAH,CAASuB,GAAT,CAAa,KAAKkL,OAAL,CAAaW,CAAb,CAAb;AAA+B,KAA7C,CAA8CjJ,IAA9C,CAAmD,IAAnD,CAAlC;AACA,SAAK8a,OAAL,CACE3b,OADF,CACU;AAAA,YAAO2I,MAAMC,IAAN,CAAWmP,OAAX,GAAmB,IAA1B;AAAA,KADV;;AAIA,QAAIjQ,OAAO,IAAX;AACA,QAAIqW,aAAa,CAAClG,OAAD,GAAW,CAAX,GAAemG,SAAhC;AACA,QAAIC,sBAAsB,CAACpG,OAAD,GAAW,CAAX,GAAeqG,QAAzC;AACA,QAAIC,oBAAoB,CAACtG,OAAD,GAAW,CAAX,GAAeqG,QAAvC;;AAEA,QAAIE,gBAAgB,CAACvG,OAAD,GAAW,CAAX,GAAewG,QAAnC;AACA,QAAIC,cAAc,CAACzG,OAAD,GAAW,CAAX,GAAe0G,QAAjC;;AAEA,QAAIC,YAAY,CAAC3G,OAAD,GAAW,CAAX,GAAe4G,SAA/B;AACA,QAAIC,aAAa,CAAC7G,OAAD,GAAW,CAAX,GAAemG,SAAhC;;AAEA,QAAIW,kBAAkB,CAAC9G,OAAD,GAAW,CAAX,GAAe2G,YAAYE,UAAZ,GAAyB5F,SAA9D;;AAEA,QAAI8F,mBAAmB,CAAC/G,OAAD,GAAW,CAAX,GAAegH,SAAtC;AACA,QAAIC,iBAAiB,CAACjH,OAAD,GAAW,CAAX,GAAekH,SAApC;;AAEA;AACA;AACA,QAAIlH,OAAJ,EAAa;AACZ,UAAK3a,MAAL,CAAYO,QAAZ,CAAqBC,GAArB,CAAyB,GAAzB,EAA8B,CAA9B,EAAiC,CAAC,GAAlC;AACA,UAAKR,MAAL,CAAYS,MAAZ,CAAmB+J,KAAKgU,gBAAL,CAAsBsD,OAAzC;AACA,UAAK9hB,MAAL,CAAY+hB,EAAZ,CAAevhB,GAAf,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AACA,UAAKR,MAAL,CAAY2a,OAAZ,CAAoB;AACnBpa,gBAAU,IAAIzC,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,GAAxB,CADS;AAEnBqhB,UAAI,IAAIjkB,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB;AAFe,MAApB,EAGGmgB,UAHH,EAGe,CAHf,EAGkB;AACjBzJ,cADiB,sBACN;AAAE5M,YAAKxK,MAAL,CAAYS,MAAZ,CAAmB+J,KAAKgU,gBAAL,CAAsBsD,OAAzC;AAAoD;AADhD,MAHlB;AAMA;;AAED,SAAKtD,gBAAL,CAAsBwD,OAAtB,CAA8BnB,UAA9B,EAA0CnjB,IAA1C,CAA+C,YAAW;;AAEzD;AACA8M,UAAKqB,OAAL,CAAa8T,SAAb,CAAuBlN,QAAvB,CAAgCC,CAAhC,GAAoCnB,KAAKC,EAAL,GAAU,EAA9C;AACAhH,UAAKqB,OAAL,CAAa8T,SAAb,CAAuBhF,OAAvB,CAA+B;AAC9B5I,aAAO,IAAIjU,MAAM4C,OAAV,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,CAAtB,CADuB;AAE9BuhB,kBAAY;AAFkB,MAA/B,EAGGhB,iBAHH,EAGsBF,mBAHtB,EAG2C;AAC1CzT,gBAD0C,wBAC7B;AACZ;AACA9C,YAAK2T,MAAL,CAAYzb,OAAZ,CAAoB,UAAS4d,IAAT,EAAe;AAClCA,aAAKhV,IAAL,CAAUqP,OAAV,CAAkB,EAACpa,UAAU+f,KAAK9I,SAAhB,EAAlB,EAA8C4J,WAA9C,EAA2DF,aAA3D;AACA,QAFD;AAGA;AANyC,MAH3C;;AAYA;AACA,SAAIvG,OAAJ,EAAa;AACZnQ,WAAK0O,QAAL,CACC,IAAIvT,MAAMwW,KAAV,CAAgB,EAAC+F,GAAG3Q,KAAKC,EAAL,GAAQ,GAAZ,EAAhB,EACC4K,EADD,CACI,EAAC8F,GAAG3Q,KAAKC,EAAL,GAAQ,GAAZ,EADJ,EACsBiQ,eADtB,EAECpF,MAFD,CAEQ1W,MAAM2W,MAAN,CAAaC,KAAb,CAAmB4F,KAF3B,EAGC/K,QAHD,CAGU,YAAW;AACpB;AACA,WAAI8K,IAAI,KAAKA,CAAb;AACAjlB,UAAG+C,MAAH,CAAUO,QAAV,CAAmBmS,CAAnB,GAAuBnB,KAAKoD,GAAL,CAASuN,CAAT,IAAc,GAArC;AACAjlB,UAAG+C,MAAH,CAAUO,QAAV,CAAmBiU,CAAnB,GAAuBjD,KAAKqD,GAAL,CAASsN,CAAT,IAAc,GAArC;AACAjlB,UAAG+C,MAAH,CAAUO,QAAV,CAAmB8Q,CAAnB,GAAuBE,KAAKoD,GAAL,CAASuN,CAAT,IAAc,GAArC;AACAjlB,UAAG+C,MAAH,CAAUS,MAAV,CAAiB+J,KAAKgU,gBAAL,CAAsBsD,OAAvC;AACA,OAVD,EAUG/iB,KAVH,EADD;AAaA;;AAED;AACA,YAAOyL,KAAKgU,gBAAL,CAAsB4D,MAAtB,CAA6Bd,SAA7B,CAAP;AACA,KAnCD,EAmCG5jB,IAnCH,CAmCQ,YAAW;AAClB,YAAO8M,KAAKgU,gBAAL,CAAsB6D,OAAtB,CAA8Bb,UAA9B,CAAP;AACA,KArCD,EAqCG9jB,IArCH,CAqCQ,YAAW;AAClB8M,UAAK4T,MAAL,CAAY1b,OAAZ,CAAoB,UAAS4V,IAAT,EAAe;AAClCA,WAAKgK,OAAL,CAAaV,cAAb,EAA6BrQ,KAAKgF,MAAL,KAAgBmL,gBAA7C;AACA,MAFD;;AAIAlX,UAAKyB,SAAL,GAAiB,IAAInO,MAAM4O,iBAAV,CAA4BlC,KAAKxK,MAAjC,EAAyC/C,GAAG+B,QAAH,CAAYS,UAArD,CAAjB;;AAEA+K,UAAKyB,SAAL,CAAeyS,OAAf,GAAyB,IAAzB;AACAlU,UAAKyB,SAAL,CAAesW,MAAf,GAAwB,IAAxB;AACA/X,UAAKkT,UAAL,GAAkB,IAAlB;;AAEAlT,UAAKwB,EAAL,GAAUxB,KAAK7I,OAAL,CAAa,UAAS6C,KAAT,EAAgB;AACtCgG,WAAKyB,SAAL,CAAerK,MAAf,CAAsB4C,KAAtB;AACA,MAFS,CAAV;AAGA,KAnDD;;AAqDA;AACA;;;;;;;;AASA;;;2BAEO;AACP,SAAKkZ,UAAL,GAAkB,KAAlB;AACA,SAAKzR,SAAL,CAAesW,MAAf,GAAwB,KAAxB;AACA,SAAKtW,SAAL,CAAeyS,OAAf,GAAyB,KAAzB;AACA,SAAK9P,UAAL,CAAgB,KAAK5C,EAArB;AACA,SAAKqS,OAAL,CACEpT,MADF,CACS;AAAA,YAAOI,MAAML,QAAb;AAAA,KADT,EAEEtI,OAFF,CAEU,iBAAO;AACf2I,WAAMC,IAAN,CAAWmP,OAAX,GAAmB,KAAnB;AACA,KAJF;;AAMA,SAAK5O,OAAL,CAAa4U,SAAb,CAAuBhG,OAAvB,GAAiC,KAAjC;AAEA;;;2BAGO6F,I,EAAM;AACb,QAAI9V,OAAO,IAAX;AACA,QAAI,KAAK8T,eAAL,CAAqB9X,MAArB,KAAgC,KAAK+X,YAAzC,EAAuD;AACtD,UAAKD,eAAL,CAAqBkE,KAArB,GAA6BC,QAA7B;AACA;AACDnC,SAAKoC,MAAL;;AAEA;;AAEA,SAAKzW,SAAL,CAAesW,MAAf,GAAwB,KAAxB;;AAEA,QAAII,iBAAiBrC,KAAKhV,IAAL,CAAU/K,QAAV,CAAmBgL,KAAnB,EAArB;AACAoX,mBAAe/F,SAAf,CAAyB+F,eAAenc,MAAf,KAA0B,KAAKwX,WAAL,GAAmB,GAAtE;AACA,SAAKhe,MAAL,CAAYgT,QAAZ,CAAqBvS,MAArB,GAA8B,IAAI3C,MAAM4C,OAAV,EAA9B;AACA,SAAKV,MAAL,CAAY0a,WAAZ,GAA0BC,OAA1B,CAAkC,EAACpa,UAAUoiB,cAAX,EAA2BliB,QAAQ,IAAI3C,MAAM4C,OAAV,EAAnC,EAAlC,EAAyF,IAAzF,EAA+F,CAA/F,EAAkG;AACjG4M,eADiG,wBACpF;AACZhK,iBAAW,YAAW;AACrBkH,YAAKyB,SAAL,CAAesW,MAAf,GAAwB,IAAxB;AACA,OAFD,EAEG,IAFH;AAGA;AALgG,KAAlG;;AASA,SAAKjE,eAAL,CAAqB1Z,IAArB,CAA0B0b,IAA1B;AACA,SAAKpX,SAAL,CAAe,iBAAf,EAAkC,CAAC,KAAKoV,eAAN,CAAlC;AACA;;;6BAESgC,I,EAAM;AACfA,SAAKmC,QAAL;AACA,SAAKnE,eAAL,GAAuB,KAAKA,eAAL,CAAqBrT,MAArB,CAA4B;AAAA,YAAOqV,SAAOjV,KAAd;AAAA,KAA5B,CAAvB;AACA,SAAKnC,SAAL,CAAe,iBAAf,EAAkC,CAAC,KAAKoV,eAAN,CAAlC;AACA;;;2BAEOgC,I,EAAM;AACbA,SAAKtV,QAAL,GAAgB,KAAK4X,SAAL,CAAetC,IAAf,CAAhB,GAAuC,KAAKuC,OAAL,CAAavC,IAAb,CAAvC;AACA;;AAED;;;;6BACUwC,G,EAAK,CAEd;;;0BAEMvgB,I,EAAM;AACZ,QAAI+d,OAAO,KAAKjC,OAAL,CAAapT,MAAb,CAAoB,UAACI,KAAD;AAAA,YAASA,MAAM9I,IAAN,KAAaA,IAAtB;AAAA,KAApB,EAAgD,CAAhD,CAAX;AACA,SAAKgd,OAAL,CAAae,IAAb;AACA;;;iCAEa;AACb;AACA,WAAO,KAAKjC,OAAL,CAAapT,MAAb,CAAoB,UAACI,KAAD;AAAA,YAASA,MAAML,QAAf;AAAA,KAApB,CAAP;AACA;;;;;;mBAOayS,W;;;;;;;;;;;;;;AC/nBf;;;;;;;;;;;;KAGMsF,gB;;;AACF,iCAAc;AAAA;;AAAA;;AAEV,eAAKnC,cAAL;AACA,eAAKkB,OAAL,GAAe,IAAIhkB,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAf;AACA,eAAKsiB,QAAL,GAAgB,IAAIllB,MAAM4C,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAhB;AAJU;AAKb;;;;gCAEM,CAEN;;;iCAEO;AACJ,iBAAI8J,OAAO,IAAX;AACA,iBAAI2K,UAAUlY,GAAGU,MAAH,CAAUwX,OAAV,CAAkB8N,GAAhC;AACA;AACA,iBAAI7N,cAAanY,GAAGU,MAAH,CAAUyX,WAAV,CAAsBnX,OAAvC;AACA;;AAEA,iBAAIilB,UAAUC,aAAahO,OAAb,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,CAAd;AACA,iBAAIiO,UAAU,GAAd;AACA,iBAAIC,UAAU,CAAd,CATI,CASY;AAChB,iBAAItL,OAAO,IAAIja,MAAM2d,QAAV,EAAX;AACA,iBAAI3O,WAAW,IAAIhP,MAAMwlB,cAAV,CAAyB;AACpC1f,sBAAKwR,WAD+B;AAEpCgL,uBAAM,CAF8B;AAGpClQ,8BAAa,IAHuB;AAIpCxM,0BAAS,GAJ2B;AAKpC6f,kCAAiB,IALmB;AAMpCtT,wBAAO,QAN6B;AAOpCoK,2BAAUvc,MAAMwc;AAPoB,cAAzB,CAAf;;AAWA4I,qBAAQxgB,OAAR,CAAgB,UAAS8gB,KAAT,EAAgB;AAC5B,qBAAIC,KAAK,IAAI3lB,MAAM4C,OAAV,CACL8iB,MAAMpD,IAAN,CAAW1N,CAAX,GAAe,CADV,EAEL8Q,MAAMpD,IAAN,CAAW/O,CAAX,GAAe,CAAf,GAAmBgS,OAFd,EAGL,CAHK,CAAT;AAKAI,oBAAGnK,KAAH,GAAWmK,GAAGlY,KAAH,EAAX,CAN4B,CAML;AACvBkY,oBAAGC,QAAH,GAAc,CAACnS,KAAKgF,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4B6M,OAA1C;AACAK,oBAAGjP,CAAH,GAAOiP,GAAGC,QAAV;;AAGAD,oBAAGE,OAAH,GAAapS,KAAKgF,MAAL,KAAgBhF,KAAKC,EAArB,GAA0B,CAAvC,CAX4B,CAWc;AAC1CiS,oBAAGG,QAAH,GAAc,CAACrS,KAAKgF,MAAL,KAAgB,GAAjB,IAAwBhF,KAAKC,EAA7B,GAAkC,CAAhD,CAZ4B,CAYuB;AACnDiS,oBAAGI,QAAH,GAActS,KAAKgF,MAAL,KAAgB,CAAhB,GAAoB,CAAlC;AACAwB,sBAAK2D,QAAL,CAAc9W,IAAd,CAAmB6e,EAAnB;AACA;AACH,cAhBD;AAiBAjZ,kBAAKoW,cAAL,GAAsB,IAAI9iB,MAAMgmB,cAAV,CAAyB/L,IAAzB,EAA+BjL,QAA/B,CAAtB;AACI;AACA;AACP;;;mCAEwB;AAAA,iBAAjBoK,GAAiB,uEAAX4J,SAAW;;AACrB,iBAAItW,OAAO,IAAX;AACA,iBAAIuZ,oBAAJ;;AAEA,oBAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkB;AACjC;AACA,qBAAIC,gBAAgB,IAAIve,MAAMwW,KAAV,CAAgB,EAAC3H,GAAG,CAAJ,EAAhB,EAAwB4H,EAAxB,CAA2B,EAAC5H,GAAG,CAAJ,EAA3B,EAAmC0C,MAAM,GAAzC,CAApB;AACAgN,+BAAc7H,MAAd,CAAqB1W,MAAM2W,MAAN,CAAaC,KAAb,CAAmB4F,KAAxC,EAA+C/K,QAA/C,CAAwD,YAAW;AAC/D,yBAAI5C,IAAI,KAAKA,CAAb;AACAhK,0BAAKoW,cAAL,CAAoB5E,QAApB,CAA6BC,kBAA7B,GAAkD,IAAlD;AACAzR,0BAAKoW,cAAL,CAAoB5E,QAApB,CAA6BN,QAA7B,CAAsChZ,OAAtC,CAA8C,UAAS+gB,EAAT,EAAa;AACvDA,4BAAGjP,CAAH,GAAOiP,GAAGC,QAAH,GAAclP,CAArB;AACH,sBAFD;AAGH,kBAND,EAMGlH,UANH,CAMc;AAAA,4BAAI2W,SAAJ;AAAA,kBANd,EAM6BllB,KAN7B;AAOAyL,sBAAK0O,QAAL,CAAcgL,aAAd;AACH,cAXM,CAAP;AAYH;;;kCAEuB;AAAA,iBAAjBhN,GAAiB,uEAAXyK,SAAW;;AACpB,iBAAInX,OAAO,IAAX;AACA,iBAAI2Z,cAAc,IAAIxe,MAAMwW,KAAV,CAAgB,EAAC/O,GAAG,CAAJ,EAAhB,EAAwBgP,EAAxB,CAA2B,EAAChP,GAAG,CAAC,CAAL,EAA3B,EAAoC8J,GAApC,CAAlB;;AAEA,kBAAKgC,QAAL,CAAciL,WAAd;AACA,oBAAO,IAAIH,OAAJ,CAAY,UAASC,OAAT,EAAkB;AACjCE,6BAAY9H,MAAZ,CAAmB1W,MAAM2W,MAAN,CAAaC,KAAb,CAAmB4F,KAAtC,EAA6C/K,QAA7C,CAAsD,YAAW;;AAE7D;AACA,yBAAIhK,IAAI,KAAKA,CAAL,GAAS,CAAT,GAAa,KAAKA,CAAlB,GAAsB,CAA9B;AACA5C,0BAAKoW,cAAL,CAAoB5E,QAApB,CAA6BC,kBAA7B,GAAkD,IAAlD;AACAzR,0BAAKoW,cAAL,CAAoB5E,QAApB,CAA6BN,QAA7B,CAAsChZ,OAAtC,CAA8C,UAAS+gB,EAAT,EAAa;AACvDA,4BAAG7G,SAAH,CAAa6G,GAAGnK,KAAH,CAAS9S,MAAT,KAAoB4G,CAAjC;AACH,sBAFD;AAGH,kBARD,EAQGE,UARH,CAQc2W,OARd,EAQuBllB,KARvB;AASH,cAVM,CAAP;AAWH;;;mCAEwB;AAAA,iBAAjBmY,GAAiB,uEAAX4J,SAAW;;AACrB,iBAAItW,OAAO,IAAX;AACA,iBAAI4Z,eAAe,IAAIze,MAAMwW,KAAV,CAAgB,EAACkI,GAAG,CAAJ,EAAOjE,MAAM,CAAb,EAAhB,EAAiChE,EAAjC,CAAoC,EAACiI,GAAG,IAAJ,EAAUjE,MAAM,EAAhB,EAApC,EAAyDlJ,GAAzD,CAAnB;;AAEA,kBAAKgC,QAAL,CAAckL,YAAd;AACA,oBAAO,IAAIJ,OAAJ,CAAY,UAASC,OAAT,EAAkB;AACjCG,8BAAa/H,MAAb,CAAoB1W,MAAM2W,MAAN,CAAaC,KAAb,CAAmB+H,GAAvC,EAA4ClN,QAA5C,CAAqD,YAAW;AAC5D;AACA,yBAAIiN,IAAI,KAAKA,CAAb;AACA,yBAAIE,eAAJ;AACA/Z,0BAAKoW,cAAL,CAAoB9T,QAApB,CAA6BsT,IAA7B,GAAoC,KAAKA,IAAzC;AACA5V,0BAAKoW,cAAL,CAAoB9T,QAApB,CAA6B0X,WAA7B,GAA2C,IAA3C;;AAEAha,0BAAKoW,cAAL,CAAoB5E,QAApB,CAA6BC,kBAA7B,GAAkD,IAAlD;AACAzR,0BAAKoW,cAAL,CAAoB5E,QAApB,CAA6BN,QAA7B,CAAsChZ,OAAtC,CAA8C,UAAS+gB,EAAT,EAAa;AACvDc,kCAASF,IAAIZ,GAAGI,QAAP,GAAkBtS,KAAKoD,GAAL,CAAS8O,GAAGG,QAAZ,CAA3B;AACAH,4BAAGpS,CAAH,GAAOgT,IAAIZ,GAAGI,QAAP,GAAkBtS,KAAKqD,GAAL,CAAS6O,GAAGG,QAAZ,CAAzB;AACAH,4BAAG/Q,CAAH,GAAO6R,SAAShT,KAAKoD,GAAL,CAAS8O,GAAGE,OAAZ,CAAhB;AACAF,4BAAGjP,CAAH,GAAO+P,SAAShT,KAAKqD,GAAL,CAAS6O,GAAGE,OAAZ,CAAhB;AACH,sBALD;AAMH,kBAdD,EAcGrW,UAdH,CAcc2W,OAdd,EAcuBllB,KAdvB;AAeH,cAhBM,CAAP;AAiBH;;;;;;mBAGUgkB,gB;;;;;;;;;;;;;;ACxHf;;;;AACA;;;;;;;;;;;;AACA;;KAEM0B,O;;;AACL,qBAAc;AAAA;;AAAA;;AAEb,SAAKC,SAAL;AACA;AACA,SAAKC,aAAL;;AAEA,SAAKpiB,IAAL,GAAY,SAAZ;AACA,SAAKkJ,MAAL,GAAc,KAAd;AACA,SAAKjJ,MAAL,GAAc,KAAd;;AAEA;AACA,SAAKoiB,aAAL,GAAqB,EAArB,CAXa,CAWY;AACzB,SAAKC,oBAAL,GAA4B,EAA5B;AACA,SAAKpiB,MAAL,GAAc,EAAd;;AAEA;AACA,SAAKqiB,SAAL,GAAiB3a,EAAE,cAAF,CAAjB;AACA,SAAK4a,YAAL,GAAoB5a,EAAE,kBAAF,CAApB;;AAEA,SAAK6a,YAAL,GAAoB7a,EAAE,oBAAF,CAApB;;AAEA,SAAK8a,WAAL,GAAmB,EAAnB;AACA,SAAKC,kBAAL,GAA0B,EAA1B;;AAEA,SAAKP,aAAL,GAAqB1nB,GAAGC,WAAH,CAAeG,OAAf,CAAuB,UAAvB,CAArB;AACA;AACA;AA1Ba;AA2Bb;;AAED;;;;;4BACSuF,I,EAAM;AAAE;AAChB,QAAI4H,OAAO,IAAX;AACA;AACA,QAAI,CAAC,KAAKiB,MAAV,EAAkB;AACjB,UAAKvJ,IAAL;AACA;AACA;;AAED,QAAIU,IAAJ,EAAU;AACT,SAAI4I,UAAUrB,EAAEuF,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB9M,KAAK4I,OAAxB,CAAd;AACA,UAAKqZ,oBAAL,GAA4B,EAA5B;AACArZ,aAAQ9I,OAAR,CAAgB,UAASyiB,MAAT,EAAiBrhB,CAAjB,EAAoB;AACnC,UAAI,CAAC,KAAK8gB,aAAL,CAAmBO,OAAO5iB,IAA1B,CAAL,EAAsC;AACrC,WAAI6iB,cAAc,4BAAgBD,OAAO5iB,IAAvB,EAA6B4iB,OAAO5kB,QAApC,CAAlB;AACA,YAAKqkB,aAAL,CAAmBO,OAAO5iB,IAA1B,IAAkC6iB,WAAlC;AACA,YAAKP,oBAAL,CAA0BjgB,IAA1B,CAA+BwgB,WAA/B;AACA;AACD,MANe,CAMd7hB,IANc,CAMT,IANS,CAAhB;;AAQA;AACA,SAAI,CAAC,KAAK8hB,OAAL,CAAa9hB,IAAb,CAAkB,IAAlB,EAAwB,KAAKjG,QAAL,CAAciG,IAAd,CAAmB,IAAnB,CAAxB,CAAL,EAAwD;AACxD;;AAED;AACAtG,OAAGyE,IAAH,CAAQ+C,IAAR;;AAEA;;AAEA;AACA,QAAI6gB,UAAUC,uBAAuB,KAAKV,oBAAL,CAA0Bre,MAAjD,CAAd;AACA,QAAIkM,IAAI,CAAR;AACA,QAAI8S,aAAa,CAAjB;;AAEA,SAAKX,oBAAL,CAA0BniB,OAA1B,CAAkC,UAAS0iB,WAAT,EAAsBthB,CAAtB,EAAyB2hB,GAAzB,EAA8B;AAC/D,SAAIC,UAAU,IAAI5nB,MAAM4C,OAAV,CAAkBgS,IAAI,CAAC5O,IAAK2hB,IAAIjf,MAAJ,GAAW,CAAjB,IAAuB,GAA7C,EAAkD,CAAlD,EAAqD,CAArD,CAAd;;AAEA4e,iBAAY1Z,KAAZ,CAAkB4Z,QAAQxhB,CAAR,CAAlB,EAA8BpG,IAA9B,CAAmC,YAAW;AAC7C8nB;AACA,UAAIA,eAAeC,IAAIjf,MAAvB,EAA+B;AAC9B;AACA;AACD,MALD;AAMAgE,UAAK/H,MAAL,CAAYmC,IAAZ,CAAiBwgB,WAAjB;AACA,KAVD;AAWA,SAAKO,eAAL,GAAuB,KAAKC,cAAL;;AAEvB;AACA,SAAKd,SAAL,CAAe/Z,WAAf,CAA2B,MAA3B;;AAEA,SAAKvI,MAAL,GAAc,IAAd;AACA;;;gCAEY;AACZ8J,WAAOC,IAAP,CAAY,KAAKnN,KAAjB,EAAwBsD,OAAxB,CAAgC,UAAS8J,CAAT,EAAY;AAAEvP,QAAGmC,KAAH,CAASqJ,MAAT,CAAgB+B,KAAKpL,KAAL,CAAWoN,CAAX,CAAhB;AAAgC,KAA9E;AACA,SAAKoC,UAAL,CAAgBiX,UAAhB;;AAEA,SAAKf,SAAL,CAAe5Z,QAAf,CAAwB,MAAxB;AACA,SAAK4a,aAAL,CAAmBpjB,OAAnB,CAA2B,UAASqjB,YAAT,EAAuB;AACjDziB,gBAAW,YAAW;AAACyiB,mBAAaC,UAAb;AAA2B,MAAlD,EAAoD,CAApD;AACA,KAFD;AAGA,SAAKF,aAAL,CAAmBtf,MAAnB,GAA4B,CAA5B;;AAEA;AACA,SAAK/D,MAAL,GAAc,EAAd;AACA,SAAKD,MAAL,GAAc,KAAd;AACA;;;4BAEQ;AACR,SAAKojB,cAAL;AACA;;;0BAEM;AACN,QAAIpb,OAAO,IAAX;AACA,QAAIyb,WAAW,KAAKlB,YAAL,CAAkBmB,IAAlB,CAAuB,WAAvB,CAAf;AACA,QAAIC,aAAa,KAAKpB,YAAL,CAAkBmB,IAAlB,CAAuB,aAAvB,CAAjB;AACA,QAAIE,WAAW,KAAKrB,YAAL,CAAkBmB,IAAlB,CAAuB,WAAvB,CAAf;;AAEA1b,SAAKiB,MAAL,GAAc,IAAd;;AAEA,SAAKsZ,YAAL,CAAkBhd,EAAlB,CAAqB,OAArB,EAA8B,cAA9B,EAA8C,YAAW;AACxDyC,UAAKua,YAAL,CAAkB7Z,QAAlB,CAA2B,MAA3B;AACA,KAFD;;AAIA,SAAK6Z,YAAL,CAAkBhd,EAAlB,CAAqB,OAArB,EAA8B,WAA9B,EAA2C,YAAW;AACrDke,cAAS/a,QAAT,CAAkB,MAAlB;AACAib,gBAAWpb,WAAX,CAAuB,MAAvB;AACAP,UAAKua,YAAL,CAAkBha,WAAlB,CAA8B,MAA9B;AACAP,UAAK6b,KAAL;AACA,KALD;;AAOA,SAAKtB,YAAL,CAAkBhd,EAAlB,CAAqB,OAArB,EAA8B,aAA9B,EAA6C,YAAW;AACvDoe,gBAAWjb,QAAX,CAAoB,MAApB;AACA+a,cAASlb,WAAT,CAAqB,MAArB;AACAP,UAAKua,YAAL,CAAkBha,WAAlB,CAA8B,MAA9B;AACAP,UAAK8b,OAAL;AACA,KALD;;AAOA,SAAKvB,YAAL,CAAkBhd,EAAlB,CAAqB,OAArB,EAA8B,WAA9B,EAA2C,YAAW;AACrDyC,UAAKwb,UAAL;AACAxb,UAAK1I,YAAL,CAAkB,iBAAlB;AACA0I,UAAKua,YAAL,CAAkBha,WAAlB,CAA8B,MAA9B;AACA,KAJD;;AAMA;AACA,SAAK+Z,SAAL,CAAe/c,EAAf,CAAkB,OAAlB,EAA2B,YAA3B,EAAyC,YAAW;AACnD,SAAIjD,QAAQqF,EAAE,IAAF,EAAQoc,OAAR,CAAgB,iBAAhB,EAAmCzhB,KAAnC,EAAZ;AACA0F,UAAKgc,WAAL,CAAiB1hB,KAAjB;AACA,KAHD;;AAKA,SAAKggB,SAAL,CAAe/c,EAAf,CAAkB,OAAlB,EAA2B,YAA3B,EAAyC,YAAW;AACnD,SAAIjD,QAAQqF,EAAE,IAAF,EAAQoc,OAAR,CAAgB,iBAAhB,EAAmCzhB,KAAnC,EAAZ;AACA0F,UAAKic,YAAL,CAAkB3hB,KAAlB;AACA,KAHD;;AAKA,SAAKggB,SAAL,CAAe/c,EAAf,CAAkB,OAAlB,EAA2B,QAA3B,EAAqC,YAAW;AAC/C,SAAIjD,QAAQqF,EAAE,IAAF,EAAQoc,OAAR,CAAgB,iBAAhB,EAAmCzhB,KAAnC,EAAZ;AACA,SAAImL,QAAQ9F,EAAE,IAAF,EAAQvH,IAAR,CAAa,OAAb,CAAZ;AACA4H,UAAKqa,oBAAL,CAA0B/f,KAA1B,EAAiC4hB,WAAjC,CAA6CzW,KAA7C;AACA9F,OAAE,IAAF,EAAQe,QAAR,CAAiB,UAAjB,EAA6Byb,QAA7B,GAAwC5b,WAAxC,CAAoD,UAApD;AACA,KALD;AAMA;;;2BAEO2N,Q,EAAU;AACjB,QAAIlO,OAAO,IAAX;AACA,QAAIoc,gBAAgB,CAApB;AACA,QAAIC,SAAS,IAAb;AACA,QAAIC,eAAe,EAAnB;;AAEA,aAASC,OAAT,GAAmB;AAClB,SAAIC,YAAY,CAAhB;AACA,SAAIC,aAAa,CAAjB;AACA,SAAIC,QAAJ;AACA,SAAIC,WAAJ;;AAEA,UAAK,IAAI5kB,IAAT,IAAiBukB,YAAjB,EAA+B;AAC9BK,oBAAcL,aAAavkB,IAAb,CAAd;AACAykB,mBAAaG,YAAY/G,IAAzB;AACA6G,oBAAcE,YAAYD,QAAZ,GAAuBC,YAAY/G,IAAjD;AACA;;AAED8G,gBAAWD,aAAWD,SAAtB;AACAxc,UAAK4c,aAAL,CAAmBF,QAAnB;AACA,SAAIN,kBAAkB,CAAtB,EAAyB;AACxB;AACAlO,iBAAYlO,KAAKma,aAAL,CAAmB/mB,UAAnB;AACZ;AACD;;AAED,SAAK,IAAI2E,IAAT,IAAiB,KAAKqiB,aAAtB,EAAqC;AACpC;AACA,SAAI,CAAC,KAAKA,aAAL,CAAmBriB,IAAnB,EAAyBkJ,MAA9B,EAAsC;AACrCob,eAAS,KAAT;AACAD;AACAE,mBAAavkB,IAAb,IAAqB;AACpB6d,aAAM,KAAKwE,aAAL,CAAmBriB,IAAnB,EAAyB6d,IADX;AAEpB8G,iBAAU;AAFU,OAArB;AAIA,OAAC,UAASG,KAAT,EAAgB;AAChB7c,YAAKoa,aAAL,CAAmByC,KAAnB,EAA0BnlB,IAA1B,CAA+B,UAASglB,QAAT,EAAmB;AACjDJ,qBAAaO,KAAb,EAAoBH,QAApB,GAA+BA,QAA/B;AACAH;AACA,QAHD,EAGGrpB,IAHH,CAGQ,YAAW;AAClBkpB;AACAE,qBAAaO,KAAb,EAAoBH,QAApB,GAA+B,CAA/B;AACAH;AACA,QAPD,EAOGO,KAPH,CAOS,UAASC,CAAT,EAAY;AAAEC,gBAAQC,KAAR,CAAcF,EAAEG,KAAhB;AAAyB,QAPhD;AAQA,OATD,EASGnlB,IATH;AAUA;AACD;AACD,QAAI,CAACskB,MAAL,EAAa;AAAE,UAAKlC,aAAL,CAAmBrnB,QAAnB;AAAgC;;AAE/C,WAAOupB,MAAP;AACA;;;iCAEaK,Q,EAAU;AACvB;AACA,SAAKvC,aAAL,CAAmBlnB,WAAnB,CAA+BypB,QAA/B;AACA;;;qCAEiB;AACjB,QAAIS,iBACH,iCACC,8BADD,GAEE,mDAFF,GAGE,wDAHF,GAIC,QAJD,GAKC,oCALD,GAMA,QAPD;AAQA,QAAIC,gBAAgB,kDAApB;AACA,QAAIC,YAAY,EAAhB;;AAEA,SAAK7C,YAAL,CAAkB1a,IAAlB,CAAuB,EAAvB;AACA,SAAK4a,kBAAL,GAA0B,EAA1B;AACA,SAAKL,oBAAL,CAA0BniB,OAA1B,CAAkC,UAAS0iB,WAAT,EAAsBthB,CAAtB,EAAyB;AAC1D,SAAI,CAAC,KAAKmhB,WAAL,CAAiBnhB,CAAjB,CAAL,EAA0B;AACzB,WAAKmhB,WAAL,CAAiBnhB,CAAjB,IAAsBqG,EAAEwd,cAAF,CAAtB;AACA;AACD,UAAKzC,kBAAL,CAAwBphB,CAAxB,IAA6B,KAAKmhB,WAAL,CAAiBnhB,CAAjB,CAA7B;AACA,UAAKkhB,YAAL,CAAkB8C,MAAlB,CAAyB,KAAK5C,kBAAL,CAAwBphB,CAAxB,CAAzB;;AAEA+jB,iBAAY,EAAZ;AACAzC,iBAAY2C,SAAZ,GAAwBrlB,OAAxB,CAAgC,UAASuN,KAAT,EAAgB;AAC/C4X,mBAAaD,cAAcI,OAAd,CAAsB,UAAtB,EAAkC/X,KAAlC,CAAb;AACA,MAFD;AAGA,UAAKiV,kBAAL,CAAwBphB,CAAxB,EAA2BoiB,IAA3B,CAAgC,iBAAhC,EAAmD+B,KAAnD,GAA2D3d,IAA3D,CAAgEud,SAAhE;AACA,KAZiC,CAYhCtkB,IAZgC,CAY3B,IAZ2B,CAAlC;AAaA;;AAED;;;;+BACYuB,K,EAAO;AAClB,QAAI,KAAK4f,SAAT,EAAoB;AACnB,UAAKG,oBAAL,CAA0B,CAA1B,EAA6BqD,KAA7B;AACA,KAFD,MAEO;AACN,UAAKrD,oBAAL,CAA0B/f,KAA1B,EAAiCojB,KAAjC;AACA;AACD;;;gCAEYpjB,K,EAAO;AACnB,SAAK+f,oBAAL,CAA0B/f,KAA1B,EAAiC2D,MAAjC;AACA,SAAKoc,oBAAL,CAA0B7f,MAA1B,CAAiCF,KAAjC,EAAwC,CAAxC;;AAEA;AACA,SAAKogB,kBAAL,CAAwBpgB,KAAxB,EAA+B2D,MAA/B;AACA,SAAKyc,kBAAL,CAAwBlgB,MAAxB,CAA+BF,KAA/B,EAAsC,CAAtC;AACA,SAAK8gB,cAAL;AACA;;;oCAEgB;AAChB,QAAIN,UAAUC,uBAAuB,KAAKV,oBAAL,CAA0Bre,MAAjD,CAAd;;AAEA;AACA,SAAKqe,oBAAL,CAA0BniB,OAA1B,CAAkC,UAAS0iB,WAAT,EAAsBthB,CAAtB,EAAyB;AAC1DshB,iBAAY+C,YAAZ,CAAyB7C,QAAQxhB,CAAR,CAAzB;AACA,KAFD;;AAIA;AACAwhB,cAAUnb,EAAEuF,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB4V,OAAnB,CAAV;AACAA,YAAQ5iB,OAAR,CAAgB,UAAS0lB,IAAT,EAAe;AAC9B,UAAK,IAAIC,GAAT,IAAgBD,IAAhB,EAAsB;AACrBA,WAAKC,GAAL,KAAa,GAAb,CAAkBD,KAAKC,GAAL,KAAa,GAAb;AAClB;AACD,KAJD;;AAMA,SAAKnD,kBAAL,CAAwBxiB,OAAxB,CAAgC,UAAS4lB,UAAT,EAAqBxkB,CAArB,EAAwB;AACvDwkB,gBAAWC,GAAX,CAAejD,QAAQxhB,CAAR,CAAf;AACA,KAFD;AAGA;;;2BAEO;AACP,SAAK+gB,oBAAL,CAA0BniB,OAA1B,CAAkC,UAAS0iB,WAAT,EAAsBthB,CAAtB,EAAyB;AAC1DshB,iBAAYoD,IAAZ,CAAiB1kB,MAAM,CAAvB;AACA,KAFD;;AAIA,SAAK4gB,SAAL,GAAiB,KAAK/iB,OAAL,CAAa,YAAW;AACxC,SAAI8mB,WAAW,KAAK5D,oBAAL,CAA0B,CAA1B,EAA6B6D,OAA7B,EAAf;AACA,UAAK7D,oBAAL,CAA0BniB,OAA1B,CAAkC,UAAS0iB,WAAT,EAAsBthB,CAAtB,EAAyB;AAC1D,UAAIA,IAAI,CAAR,EAAWshB,YAAYrlB,OAAZ,CAAoB0oB,QAApB;AACX,MAFD;AAGA,KAL6B,CAK5BllB,IAL4B,CAKvB,IALuB,CAAb,CAAjB;AAMA;;;6BAES;AACT,SAAKshB,oBAAL,CAA0BniB,OAA1B,CAAkC,UAAS0iB,WAAT,EAAsBthB,CAAtB,EAAyB;AAC1DshB,iBAAYuD,MAAZ;AACA,KAFD;AAGA,SAAK/Z,UAAL,CAAgB,KAAK8V,SAArB,EAAiC,KAAKA,SAAL,GAAiB,IAAjB;AACjC;;;;;;mBAKaD,O;;;;;;;;;;;;;;;;AClTf;;;;AACA;;;;AACA;;;;;;;;;;;;KAEMmE,a;;;AAEL,yBAAYC,UAAZ,EAAwBtoB,QAAxB,EAAkC;AAAA;;AAAA;;AAEjC,SAAKuoB,WAAL,CAFiC,CAEf;AAClB,SAAKC,UAAL,CAHiC,CAGhB;;AAEjB;AACA,SAAKC,OAAL;AACA,SAAKC,OAAL;;AAEA,SAAK1mB,IAAL,CATiC,CAStB;AACX,SAAK6d,IAAL;AACA,SAAK3U,MAAL,GAAc,KAAd;;AAEA,SAAKyd,SAAL;AACA,SAAKrd,OAAL,GAAe,EAAf;AACA,SAAKoI,MAAL,GAAc1T,SAASgL,KAAT,EAAd;;AAEA;AACA,SAAK4d,WAAL,GAAmB;AAClBC,WAAQ,EAAC7oB,UAAU,IAAX,EAAiBkS,UAAU,IAA3B,EADU;AAElBzS,YAAS,EAACO,UAAU,IAAX,EAAiBE,QAAQ,IAAzB;AAFS,IAAnB;;AAKA;AACA,SAAKqU,KAAL;;AAEA,SAAK7E,KAAL;;AAEA,SAAKoZ,MAAL,GAAc,KAAd;AACA,SAAK7mB,MAAL,GAAc,KAAd;;AAEA,SAAKD,IAAL,GAAYsmB,UAAZ;AACA,SAAKI,OAAL,GAAe,qBAAW,MAAK1mB,IAAhB,CAAf;AACA,SAAK6d,IAAL,GAAY,MAAK6I,OAAL,CAAa7I,IAAzB;AAjCiC;AAkCjC;;;;wBAEIrL,U,EAAY;AAChB,WAAO,KAAKkU,OAAL,CAAa1rB,IAAb,CAAkBwX,UAAlB,CAAP;AACA;;;wBAEIA,U,EAAY;AAChB,QAAIvK,OAAO,IAAX;AACA,WAAO,KAAKjN,IAAL,CAAUwX,UAAV,EAAsBrX,IAAtB,CAA2B,YAAW;AAC5C,YAAO,IAAIsmB,OAAJ,CAAY,UAASC,OAAT,EAAkBqF,MAAlB,EAA0B;AAC5C;AACA9e,WAAKqB,OAAL,CAAaP,IAAb,GAAoBd,KAAKye,OAAL,CAAa3d,IAAjC;AACAd,WAAK+e,WAAL;AACA/e,WAAKiB,MAAL,GAAc,IAAd;AACAwY;AACA,MANM,CAAP;AAOA,KARM,EAQJqD,KARI,CAQE,UAASC,CAAT,EAAY;AAAEC,aAAQgC,GAAR,CAAYjC,EAAEG,KAAd;AAAuB,KARvC,CAAP,CAQgD;AAChD;;;yBAEK+B,U,EAAY;AACjB,SAAKX,WAAL,GAAmBW,UAAnB;;AAEM,SAAK5d,OAAL,CAAaP,IAAb,CAAkB/K,QAAlB,CAA2BkM,IAA3B,CAAgC,KAAKwH,MAArC;;AAEA,SAAKpI,OAAL,CAAaP,IAAb,CAAkBmH,QAAlB,CAA2BhG,IAA3B,CAAgC,IAAI3O,MAAM4rB,KAAV,CAAgB,CAACnY,KAAKC,EAAN,GAAS,CAAzB,EAA4B,CAAC,GAA7B,EAAkC,CAAC,GAAnC,EAAwC,KAAxC,CAAhC;AACA,SAAKwX,OAAL,CAAajH,EAAb,CAAgBtV,IAAhB,CAAqBxP,GAAG+C,MAAH,CAAU+hB,EAA/B;AACA,SAAKiH,OAAL,CAAazoB,QAAb,CAAsBkM,IAAtB,CAA2BxP,GAAG+C,MAAH,CAAUO,QAArC;AACN,SAAKyoB,OAAL,CAAazoB,QAAb,CAAsBiU,CAAtB,IAA2B,EAA3B;AACA,SAAKwU,OAAL,CAAavoB,MAAb,CAAoB3C,MAAM6rB,SAAN,CAAgBC,SAAhB,CAA0B3sB,GAAG+C,MAA7B,CAApB;;AAEA;AACM,SAAK6L,OAAL,CAAazL,SAAb,CAAuBG,QAAvB,CAAgCkM,IAAhC,CAAqC,KAAKwH,MAA1C;AACA,SAAKpI,OAAL,CAAazL,SAAb,CAAuBG,QAAvB,CAAgC8Q,CAAhC,IAAqC,GAArC;AACA,SAAKxF,OAAL,CAAazL,SAAb,CAAuBG,QAAvB,CAAgCmS,CAAhC,IAAqC,GAArC;AACA,SAAK7G,OAAL,CAAazL,SAAb,CAAuBG,QAAvB,CAAgCiU,CAAhC,IAAqC,GAArC;AACA,SAAK3I,OAAL,CAAazL,SAAb,CAAuBK,MAAvB,CAA8B,KAAKwT,MAAnC;;AAEN;AACM,SAAKpI,OAAL,CAAaqI,UAAb,CAAwB3T,QAAxB,CAAiCkM,IAAjC,CAAsC,KAAKwH,MAA3C;AACA,SAAKpI,OAAL,CAAaqI,UAAb,CAAwB3T,QAAxB,CAAiC8Q,CAAjC,IAAsC,GAAtC;AACA,SAAKxF,OAAL,CAAaqI,UAAb,CAAwB3T,QAAxB,CAAiCmS,CAAjC,IAAsC,GAAtC;AACA,SAAK7G,OAAL,CAAaqI,UAAb,CAAwB3T,QAAxB,CAAiCiU,CAAjC,IAAsC,GAAtC;AACA,SAAK3I,OAAL,CAAaqI,UAAb,CAAwBzT,MAAxB,CAA+B,KAAKwT,MAApC;;AAIN;AACA,SAAKkV,WAAL,GAAmB,EAAC7d,MAAM,EAAP,EAAWtL,QAAQ,EAAnB,EAAnB;AACA,SAAKmpB,WAAL,CAAiB7d,IAAjB,CAAsB/K,QAAtB,GAAiC,KAAKsL,OAAL,CAAaP,IAAb,CAAkB/K,QAAlB,CAA2BgL,KAA3B,EAAjC;AACA,SAAK4d,WAAL,CAAiB7d,IAAjB,CAAsBmH,QAAtB,GAAiC,KAAK5G,OAAL,CAAaP,IAAb,CAAkBmH,QAAlB,CAA2BlH,KAA3B,EAAjC;;AAEA,SAAK4d,WAAL,CAAiBnpB,MAAjB,CAAwBO,QAAxB,GAAmC,KAAKsL,OAAL,CAAaP,IAAb,CAAkB/K,QAAlB,CAA2BgL,KAA3B,EAAnC;AACA,SAAK4d,WAAL,CAAiBnpB,MAAjB,CAAwBO,QAAxB,CAAiCiU,CAAjC,IAAsC,EAAtC;AACA,SAAK2U,WAAL,CAAiBnpB,MAAjB,CAAwBS,MAAxB,GAAiC,KAAKoL,OAAL,CAAaP,IAAb,CAAkB/K,QAAlB,CAA2BgL,KAA3B,EAAjC;;AAEA;AACAe,WAAOC,IAAP,CAAY,KAAKV,OAAjB,EAA0BnJ,OAA1B,CAAkC,UAAS8J,CAAT,EAAY;AAAEvP,QAAGmC,KAAH,CAASuB,GAAT,CAAa,KAAKkL,OAAL,CAAaW,CAAb,CAAb;AAA+B,KAA7C,CAA8CjJ,IAA9C,CAAmD,IAAnD,CAAlC;;AAEA,SAAKjB,MAAL;;AAEA,SAAKunB,YAAL;AACA,SAAKloB,OAAL,CAAa,KAAKmoB,OAAL,CAAavmB,IAAb,CAAkB,IAAlB,CAAb;;AAEA,WAAO,KAAKwmB,mBAAL,EAAP;AACA;;AAED;;;;2BACQ;;AAEP;AACAvC,YAAQgC,GAAR,CAAYld,OAAOC,IAAP,CAAY,KAAKV,OAAjB,CAAZ;AACAS,WAAOC,IAAP,CAAY,KAAKV,OAAjB,EAA0BnJ,OAA1B,CAAkC,UAAS8J,CAAT,EAAY;AAAEvP,QAAGmC,KAAH,CAASqJ,MAAT,CAAgB+B,KAAKqB,OAAL,CAAaW,CAAb,CAAhB;AAAkC,KAAlF;AACA;AACA,SAAKwd,QAAL,CAAcvhB,MAAd;AACA,SAAKpL,OAAL,CAAa,iBAAb,EAAgC4sB,YAAhC,CAA6C,IAA7C;AACA,SAAK5S,WAAL;AACA,SAAKzI,UAAL;AACA,SAAKpM,MAAL,GAAc,KAAd;AACA;;AAED;;;;4BACS;AACR,QAAI7C,WAAW3C,OAAO4C,UAAtB;AACA,QAAIC,YAAY7C,OAAO8C,WAAvB;;AAEA,SAAKipB,UAAL,GAAkB,EAAlB;AACA,SAAKA,UAAL,CAAgB,MAAhB,IAA0BlJ,SAASlgB,WAAW,KAAKmpB,WAAL,CAAiB,MAAjB,CAApB,CAA1B;AACA,SAAKC,UAAL,CAAgB,OAAhB,IAA2BlJ,SAASlgB,WAAW,KAAKmpB,WAAL,CAAiB,OAAjB,CAApB,CAA3B;AACA,SAAKC,UAAL,CAAgB,KAAhB,IAAyBlJ,SAAShgB,YAAY,KAAKipB,WAAL,CAAiB,KAAjB,CAArB,CAAzB;AACA,SAAKC,UAAL,CAAgB,QAAhB,IAA4BlJ,SAAShgB,YAAY,KAAKipB,WAAL,CAAiB,QAAjB,CAArB,CAA5B;;AAEA,SAAKC,UAAL,CAAgB,QAAhB,IAA4BlpB,YAAY,KAAKkpB,UAAL,CAAgB,QAAhB,CAAZ,GAAwC,KAAKA,UAAL,CAAgB,KAAhB,CAApE;;AAEA,SAAKC,OAAL,CAAajoB,MAAb,GAAsB,KAAKgoB,UAAL,CAAgB,OAAhB,IAA2B,KAAKA,UAAL,CAAgB,QAAhB,CAAjD;AACA,SAAKC,OAAL,CAAahoB,sBAAb;;AAEA,SAAKkoB,SAAL,CAAegB,YAAf,CAA4B,KAAKnB,UAAjC;AACA;;;gCAEYU,U,EAAY;AACxB,QAAIjf,OAAO,IAAX;AACA,QAAI2f,WAAW,KAAKrB,WAApB;AACA,QAAIsB,YAAYX,UAAhB;;AAEA,SAAKY,QAAL,CAAc,SAAd;AACA,QAAIC,cAAc,IAAI3kB,MAAMwW,KAAV,CAAgBgO,QAAhB,EAA0B9N,MAA1B,CAAiC1W,MAAM2W,MAAN,CAAaC,KAAb,CAAmB4F,KAApD,EAA2D/F,EAA3D,CAA8DgO,SAA9D,EAAyE,IAAzE,EAA+EhT,QAA/E,CAAwF,YAAW;AACpH5M,UAAKse,WAAL,GAAmB,IAAnB;AACAte,UAAKlI,MAAL;AACA,KAHiB,EAGfgL,UAHe,CAGJ,YAAW;AACxB9C,UAAK6M,WAAL,CAAiBiT,WAAjB;AACA9f,UAAK6f,QAAL,CAAc,QAAd;AACA,KANiB,EAMftrB,KANe,EAAlB;AAOA;;;4BAEQ+V,K,EAAO;AACf,SAAKA,KAAL,GAAaA,KAAb;AACA,QAAIA,UAAU,QAAd,EAAwB;AACvB,UAAKoU,SAAL,CAAehnB,IAAf,CAAoB,KAAK8mB,OAAzB,EAAkC,KAAKnd,OAAL,CAAaP,IAA/C;AACA,UAAKhJ,MAAL;AACA,MAAC,KAAK+mB,MAAN,IAAgB,KAAKH,SAArB,KAAmC,KAAKA,SAAL,CAAexK,OAAf,GAAyB,IAA5D;AACA,KAJD,MAIO;AACN,MAAC,KAAK2K,MAAN,IAAgB,KAAKH,SAArB,KAAmC,KAAKA,SAAL,CAAexK,OAAf,GAAyB,KAA5D;AACA;AACD;;AAED;;;;6BACU;AACT,QAAI0B,OAAO,EAAX;;AAEAA,SAAKmK,aAAL,GAAqB,KAAK1e,OAAL,CAAaP,IAAb,CAAkBmH,QAAlB,CAA2BlH,KAA3B,EAArB;AACA6U,SAAKoK,cAAL,GAAsB,KAAKxB,OAAL,CAAavW,QAAb,CAAsBlH,KAAtB,EAAtB;AACA6U,SAAKqK,QAAL,GAAgB,KAAKzB,OAAL,CAAajH,EAAb,CAAgBxW,KAAhB,EAAhB;AACA6U,SAAKsK,GAAL,GAAY,IAAI5sB,MAAM4C,OAAV,EAAD,CAAoBkN,UAApB,CAA+B,KAAKob,OAAL,CAAazoB,QAA5C,EAAsD,KAAKsL,OAAL,CAAaP,IAAb,CAAkB/K,QAAxE,CAAX;;AAEA,WAAO6f,IAAP;AACA;;;2BAEOA,I,EAAM;AACb,SAAKvU,OAAL,CAAaP,IAAb,CAAkBmH,QAAlB,CAA2BhG,IAA3B,CAAgC2T,KAAKmK,aAArC;AACA;AACA;AACA,SAAKvB,OAAL,CAAazoB,QAAb,CAAsBoqB,UAAtB,CAAiC,KAAK9e,OAAL,CAAaP,IAAb,CAAkB/K,QAAnD,EAA6D6f,KAAKsK,GAAlE;AACA,SAAK1B,OAAL,CAAavoB,MAAb,CAAoB,KAAKoL,OAAL,CAAaP,IAAjC;AACA;;;wBAEIsf,M,EAAQ;AACZ,SAAKvB,MAAL,GAAc,IAAd;AACA,QAAIuB,MAAJ,EAAY;AACX,UAAK1B,SAAL,CAAexK,OAAf,GAAyB,IAAzB;AACA,UAAKwK,SAAL,CAAe2B,UAAf,GAA4B,IAA5B;AACA,KAHD,MAGO;AACN,UAAK3B,SAAL,CAAexK,OAAf,GAAyB,KAAzB;AACA;AACD,SAAKwJ,KAAL;AACA;;;4BAEQ;AACR,SAAKmB,MAAL,GAAc,KAAd;;AAEA,SAAKH,SAAL,CAAexK,OAAf,GAAyB,IAAzB;AACA,SAAKwK,SAAL,CAAe2B,UAAf,GAA4B,KAA5B;AACA,SAAK3C,KAAL;AACA;;;+BAEW;AACX,QAAI,KAAKe,OAAT,EAAkB;AACjB,YAAO,KAAKA,OAAL,CAAalB,SAAb,EAAP;AACA;AACD;;AAED;;;;;;4BAGS;AACR;AACA,SAAKnZ,UAAL;AACA;;AAED;;;;2BACQ;AACP;AACA,SAAKyb,QAAL,CAAc,SAAd;;AAEA,QAAIS,oBAAoB,KAAK3B,WAAL,CAAiB7d,IAAjB,CAAsBmH,QAA9C;AACA,QAAIsY,qBAAqB,KAAK5B,WAAL,CAAiBnpB,MAAjB,CAAwBO,QAAjD;AACA,QAAIyqB,2BAA2B,KAAK7B,WAAL,CAAiBnpB,MAAjB,CAAwBO,QAAvD;;AAEA,SAAKsL,OAAL,CAAaP,IAAb,CAAkBqP,OAAlB,CAA0B;AACnBlI,eAAUqY;AADS,KAA1B,EAES,IAFT;;AAIA,SAAK9B,OAAL,CAAarO,OAAb,CAAqB;AACdpa,eAAUwqB,kBADI;AAEdtqB,aAAQuqB;AAFM,KAArB,EAGS,IAHT,EAGe,CAHf,EAGkB;AACX1d,iBAAY,YAAW;AACtB,WAAK+c,QAAL,CAAc,QAAd;AACA,MAFW,CAEV9mB,IAFU,CAEL,IAFK;AADD,KAHlB;AAQA;;;iCAEa;;AAEb;AACC,SAAKsI,OAAL,CAAazL,SAAb,GAAyB,IAAItC,MAAMuC,SAAV,CAAoB,QAApB,CAAzB;AACA,SAAKwL,OAAL,CAAazL,SAAb,CAAuBE,SAAvB,GAAmC,GAAnC;;AAEA,SAAKuL,OAAL,CAAaqI,UAAb,GAA0B,IAAIpW,MAAMuC,SAAV,CAAoB,QAApB,CAA1B;AACA,SAAKwL,OAAL,CAAaqI,UAAb,CAAwB5T,SAAxB,GAAoC,GAApC;;AAED,SAAK0oB,OAAL,GAAe,IAAIlrB,MAAMmC,iBAAV,CAA4B,EAA5B,EAAgCjD,OAAO4C,UAAP,GAAoB5C,OAAO8C,WAA3D,EAAwE,GAAxE,EAA6E,IAA7E,CAAf;;AAGM,SAAKopB,SAAL,GAAiB,iCAAsB,KAAKF,OAA3B,CAAjB;AACA;AACN;;;gCAEY/Y,K,EAAO;AACnB,SAAKgZ,OAAL,CAAavC,WAAb,CAAyBzW,KAAzB;AACA;;AAED;;;;yCACsB;AACrB,QAAIzF,OAAO,IAAX;AACA,WAAO,IAAIwZ,OAAJ,CAAY,UAASC,OAAT,EAAkBqF,MAAlB,EAA0B;AAC5C9e,UAAK6f,QAAL,CAAc,SAAd;;AAEA,SAAIS,oBAAoBtgB,KAAK2e,WAAL,CAAiB7d,IAAjB,CAAsBmH,QAA9C;AACA,SAAIsY,qBAAqBvgB,KAAK2e,WAAL,CAAiBnpB,MAAjB,CAAwBO,QAAjD;;AAEAiK,UAAKqB,OAAL,CAAaP,IAAb,CAAkBmH,QAAlB,CAA2BhG,IAA3B,CAAgCqe,iBAAhC;AACAtgB,UAAKqB,OAAL,CAAaP,IAAb,CAAkBmH,QAAlB,CAA2BC,CAA3B,IAAgCnB,KAAKC,EAAL,GAAU,GAA1C;AACAhH,UAAKqB,OAAL,CAAaP,IAAb,CAAkBmH,QAAlB,CAA2B+B,CAA3B,IAAgCjD,KAAKC,EAAL,GAAU,GAA1C;AACAhH,UAAKqB,OAAL,CAAaP,IAAb,CAAkBqP,OAAlB,CAA0B;AACzBlI,gBAAUqY;AADe,MAA1B,EAEG,IAFH;;AAIAtgB,UAAKwe,OAAL,CAAarO,OAAb,CAAqB;AACpBpa,gBAAUwqB;AADU,MAArB,EAEG,IAFH,EAES,CAFT,EAEY;AACXzd,kBAAY,sBAAW;AACtB9C,YAAK6f,QAAL,CAAc,QAAd;AACApG;AACA;AAJU,MAFZ;AAQA,KArBM,CAAP;AAsBA;;;6BAES;;AAEThnB,OAAG+B,QAAH,CAAYisB,WAAZ,CAAwB,KAAKlC,UAAL,CAAgB,MAAhB,CAAxB,EAAiD,KAAKA,UAAL,CAAgB,QAAhB,CAAjD,EAA4E,KAAKA,UAAL,CAAgB,OAAhB,CAA5E,EAAsG,KAAKA,UAAL,CAAgB,QAAhB,CAAtG;AACA9rB,OAAG+B,QAAH,CAAYksB,UAAZ,CAAuB,KAAKnC,UAAL,CAAgB,MAAhB,CAAvB,EAAgD,KAAKA,UAAL,CAAgB,QAAhB,CAAhD,EAA2E,KAAKA,UAAL,CAAgB,OAAhB,CAA3E,EAAqG,KAAKA,UAAL,CAAgB,QAAhB,CAArG;AACA9rB,OAAG+B,QAAH,CAAYmsB,cAAZ,CAA2B,IAA3B;AACA,SAAKnC,OAAL,CAAajoB,MAAb,GAAsB,KAAKgoB,UAAL,CAAgB,OAAhB,IAA2B,KAAKA,UAAL,CAAgB,QAAhB,CAAjD;AACA,SAAKC,OAAL,CAAahoB,sBAAb;AACA/D,OAAG+B,QAAH,CAAY6C,MAAZ,CAAoB5E,GAAGmC,KAAvB,EAA8B,KAAK4pB,OAAnC;AACA,SAAKE,SAAL,CAAetnB,MAAf;AACA;;;;;;mBAGagnB,a;;;;;;;;;;;;;;AC3Sf;;;;AACA;;;;AACA;;;;;;;;;;gfAHA;;;AAKA,KAAIzrB,SAAS,sBAAb;AACA,KAAIiuB,YAAJ;AACA,KAAIC,aAAa,IAAIvtB,MAAMutB,UAAV,EAAjB;;KAIMC,M;;;AAEL,kBAAYzC,UAAZ,EAAwB;AAAA;;AAAA;;AAGvB,SAAKvd,IAAL,CAHuB,CAGZ;AACX,SAAK8U,IAAL,CAJuB,CAIZ;;AAEX,SAAKmL,MAAL;AACA,SAAKC,UAAL;AACA,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,aAAL;AACA,SAAKC,oBAAL,GAA4B,EAA5B;AACA,SAAKC,YAAL,GAAoB,mBAApB;;AAEA,wBAAclpB,OAAd,CAAsB,UAASyiB,MAAT,EAAiB;AACtC,QAAIA,OAAO5iB,IAAP,KAAgBsmB,UAApB,EAAgC;AAC/B,UAAK0C,MAAL,GAAcpG,MAAd;AACA;AACD,IAJqB,CAIpB5hB,IAJoB,OAAtB;AAKA,SAAK6c,IAAL,GAAYjjB,OAAO0uB,aAAP,CAAqB,MAAKN,MAA1B,CAAZ;AAlBuB;AAmBvB;;;;+BAEW;AACX,WAAO,KAAKE,OAAZ;AACA;;;+BAEWxb,K,EAAO;AAClB,QAAI,KAAKyb,aAAL,KAAuBzb,KAA3B,EAAkC;AAClC,QAAI,KAAKwb,OAAL,CAAa1mB,OAAb,CAAqBkL,KAArB,IAA8B,CAAlC,EAAqC;AACpCuX,aAAQgC,GAAR,CAAY,eAAZ;AACA;AACA;;AAED,SAAKle,IAAL,CAAU+R,QAAV,CAAmB3a,OAAnB,CAA2B,UAASopB,KAAT,EAAgB;AAC1C,SAAIC,eAAe,KAAKJ,oBAAL,CAA0BK,IAA1B,CAAnB;;AAEA,UAAKR,UAAL,CAAgBvb,KAAhB,EAAuBvN,OAAvB,CAA+B,UAASoK,QAAT,EAAmB;AACjD,UAAIA,SAASvK,IAAT,CAAcylB,OAAd,CAAsB,MAAtB,EAA8B,EAA9B,MAAsC+D,aAAa/D,OAAb,CAAqB,MAArB,EAA6B,EAA7B,CAA1C,EAA4E;AAC3E8D,aAAMhf,QAAN,GAAiBA,QAAjB;AACAgf,aAAMhf,QAAN,CAAe0X,WAAf,GAA6B,IAA7B;AACA;AACD,MALD;AAMA,KATD;AAUA;;;wBAEIzP,U,EAAY;AAChB,QAAIvK,OAAO,IAAX;AACA,QAAIyhB,MAAJ;AACA,QAAIC,SAAJ;AACA,QAAI9X,QAAQ,IAAItW,MAAM8U,KAAV,EAAZ;AACA,QAAIuZ,cAAchvB,OAAOI,IAAP,CAAY,KAAKguB,MAAjB,EAAyBxW,UAAzB,CAAlB;;AAEA,WAAOoX,YAAYzuB,IAAZ,CAAiB,UAAS0uB,QAAT,EAAmB;AAC1CH,cAASI,KAAKC,KAAL,CAAWF,SAASjH,MAAT,CAAgB8G,MAA3B,CAAT;AACA,YAAO,IAAIjI,OAAJ,CAAY,UAASC,OAAT,EAAkB;AACpCzZ,WAAKghB,UAAL,GAAkBS,OAAOC,SAAzB;AACA,WAAK,IAAIjc,KAAT,IAAkBzF,KAAKghB,UAAvB,EAAmC;AAClChhB,YAAKihB,OAAL,CAAa7mB,IAAb,CAAkBqL,KAAlB;AACAzF,YAAKkhB,aAAL,GAAqBlhB,KAAKihB,OAAL,CAAa,CAAb,CAArB;AACAjhB,YAAKghB,UAAL,CAAgBvb,KAAhB,IAAyBzF,KAAK+hB,gBAAL,CAAsB/hB,KAAKghB,UAAL,CAAgBvb,KAAhB,CAAtB,EAA8Cic,SAAvE;AACA;AACD,WAAK,IAAIM,SAAT,IAAsBP,OAAOA,MAA7B,EAAqC;;AAEpC,WAAIQ,SAASjiB,KAAK+hB,gBAAL,CAAsBN,OAAOA,MAAP,CAAcO,SAAd,CAAtB,CAAb;AACA,WAAIxQ,WAAWyQ,OAAOzQ,QAAtB;AACA,WAAIlP,WAAW2f,OAAOP,SAAP,CAAiB,CAAjB,CAAf;AACA,WAAI9C,KAAJ;;AAEA,WAAItc,SAASvK,IAAT,CAAcmqB,KAAd,CAAoB,OAApB,CAAJ,EAAkC;AACjC5f,iBAASjP,MAAT,GAAkBZ,GAAGU,MAAH,CAAUE,MAA5B;AACA;AACD;;;;;;;;;;;;;AAeAiP,gBAASyF,IAAT,GAAgBzU,MAAM8S,UAAtB;AACA9D,gBAASoD,WAAT,GAAwBpD,SAASpJ,OAAT,KAAqB,CAArB,GAAuB,KAAvB,GAA6B,IAArD;AACA0lB,eAAQ,IAAItrB,MAAM0S,IAAV,CAAewL,QAAf,EAAyBlP,QAAzB,CAAR;;AAEAtC,YAAKmhB,oBAAL,CAA0BvC,MAAM4C,IAAhC,IAAwCS,OAAOP,SAAP,CAAiB,CAAjB,EAAoB3pB,IAA5D;AACA6R,aAAMzT,GAAN,CAAUyoB,KAAV;AACA;AACD5e,WAAKc,IAAL,GAAY8I,KAAZ;AACA6P;AACA,MAzCM,CAAP;AA0CA,KA5CM,EA4CJqD,KA5CI,CA4CE,UAASC,CAAT,EAAY;AAAEC,aAAQC,KAAR,CAAcF,EAAEG,KAAhB;AAAyB,KA5CzC,CAAP;AA6CA;;;oCAEgBiF,I,EAAM;;AAEtB,QAAG,OAAOA,IAAP,KAAgB,QAAnB,EAA6B;AAC5BA,YAAON,KAAKC,KAAL,CAAWK,IAAX,CAAP;AACA;AACD;AACA,QAAIA,KAAKT,SAAL,IAAkB,OAAOS,KAAKT,SAAZ,KAA0B,QAAhD,EAA0D;AACzDS,UAAKT,SAAL,CAAexpB,OAAf,CAAuB,UAASoK,QAAT,EAAmB;AACzC,UAAIA,SAAS8f,UAAb,EAAyB;AACxB9f,gBAAS8f,UAAT,GAAsB,EAAtB;AACA;AACD,MAJD;AAKA;AACD,WAAOvB,WAAWiB,KAAX,CAAiBK,IAAjB,EAAuBE,SAASC,QAAT,CAAkB9E,OAAlB,CAA0B,SAA1B,EAAqC,EAArC,CAAvB,CAAP;AACA;;;;;;mBAGasD,M;;;;;;;;;;;;;;;;;;AChIf;AACA,KAAIyB,cAAc,EAAlB;;KAEMC,M;AACL,oBAAc;AAAA;AAAE;;;;iCAEFC,U,EAAY;AACzB,QAAIjG,YAAY,CAAhB;AACA,QAAIkG,YAAY,KAAKC,aAAL,CAAmBF,UAAnB,CAAhB;;AAEA,SAAK,IAAInpB,IAAI,CAAb,EAAgBA,IAAIopB,UAAU1mB,MAA9B,EAAsC1C,GAAtC,EAA2C;AAC1CkjB,kBAAakG,UAAUppB,CAAV,EAAasc,IAA1B;AACA;AACD,WAAO4G,SAAP;AACA;;AAED;;;;wBACKiG,U,EAAYlY,U,EAAY;AAC5B,QAAIvK,OAAO,IAAX;AACA,WAAO,IAAIwZ,OAAJ,CAAY,UAASoJ,MAAT,EAAiB9D,MAAjB,EAAyB;AAC3C,SAAI+D,cAAc,CAAlB;AACA,SAAIrG,YAAY,CAAhB,CAF2C,CAExB;AACnB,SAAIC,aAAa,CAAjB,CAH2C,CAGvB;AACpB,SAAIiG,YAAY,EAAhB;AACA,SAAII,iBAAJ;;AAEAJ,iBAAY1iB,KAAK2iB,aAAL,CAAmBF,UAAnB,CAAZ;;AAEA,cAASM,aAAT,GAAyB;AACxB,UAAItG,aAAa,CAAjB;AACAiG,gBAAUxqB,OAAV,CAAkB,UAAS8qB,SAAT,EAAoB;AACrCvG,qBAAcuG,UAAU3G,MAAxB;AACA,OAFD;AAGA,aAAOI,UAAP;AACA;AACD,UAAK,IAAInjB,IAAI,CAAb,EAAgBA,IAAIopB,UAAU1mB,MAA9B,EAAsC1C,GAAtC,EAA2C;AAC1CwpB,iBAAWJ,UAAUppB,CAAV,CAAX;AACAwpB,eAASzG,MAAT,GAAkB,CAAlB;AACAG,mBAAasG,SAASlN,IAAtB;;AAEA,UAAI2M,YAAYO,SAAS7uB,GAArB,CAAJ,EAA+B;AAC9B4uB;AACAC,gBAASzG,MAAT,GAAkByG,SAASlN,IAA3B;AACA;AACA;AACD,OAAC,UAASkN,QAAT,EAAmB;AACnBG,kBAAWH,SAASvkB,IAApB,EAA0BukB,SAAS7uB,GAAnC,EAAwC,UAASivB,GAAT,EAAc;AACrDL;AACAN,oBAAYO,SAAS7uB,GAArB,IAA4BivB,GAA5B;AACAJ,iBAASzG,MAAT,GAAkByG,SAASlN,IAA3B;;AAEA;AACA;AACA,YAAImN,kBAAkBvG,SAAlB,KAAgC,CAAhC,IAAqCqG,gBAAgBH,UAAU1mB,MAAnE,EAA2E;AAC1E;AACA4mB,gBAAO5iB,KAAKmjB,WAAL,CAAiBV,UAAjB,CAAP;AACA;AACD,QAXD,EAWG,UAAS/F,QAAT,EAAmB;AACrBoG,iBAASzG,MAAT,GAAkByG,SAASlN,IAAT,GAAgB8G,QAAlC;AACAnS,mBAAWwY,kBAAkBvG,SAA7B;AACA,QAdD;AAeA,OAhBD,EAgBGsG,QAhBH;AAiBA;AACD,KA5CM,CAAP;AA8CA;;AAED;;;;kCACeM,G,EAAK;AACnB,QAAIC,aAAa;AAChB,YAAO,oBADS;AAEhB,aAAQ,MAFQ;AAGhB,WAAM;AAHU,KAAjB;;AAMA,SAAK,IAAI9kB,IAAT,IAAiB8kB,UAAjB,EAA6B;AAC5B,SAAIA,WAAW9kB,IAAX,EAAiB1B,IAAjB,CAAsBumB,GAAtB,CAAJ,EAAgC;AAC/B,aAAO7kB,IAAP;AACA;AACD;AACD;;AAED;;;;iCACc+kB,O,EAAS;AACtB,QAAIC,UAAU,gBAAd;AACA,QAAIC,cAAc;AACjB,YAAO,GADU;AAEjB,aAAQ;AAFS,KAAlB;AAIA,QAAIxjB,OAAO,IAAX;;AAEA,aAAS2iB,aAAT,CAAuBc,MAAvB,EAA+B;AAC9B,SAAIzvB,OAAO,EAAX;AACA,SAAIuK,aAAJ;;AAEA,SAAIuD,OAAOnG,SAAP,CAAiB+nB,QAAjB,CAA0BrlB,IAA1B,CAA+BolB,MAA/B,MAA2C,gBAA/C,EAAiE;AAChEA,aAAOvrB,OAAP,CAAe,UAASyrB,KAAT,EAAgB;AAC9B3vB,cAAOA,KAAK4vB,MAAL,CAAYjB,cAAcgB,KAAd,CAAZ,CAAP;AACA,OAFD;AAGA,MAJD,MAIO,IAAI,QAAOF,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8B,CAACA,OAAOxvB,GAA1C,EAA8C;AACpD,WAAK,IAAIyI,GAAT,IAAgB+mB,MAAhB,EAAwB;AACvBzvB,cAAOA,KAAK4vB,MAAL,CAAYjB,cAAcc,OAAO/mB,GAAP,CAAd,CAAZ,CAAP;AACA;AACD,MAJM,MAIA,IAAI,QAAO+mB,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8BA,OAAOxvB,GAAzC,EAA8C;AACpD;AACAsK,aAAOklB,OAAOxvB,GAAP,CAAWiuB,KAAX,CAAiBqB,OAAjB,EAA0B,CAA1B,CAAP;;AAEAvvB,WAAKoG,IAAL,CAAU;AACT,cAAOqpB,OAAOxvB,GADL;AAET,eAASwvB,OAAO7N,IAAP,IAAe4N,YAAYjlB,IAAZ,CAAf,IAAoC,CAFpC;AAGT,eAAQklB,OAAOllB,IAAP,IAAeyB,KAAK6jB,cAAL,CAAoBtlB,IAApB;AAHd,OAAV;AAKA;AACD,YAAOvK,IAAP;AACA;AACD,WAAO2uB,cAAcW,OAAd,CAAP;AACA;;AAED;;;;+BACYA,O,EAAS;AACpB,QAAIG,SAAS9jB,EAAEuF,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBoe,OAAnB,CAAb;;AAEA,aAASH,WAAT,CAAqBM,MAArB,EAA6B;AAC5B,SAAI3hB,OAAOnG,SAAP,CAAiB+nB,QAAjB,CAA0BrlB,IAA1B,CAA+BolB,MAA/B,MAA2C,gBAA/C,EAAiE;AAChE,aAAQA,OAAOrqB,GAAP,CAAW,UAASuqB,KAAT,EAAgB;AAClC,cAAOR,YAAYQ,KAAZ,CAAP;AACA,OAFO,CAAR;AAGA,MAJD,MAIO,IAAI,QAAOF,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8B,CAACA,OAAOxvB,GAA1C,EAA+C;AACrD,WAAK,IAAIyI,GAAT,IAAgB+mB,MAAhB,EAAwB;AACvBA,cAAO/mB,GAAP,IAAeymB,YAAYM,OAAO/mB,GAAP,CAAZ,CAAf;AACA;AACD,aAAO+mB,MAAP;AACA,MALM,MAKA,IAAI,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8BA,OAAOxvB,GAAzC,EAA8C;AACpD,aAAOsuB,YAAYkB,OAAOxvB,GAAnB,CAAP;AACA,MAFM,MAEA;AACN,aAAOwvB,MAAP;AACA;AACD;AACD,WAAON,YAAYM,MAAZ,CAAP;AACA;;;;;;AAIF;;;;;;;AAKA,KAAIR,aAAa;;AAEhB;AACA;AACA,SAAO,aAAShvB,GAAT,EAAc6vB,MAAd,EAAsBvZ,UAAtB,EAAkC;AACxC,OAAIwZ,YAAY,IAAIzwB,MAAM0wB,WAAV,EAAhB;AACAD,aAAUhxB,IAAV,CAAekB,GAAf,EAAoB,UAASwkB,GAAT,EAAc;AACjC,QAAI7N,cAAc,IAAItX,MAAM2wB,aAAV,GAA0BlxB,IAA1B,CAA+BkB,GAA/B,EAAoC,UAASR,OAAT,EAAkB;AACvE,SAAIywB,UAAU,EAAd;AACAA,aAAQzL,GAAR,GAAcA,GAAd;AACAyL,aAAQC,GAAR,GAAclwB,GAAd;AACAiwB,aAAQzwB,OAAR,GAAkBA,OAAlB;AACAqwB,YAAOI,OAAP;AACA,KANiB,CAAlB;AAOA;;AAEA,IAVD,EAUG,UAASE,GAAT,EAAc;AAChB,WAAO7Z,WAAW6Z,IAAI/H,MAAJ,GAAa+H,IAAIC,KAA5B,CAAP;AACA,IAZD;AAaA,GAnBe;;AAqBhB;AACA,UAAQ,cAASpwB,GAAT,EAAc6vB,MAAd,EAAsBvZ,UAAtB,EAAkC;AACzC,OAAI+Z,YAAY,IAAIhxB,MAAMixB,SAAV,EAAhB;AACAD,aAAUvxB,IAAV,CAAekB,GAAf,EAAoB6vB,MAApB,EAA4B,UAASM,GAAT,EAAc;AACzC,WAAO7Z,WAAW6Z,IAAI/H,MAAJ,GAAa+H,IAAIC,KAA5B,CAAP;AACA,IAFD;AAGA,GA3Be;;AA6BhB;AACA,WAAS,eAASpwB,GAAT,EAAc6vB,MAAd,EAAsBvZ,UAAtB,EAAkC;AAC1C,OAAI+Z,YAAY,IAAIhxB,MAAMixB,SAAV,EAAhB;AACAD,aAAUvxB,IAAV,CAAekB,GAAf,EAAoB,UAASuwB,GAAT,EAAc;AACjCV,WAAOU,IAAIhH,OAAJ,CAAY,wBAAZ,EAAsC,EAAtC,CAAP;AACA,IAFD,EAEG,UAAS4G,GAAT,EAAc;AAChB,WAAO7Z,WAAW6Z,IAAI/H,MAAJ,GAAa+H,IAAIC,KAA5B,CAAP;AACA,IAJD;AAKA,GArCe;;AAuChB;AACA,QAAM,YAASpwB,GAAT,EAAc6vB,MAAd,EAAsBvZ,UAAtB,EAAkC;;AAEvC,OAAIka,MAAM,IAAIC,cAAJ,EAAV;;AAEA;AACAD,OAAInuB,gBAAJ,CAAqB,UAArB,EAAiC,UAAS8tB,GAAT,EAAc;AAC3C,QAAIA,IAAIO,gBAAR,EAA0B;AACtBpa,gBAAW6Z,IAAI/H,MAAJ,GAAa+H,IAAIC,KAA5B;AACH;AACJ,IAJD,EAIG,KAJH;;AAMA;AACAI,OAAInuB,gBAAJ,CAAqB,MAArB,EAA6B,UAASme,KAAT,EAAgB;AACzC,QAAIsI,IAAItI,MAAMhL,MAAd;AACA,QAAImb,IAAI9vB,SAAS+vB,aAAT,CAAuB,QAAvB,CAAR;AACAD,MAAElrB,SAAF,GAAcqjB,EAAE+H,YAAhB;AACA;AACAhwB,aAASiwB,eAAT,CAAyB/vB,WAAzB,CAAqC4vB,CAArC;AACHd;AACG;;;;AAIH,IAXD,EAWG,KAXH;;AAaAW,OAAIO,IAAJ,CAAS,KAAT,EAAgB/wB,GAAhB;AACAwwB,OAAIQ,IAAJ;AACA;AAnEe,EAAjB;;mBAsEezC,M;;;;;;;;;;;AC1Nf;AACA,KAAI/X,YAAY,UAAhB;;AAEA,KAAIhL,WAAW,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,EAAwB,KAAxB,EAA+B,UAA/B,EAA2C,SAA3C,EAAsD,aAAtD,CAAf;;AAEA,KAAIkb,SAAS;AACZ,YAAU,EAAC1mB,KAAKwW,YAAY,mBAAAlY,CAAQ,EAAR,CAAlB,EAA0DqjB,MAAM,GAAhE,EAAqE,QAAQ,OAA7E,EADE;;AAGZ;AACA,SAAO;AACN,cAAW,EAAC3hB,KAAK,mBAAA1B,CAAQ,EAAR,CAAN,EAAiDqjB,MAAM,IAAvD;AADL;AAJK,EAAb;;AASA,KAAI5U,UAAU,EAAd;;AAEAvB,UAASvH,OAAT,CAAiB,UAASkI,WAAT,EAAsB;AACtCY,UAAQ5G,IAAR,CACC,EAAC,QAAQgG,WAAT,EAAsBua,QAAQA,MAA9B,EADD;AAGA,EAJD;;mBAMe3Z,O;;;;;;ACtBf,wE;;;;;;ACAA,2E;;;;;;;;ACAA;;;;;AAKA,KAAIkB,oBAAoB,SAApBA,iBAAoB,GAAY;;AAEnC,MAAIgjB,QAAQ,IAAZ;AACA,MAAIC,QAAQ,EAAEC,MAAM,CAAC,CAAT,EAAYC,QAAQ,CAApB,EAAuBC,MAAM,CAA7B,EAAgCC,KAAK,CAArC,EAAwCC,cAAc,CAAtD,EAAyDC,gBAAgB,CAAzE,EAAZ;;AAEA,OAAKxwB,UAAL,GAAkBH,QAAlB;;AAEA;;AAEA,OAAKof,OAAL,GAAe,IAAf;;AAEA,OAAKwR,MAAL,GAAc,EAAE3uB,MAAM,CAAR,EAAWC,KAAK,CAAhB,EAAmB2uB,OAAO,CAA1B,EAA6BC,QAAQ,CAArC,EAAd;AACA,OAAKvF,UAAL,GAAkB,KAAlB;;AAEA,OAAKwF,WAAL,GAAmB,GAAnB;AACA,OAAKC,SAAL,GAAiB,GAAjB;AACA,OAAKC,QAAL,GAAgB,GAAhB;;AAEA,OAAKC,QAAL,GAAgB,KAAhB;AACA,OAAKC,MAAL,GAAc,KAAd;AACA,OAAKC,KAAL,GAAa,IAAb;AACA,OAAKC,MAAL,GAAc,KAAd;;AAEA,OAAKhkB,YAAL,GAAoB,KAApB;AACA,OAAKikB,oBAAL,GAA4B,GAA5B;;AAEA,OAAKC,WAAL,GAAmB,CAAnB;AACA,OAAKC,WAAL,GAAmBC,QAAnB;;AAIA;AACA,OAAKC,UAAL;AACA,OAAK/c,MAAL,GAAc,IAAInW,MAAM4C,OAAV,EAAd;AACA,OAAKuwB,OAAL,GAAe,KAAKhd,MAAL,CAAY1I,KAAZ,EAAf;AACA,OAAK2lB,SAAL,CAnCmC,CAmCnB;AAChB,OAAKC,GAAL,CApCmC,CAoCzB;;AAEV,MAAIC,MAAM,QAAV;;AAEA,MAAIC,eAAe,IAAIvzB,MAAM4C,OAAV,EAAnB;;AAEA,MAAI4wB,SAAS3B,MAAMC,IAAnB;AAAA,MACA2B,aAAa5B,MAAMC,IADnB;AAAA,MAGA4B,OAAO,IAAI1zB,MAAM4C,OAAV,EAHP;AAAA,MAKA+wB,SALA;AAAA,MAOAC,aAAa,IAAI5zB,MAAM+gB,OAAV,EAPb;AAAA,MAQA8S,WAAW,IAAI7zB,MAAM+gB,OAAV,EARX;AAAA,MAUA+S,0BAA0B,CAV1B;AAAA,MAWAC,wBAAwB,CAXxB;AAAA,MAaAC,YAAY,IAAIh0B,MAAM+gB,OAAV,EAbZ;AAAA,MAcAkT,UAAU,IAAIj0B,MAAM+gB,OAAV,EAdV;;AAkBA;;AAEA,MAAImT,cAAc,EAAEjpB,MAAM,QAAR,EAAlB;AACA,MAAIkpB,aAAa,EAAElpB,MAAM,OAAR,EAAjB;AACA,MAAImpB,WAAW,EAAEnpB,MAAM,KAAR,EAAf;;AAGA;;AAEAopB;;AAEA,OAAKjwB,IAAL,GAAY,UAASlC,MAAT,EAAiBgxB,UAAjB,EAA6B;;AAExC,QAAKhxB,MAAL,GAAcA,MAAd;AACA,QAAKyqB,QAAL,GAAgBzqB,OAAO+hB,EAAP,CAAUxW,KAAV,EAAhB;AACA,QAAKylB,UAAL,GAAkBA,UAAlB;;AAEAS,eAAY,IAAI3zB,MAAMic,UAAV,EAAZ;AACA0X,aAAUW,YAAV,CAAuBpB,WAAWve,QAAX,CAAoBlH,KAApB,EAAvB;AACA;AACA,QAAK0I,MAAL,GAAc,KAAK+c,UAAL,CAAgBzwB,QAAhB,CAAyBgL,KAAzB,EAAd;AACA,QAAK0lB,OAAL,GAAe,KAAKhd,MAAL,CAAY1I,KAAZ,EAAf;AACA,QAAK2lB,SAAL,GAAiB,KAAKlxB,MAAL,CAAYO,QAAZ,CAAqBgL,KAArB,EAAjB;AACA,QAAK4lB,GAAL,GAAW,KAAKnxB,MAAL,CAAY+hB,EAAZ,CAAexW,KAAf,EAAX;AACA,GAbD;;AAeA,OAAK8mB,gBAAL,GAAwB,UAASrB,UAAT,EAAqB;AAC5C,QAAKA,UAAL,GAAkBA,UAAlB;AACA,QAAK/c,MAAL,GAAc,KAAK+c,UAAL,CAAgBzwB,QAAhB,CAAyBgL,KAAzB,EAAd;AACA,GAHD;;AAKA,OAAK2e,YAAL,GAAoB,UAAUoI,OAAV,EAAmB;AACtC,OAAIC,aAAa,EAAjB;AACA,OAAIC,aAAa,EAAjB;;AAEA,QAAKtC,MAAL,CAAY3uB,IAAZ,GAAmB+wB,QAAQ/wB,IAA3B;AACA,QAAK2uB,MAAL,CAAY1uB,GAAZ,GAAkB8wB,QAAQ9wB,GAA1B;AACA,QAAK0uB,MAAL,CAAYC,KAAZ,GAAoBmC,QAAQnC,KAA5B;AACA,QAAKD,MAAL,CAAYE,MAAZ,GAAqBkC,QAAQlC,MAA7B;;AAEA,QAAKU,WAAL,GAAmByB,UAAnB;AACA,QAAK1B,WAAL,GAAmB2B,UAAnB;AACA,GAXD;;AAaA,OAAKC,WAAL,GAAmB,UAAWxT,KAAX,EAAmB;;AAErC,OAAK,OAAO,KAAMA,MAAMlW,IAAZ,CAAP,IAA6B,UAAlC,EAA+C;;AAE9C,SAAMkW,MAAMlW,IAAZ,EAAoBkW,KAApB;AAEA;AAED,GARD;;AAUA,MAAIyT,mBAAqB,YAAY;;AAEpC,OAAIC,SAAS,IAAI70B,MAAM+gB,OAAV,EAAb;;AAEA,UAAO,UAAW+T,KAAX,EAAkBC,KAAlB,EAA0B;;AAEhCF,WAAOnyB,GAAP,CACC,CAAEoyB,QAAQlD,MAAMQ,MAAN,CAAa3uB,IAAvB,IAAgCmuB,MAAMQ,MAAN,CAAaC,KAD9C,EAEC,CAAE0C,QAAQnD,MAAMQ,MAAN,CAAa1uB,GAAvB,IAA+BkuB,MAAMQ,MAAN,CAAaE,MAF7C;;AAKA,WAAOuC,MAAP;AACA,IARD;AAUA,GAdwB,EAAzB;;AAgBA,MAAIG,2BAA2B,SAA3BA,wBAA2B,CAASC,OAAT,EAAkBC,OAAlB,EAA2B;;AAEzD,OAAIC,QAAQ,GAAZ;AACM,OAAIC,0BAA0B,IAAIp1B,MAAMic,UAAV,GACzBqY,YADyB,CACZ,IAAIt0B,MAAM4rB,KAAV,CACVsJ,WAAWzhB,KAAKC,EAAL,GAAU,GAArB,IAA4ByhB,KADlB,EAEVF,WAAWxhB,KAAKC,EAAL,GAAU,GAArB,IAA4ByhB,KAFlB,EAGV,CAHU,EAIV,KAJU,CADY,CAA9B;;AAQAvD,SAAMsB,UAAN,CAAiBlX,UAAjB,CAA4BqZ,mBAA5B,CAAgDD,uBAAhD,EAAyExD,MAAMsB,UAAN,CAAiBlX,UAA1F;AACN,GAZD;;AAeA,OAAKsZ,YAAL,GAAoB,YAAW;;AAE9B;AACA,GAHD;;AAKA,OAAKC,UAAL,GAAkB,YAAY;;AAE7B,OAAK/B,WAAW3B,MAAMM,cAAtB,EAAuC;;AAEtC,QAAIqD,SAAS1B,0BAA0BC,qBAAvC;AACAD,8BAA0BC,qBAA1B;AACAL,SAAKxf,cAAL,CAAqBshB,MAArB;AAEA,IAND,MAMO;;AAEN,QAAIA,SAAS,MAAM,CAAE3B,SAAStgB,CAAT,GAAaqgB,WAAWrgB,CAA1B,IAAgCqe,MAAMY,SAAzD;;AAEA,QAAKgD,WAAW,GAAX,IAAkBA,SAAS,GAAhC,EAAsC;;AAErC9B,UAAKxf,cAAL,CAAqBshB,MAArB;;AAEA,SAAK5D,MAAM/iB,YAAX,EAA0B;;AAEzB+kB,iBAAWjlB,IAAX,CAAiBklB,QAAjB;AAEA,MAJD,MAIO;;AAEND,iBAAWrgB,CAAX,IAAgB,CAAEsgB,SAAStgB,CAAT,GAAaqgB,WAAWrgB,CAA1B,IAAgC,KAAKuf,oBAArD;AAEA;AAED;AAED;AAED,GA9BD;;AAgCA,OAAK2C,SAAL,GAAkB,YAAU;;AAE3B,OAAIC,cAAc,IAAI11B,MAAM+gB,OAAV,EAAlB;AAAA,OACC4L,WAAW,IAAI3sB,MAAM4C,OAAV,EADZ;AAAA,OAEC+yB,MAAM,IAAI31B,MAAM4C,OAAV,EAFP;;AAIA,UAAO,YAAY;;AAElB8yB,gBAAY/mB,IAAZ,CAAkBslB,OAAlB,EAA4BpV,GAA5B,CAAiCmV,SAAjC;;AAEA,QAAK0B,YAAYE,QAAZ,EAAL,EAA8B;;AAE7BF,iBAAYxhB,cAAZ,CAA4Bwf,KAAKhrB,MAAL,KAAgBkpB,MAAMa,QAAlD;;AAEAkD,SAAIhnB,IAAJ,CAAU+kB,IAAV,EAAiBmC,KAAjB,CAAwBjE,MAAM1vB,MAAN,CAAa+hB,EAArC,EAA0CnF,SAA1C,CAAqD4W,YAAY9gB,CAAjE;AACA+gB,SAAI9yB,GAAJ,CAAS8pB,SAAShe,IAAT,CAAeijB,MAAM1vB,MAAN,CAAa+hB,EAA5B,EAAiCnF,SAAjC,CAA4C4W,YAAYniB,CAAxD,CAAT;;AAEAqe,WAAM1vB,MAAN,CAAaO,QAAb,CAAsBI,GAAtB,CAA2B8yB,GAA3B;AACA/D,WAAMzb,MAAN,CAAatT,GAAb,CAAkB8yB,GAAlB;;AAEA,SAAK/D,MAAM/iB,YAAX,EAA0B;;AAEzBmlB,gBAAUrlB,IAAV,CAAgBslB,OAAhB;AAEA,MAJD,MAIO;;AAEND,gBAAUnxB,GAAV,CAAe6yB,YAAY5lB,UAAZ,CAAwBmkB,OAAxB,EAAiCD,SAAjC,EAA6C9f,cAA7C,CAA6D0d,MAAMkB,oBAAnE,CAAf;AAEA;AAED;AACD,IAzBD;AA2BA,GAjCiB,EAAlB;;AAmCA,OAAKgD,cAAL,GAAsB,YAAY;;AAEjC,OAAK,CAAClE,MAAMe,MAAP,IAAiB,CAACf,MAAMgB,KAA7B,EAAqC;;AAEpC,QAAKc,KAAKkC,QAAL,KAAkBhE,MAAMoB,WAAN,GAAoBpB,MAAMoB,WAAjD,EAA+D;;AAE9DpB,WAAM1vB,MAAN,CAAaO,QAAb,CAAsBoqB,UAAtB,CAAkC+E,MAAMzb,MAAxC,EAAgDud,KAAK5U,SAAL,CAAgB8S,MAAMoB,WAAtB,CAAhD;AAEA;;AAED,QAAKU,KAAKkC,QAAL,KAAkBhE,MAAMmB,WAAN,GAAoBnB,MAAMmB,WAAjD,EAA+D;;AAE9DnB,WAAM1vB,MAAN,CAAaO,QAAb,CAAsBoqB,UAAtB,CAAkC+E,MAAMzb,MAAxC,EAAgDud,KAAK5U,SAAL,CAAgB8S,MAAMmB,WAAtB,CAAhD;AAEA;AAED;AAED,GAlBD;;AAoBA,OAAKjvB,MAAL,GAAc,YAAY;AACzB,OAAI,CAAC,KAAK8c,OAAV,EAAmB;;AAEnB8S,QAAK5jB,UAAL,CAAiB8hB,MAAM1vB,MAAN,CAAaO,QAA9B,EAAwCmvB,MAAMzb,MAA9C;;AAEA,OAAK,CAACyb,MAAMc,QAAZ,EAAuB;;AAEtBd,UAAM0D,YAAN;AAEA;;AAED,OAAK,CAAC1D,MAAMe,MAAZ,EAAqB;;AAEpBf,UAAM2D,UAAN;AAEA;;AAED,OAAK,CAAC3D,MAAMgB,KAAZ,EAAoB;;AAEnBhB,UAAM6D,SAAN;AAEA;;AAED7D,SAAM1vB,MAAN,CAAaO,QAAb,CAAsBoqB,UAAtB,CAAkC+E,MAAMzb,MAAxC,EAAgDud,IAAhD;;AAEA9B,SAAMkE,cAAN;;AAEAlE,SAAM1vB,MAAN,CAAaS,MAAb,CAAqBivB,MAAMzb,MAA3B;;AAEA,OAAKod,aAAawC,iBAAb,CAAgCnE,MAAM1vB,MAAN,CAAaO,QAA7C,IAA0D6wB,GAA/D,EAAqE;;AAEpE;;AAEAC,iBAAa5kB,IAAb,CAAmBijB,MAAM1vB,MAAN,CAAaO,QAAhC;AAEA;AAED,GArCD;;AAuCA,OAAK+B,MAAL,GAAc,YAAY;;AAEzBgvB,YAAS3B,MAAMC,IAAf;AACA2B,gBAAa5B,MAAMC,IAAnB;;AAEAF,SAAMzb,MAAN,CAAaxH,IAAb,CAAmBijB,MAAMuB,OAAzB;AACAvB,SAAM1vB,MAAN,CAAaO,QAAb,CAAsBkM,IAAtB,CAA4BijB,MAAMwB,SAAlC;AACAxB,SAAM1vB,MAAN,CAAa+hB,EAAb,CAAgBtV,IAAhB,CAAsBijB,MAAMyB,GAA5B;;AAEAK,QAAK5jB,UAAL,CAAiB8hB,MAAM1vB,MAAN,CAAaO,QAA9B,EAAwCmvB,MAAMzb,MAA9C;;AAEAyb,SAAM1vB,MAAN,CAAaS,MAAb,CAAqBivB,MAAMzb,MAA3B;;AAEAyb,SAAMoE,aAAN,CAAqB9B,WAArB;;AAEAX,gBAAa5kB,IAAb,CAAmBijB,MAAM1vB,MAAN,CAAaO,QAAhC;AAEA,GAjBD;;AAoBA;;AAEA,MAAIwzB,YAAY,CAAhB;AACA,MAAIC,YAAY,CAAhB;;AAEA,WAASC,UAAT,CAAoBvhB,CAApB,EAAuBrB,CAAvB,EAA0B;AACzB,OAAKqB,IAAIgd,MAAMQ,MAAN,CAAa3uB,IAAjB,IAAyBmR,IAAIgd,MAAMQ,MAAN,CAAa3uB,IAAb,GAAoBmuB,MAAMQ,MAAN,CAAaC,KAA9D,IACJ9e,IAAIqe,MAAMQ,MAAN,CAAa1uB,GADb,IACoB6P,IAAIqe,MAAMQ,MAAN,CAAa1uB,GAAb,GAAmBkuB,MAAMQ,MAAN,CAAaE,MADzD,IACoEV,MAAM7E,UAD9E,EAC0F;AACzF,WAAO,IAAP;AACA,IAHD,MAGO;AACN,WAAO,KAAP;AACA;AACD;;AAED,WAAS7L,SAAT,CAAoBC,KAApB,EAA4B;;AAE3B,OAAKyQ,MAAMhR,OAAN,KAAkB,KAAlB,IAA2B,CAACuV,WAAWhV,MAAM2T,KAAjB,EAAwB3T,MAAM4T,KAA9B,CAAjC,EAAuE;;AAEvE5T,SAAMiV,cAAN;AACAjV,SAAMkV,eAAN;;AAEA,OAAK7C,WAAW3B,MAAMC,IAAtB,EAA6B;AAC5B0B,aAASrS,MAAMmV,MAAf;AACA;;AAED,OAAK9C,WAAW3B,MAAME,MAAjB,IAA2B,CAACH,MAAMc,QAAvC,EAAkD;AACjDuD,gBAAY9U,MAAM2T,KAAlB;AACAoB,gBAAY/U,MAAM4T,KAAlB;AAEA,IAJD,MAIO,IAAKvB,WAAW3B,MAAMG,IAAjB,IAAyB,CAACJ,MAAMe,MAArC,EAA8C;;AAEpDiB,eAAWjlB,IAAX,CAAiBimB,iBAAkBzT,MAAM2T,KAAxB,EAA+B3T,MAAM4T,KAArC,CAAjB;AACAlB,aAASllB,IAAT,CAAcilB,UAAd;AAEA,IALM,MAKA,IAAKJ,WAAW3B,MAAMI,GAAjB,IAAwB,CAACL,MAAMgB,KAApC,EAA4C;;AAElDoB,cAAUrlB,IAAV,CAAgBimB,iBAAkBzT,MAAM2T,KAAxB,EAA+B3T,MAAM4T,KAArC,CAAhB;AACAd,YAAQtlB,IAAR,CAAaqlB,SAAb;AAEA;;AAEDxyB,YAASwB,gBAAT,CAA2B,WAA3B,EAAwCuzB,SAAxC,EAAmD,KAAnD;AACA/0B,YAASwB,gBAAT,CAA2B,SAA3B,EAAsCwzB,OAAtC,EAA+C,KAA/C;;AAEA;AAEA;;AAGD;AACA,WAASD,SAAT,CAAoBpV,KAApB,EAA4B;;AAE3B,OAAKyQ,MAAMhR,OAAN,KAAkB,KAAvB,EAA+B;;AAE/BO,SAAMiV,cAAN;AACAjV,SAAMkV,eAAN;;AAEA,OAAK7C,WAAW3B,MAAME,MAAjB,IAA2B,CAACH,MAAMc,QAAvC,EAAkD;;AAEjDsC,6BAA0B7T,MAAM2T,KAAN,GAAcmB,SAAxC,EAAmD9U,MAAM4T,KAAN,GAAcmB,SAAjE;AAEA,IAJD,MAIO,IAAK1C,WAAW3B,MAAMG,IAAjB,IAAyB,CAACJ,MAAMe,MAArC,EAA8C;;AAEpDkB,aAASllB,IAAT,CAAeimB,iBAAkBzT,MAAM2T,KAAxB,EAA+B3T,MAAM4T,KAArC,CAAf;AAEA,IAJM,MAIA,IAAKvB,WAAW3B,MAAMI,GAAjB,IAAwB,CAACL,MAAMgB,KAApC,EAA4C;;AAElDqB,YAAQtlB,IAAR,CAAcimB,iBAAkBzT,MAAM2T,KAAxB,EAA+B3T,MAAM4T,KAArC,CAAd;AAEA;AACDkB,eAAY9U,MAAM2T,KAAlB;AACAoB,eAAY/U,MAAM4T,KAAlB;AAEA;;AAED,WAASyB,OAAT,CAAkBrV,KAAlB,EAA0B;;AAEzB,OAAKyQ,MAAMhR,OAAN,KAAkB,KAAvB,EAA+B;;AAE/BO,SAAMiV,cAAN;AACAjV,SAAMkV,eAAN;;AAEA7C,YAAS3B,MAAMC,IAAf;;AAEAtwB,YAASi1B,mBAAT,CAA8B,WAA9B,EAA2CF,SAA3C;AACA/0B,YAASi1B,mBAAT,CAA8B,SAA9B,EAAyCD,OAAzC;AACA;AAEA;;AAED,WAASE,UAAT,CAAqBvV,KAArB,EAA6B;;AAE5B,OAAKyQ,MAAMhR,OAAN,KAAkB,KAAlB,IAA2B,CAACuV,WAAWhV,MAAM2T,KAAjB,EAAwB3T,MAAM4T,KAA9B,CAAjC,EAAuE;;AAEvE5T,SAAMiV,cAAN;AACAjV,SAAMkV,eAAN;;AAEA,OAAI3vB,QAAQ,CAAZ;;AAEA,OAAKya,MAAMwV,UAAX,EAAwB;AAAE;;AAEzBjwB,YAAQya,MAAMwV,UAAN,GAAmB,EAA3B;AAEA,IAJD,MAIO,IAAKxV,MAAMyV,MAAX,EAAoB;AAAE;;AAE5BlwB,YAAQ,CAAEya,MAAMyV,MAAR,GAAiB,CAAzB;AAEA;;AAEDhD,cAAWrgB,CAAX,IAAgB7M,QAAQ,IAAxB;AACA;AACA;AAEA;;AAED,WAASmwB,UAAT,CAAqB1V,KAArB,EAA6B;;AAE5B,OAAKyQ,MAAMhR,OAAN,KAAkB,KAAlB,IAA2B,CAACuV,WAAWhV,MAAM2T,KAAjB,EAAwB3T,MAAM4T,KAA9B,CAAjC,EAAuE;;AAEvE,WAAS5T,MAAM2V,OAAN,CAAcpuB,MAAvB;;AAEC,SAAK,CAAL;AACCutB,iBAAY9U,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAA/B;AACAoB,iBAAY/U,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAA/B;AACA;;AAED,SAAK,CAAL;AACCvB,cAAS3B,MAAMM,cAAf;AACA,SAAI4E,KAAK5V,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAnB,GAA2B3T,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAvD;AACA,SAAIkC,KAAK7V,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAnB,GAA2B5T,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAvD;AACAhB,6BAAwBD,0BAA0BrgB,KAAKwjB,IAAL,CAAWF,KAAKA,EAAL,GAAUC,KAAKA,EAA1B,CAAlD;;AAEA,SAAIpiB,IAAI,CAAEuM,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAnB,GAA2B3T,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAhD,IAA0D,CAAlE;AACA,SAAIvhB,IAAI,CAAE4N,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAnB,GAA2B5T,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAhD,IAA0D,CAAlE;AACAf,eAAUrlB,IAAV,CAAgBimB,iBAAkBhgB,CAAlB,EAAqBrB,CAArB,CAAhB;AACA0gB,aAAQtlB,IAAR,CAAcqlB,SAAd;AACA;;AAED;AACCR,cAAS3B,MAAMC,IAAf;;AApBF;AAuBA;AACA;;AAED,WAASoF,SAAT,CAAoB/V,KAApB,EAA4B;;AAE3B,OAAKyQ,MAAMhR,OAAN,KAAkB,KAAvB,EAA+B;;AAE/BO,SAAMiV,cAAN;AACAjV,SAAMkV,eAAN;;AAEA,WAASlV,MAAM2V,OAAN,CAAcpuB,MAAvB;;AAEC,SAAK,CAAL;AACCssB,8BAA0B7T,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAnB,GAA2BmB,SAArD,EAAgE9U,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAnB,GAA2BmB,SAA3F;AACA;;AAED,SAAK,CAAL;AACC,SAAIa,KAAK5V,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAnB,GAA2B3T,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAvD;AACA,SAAIkC,KAAK7V,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAnB,GAA2B5T,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAvD;AACAhB,6BAAwBtgB,KAAKwjB,IAAL,CAAWF,KAAKA,EAAL,GAAUC,KAAKA,EAA1B,CAAxB;;AAEA,SAAIpiB,IAAI,CAAEuM,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAnB,GAA2B3T,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAhD,IAA0D,CAAlE;AACA,SAAIvhB,IAAI,CAAE4N,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAnB,GAA2B5T,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAhD,IAA0D,CAAlE;AACAd,aAAQtlB,IAAR,CAAcimB,iBAAkBhgB,CAAlB,EAAqBrB,CAArB,CAAd;AACA;;AAED;AACCigB,cAAS3B,MAAMC,IAAf;;AAjBF;AAoBAmE,eAAY9U,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAA/B;AACAoB,eAAY/U,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAA/B;AACA;;AAED,WAASoC,QAAT,CAAmBhW,KAAnB,EAA2B;;AAE1B,OAAKyQ,MAAMhR,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,WAASO,MAAM2V,OAAN,CAAcpuB,MAAvB;;AAEC,SAAK,CAAL;AACC0uB,gBAAWzoB,IAAX,CAAiBqmB,yBAA0B7T,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAA7C,EAAoD3T,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAvE,CAAjB;AACAsC,kBAAa1oB,IAAb,CAAmByoB,UAAnB;AACA;;AAED,SAAK,CAAL;AACCtD,+BAA0BC,wBAAwB,CAAlD;;AAEA,SAAInf,IAAI,CAAEuM,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAnB,GAA2B3T,MAAM2V,OAAN,CAAe,CAAf,EAAmBhC,KAAhD,IAA0D,CAAlE;AACA,SAAIvhB,IAAI,CAAE4N,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAnB,GAA2B5T,MAAM2V,OAAN,CAAe,CAAf,EAAmB/B,KAAhD,IAA0D,CAAlE;AACAd,aAAQtlB,IAAR,CAAcimB,iBAAkBhgB,CAAlB,EAAqBrB,CAArB,CAAd;AACAygB,eAAUrlB,IAAV,CAAgBslB,OAAhB;AACA;;AAdF;;AAkBAT,YAAS3B,MAAMC,IAAf;AACA;AACA;;AAED,WAASuC,SAAT,GAAqB;AACpBzC,SAAMjwB,UAAN,CAAiBqB,gBAAjB,CAAmC,aAAnC,EAAkD,UAAWme,KAAX,EAAmB;AAAEA,UAAMiV,cAAN;AAAyB,IAAhG,EAAkG,KAAlG;;AAEAxE,SAAMjwB,UAAN,CAAiBqB,gBAAjB,CAAmC,WAAnC,EAAgDke,SAAhD,EAA2D,KAA3D;;AAEA0Q,SAAMjwB,UAAN,CAAiBqB,gBAAjB,CAAmC,YAAnC,EAAiD0zB,UAAjD,EAA6D,KAA7D;AACA9E,SAAMjwB,UAAN,CAAiBqB,gBAAjB,CAAmC,gBAAnC,EAAqD0zB,UAArD,EAAiE,KAAjE,EANoB,CAMsD;;AAE1E9E,SAAMjwB,UAAN,CAAiBqB,gBAAjB,CAAmC,YAAnC,EAAiD6zB,UAAjD,EAA6D,KAA7D;AACAjF,SAAMjwB,UAAN,CAAiBqB,gBAAjB,CAAmC,UAAnC,EAA+Cm0B,QAA/C,EAAyD,KAAzD;AACAvF,SAAMjwB,UAAN,CAAiBqB,gBAAjB,CAAmC,WAAnC,EAAgDk0B,SAAhD,EAA2D,KAA3D;AACA;AACD,EA9fD;;AAigBAnrB,QAAO7D,OAAP,GAAiB0G,iBAAjB,C;;;;;;;;;;;ACtgBA,KAAM0oB,YAAY,UAAlB;AACA,KAAMC,SAAS,EAAf;AACA,KAAMC,SAAS;AACX;;;AAGA;AACAj3B,cAAS,EAACI,KAAM22B,YAAY,mBAAAr4B,CAAQ,EAAR,CAAnB,EAAwDqjB,MAAM,EAA9D,EALE;AAMX9hB,cAAS,EAACG,KAAM22B,YAAY,mBAAAr4B,CAAQ,EAAR,CAAnB,EAAuDqjB,MAAM,EAA7D,EANE;AAOXpiB,cAAS,EAACS,KAAM22B,YAAY,mBAAAr4B,CAAQ,EAAR,CAAnB,EAAwDqjB,MAAM,EAA9D,EAPE;AAQXliB,cAAS,EAACO,KAAM22B,YAAY,mBAAAr4B,CAAQ,EAAR,CAAnB,EAAuDqjB,MAAM,EAA7D,EARE;AASXjiB,cAAS,EAACM,KAAM22B,YAAY,mBAAAr4B,CAAQ,EAAR,CAAnB,EAAsDqjB,MAAM,EAA5D,EATE;AAUXhiB,cAAS,EAACK,KAAM22B,YAAY,mBAAAr4B,CAAQ,EAAR,CAAnB,EAAyDqjB,MAAM,EAA/D,EAVE;;AAYX;AACAjL,cAAS,EAAC1W,KAAK22B,YAAY,mBAAAr4B,CAAQ,EAAR,CAAlB,EAA8CqjB,MAAM,EAApD,EAbE;AAcdhL,kBAAa,EAAC3W,KAAK22B,YAAY,mBAAAr4B,CAAQ,EAAR,CAAlB,EAA6DqjB,MAAM,EAAnE;AAdC,EAAf;;SAiBQiV,M,GAAAA,M;SAAQC,M,GAAAA,M;;;;;;ACnBhB,qE;;;;;;ACAA,oE;;;;;;ACAA,qE;;;;;;ACAA,oE;;;;;;ACAA,mE;;;;;;ACAA,sE;;;;;;ACAA,0C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7cee3331afa9a0e064f6\n **/","import ViewManager from './view/view-manager.js';\nimport Time from 'time.js';\nimport Loader from 'loader.js';\nimport {ASSETS} from 'config.js'\n\nrequire('../css/m3.scss');//return;\n\n// require('../assets/mobiles/pro5/pro5.js');\n(function() { \n\nwindow.M3 = {};\nM3.viewManager = new ViewManager();\n\n// todo: webgl 检查\n// ...\nvar loader = new Loader();\nvar progressView = M3.viewManager.getView('progress');\nprogressView.activate();\n\n\n\n//        var textureCube = THREE.ImageUtils.loadTextureCube( urls );\n\n\n\nloader.load(ASSETS, function(percent) {\n\tprogressView.setProgress(percent);\n}).then(function(assets) {\n\tM3.assets = assets;\n\tprogressView.inactivate();\n\n\t// envMap\n\tM3.assets.envMap = new THREE.CubeTexture(\n\t\t[\n\t\t\tM3.assets.envPosX.texture,\n\t\t\tM3.assets.envNegX.texture,\n\t\t\tM3.assets.envPosY.texture,\n\t\t\tM3.assets.envNegY.texture,\n\t\t\tM3.assets.envPosZ.texture,\n\t\t\tM3.assets.envNegZ.texture\n\t\t],\n\t\tTHREE.CubeReflectionMapping\n\t);\n\n\tvar urls = [\n\t\tASSETS.envPosX.url,\n\t\tASSETS.envNegX.url,\n\t\tASSETS.envPosY.url,\n\t\tASSETS.envNegY.url,\n\t\tASSETS.envPosZ.url,\n\t\tASSETS.envNegZ.url\n\t];\n\tvar textureCube = THREE.ImageUtils.loadTextureCube(urls,  THREE.CubeReflectionMapping);\n\tM3.assets.envMap = textureCube;\n\t// console.log(M3.assets.envMap);\n\t\n\t\n\tappInit();\n\n\n});\n\n// appInit();\n\nfunction appInit() {\n\twindow.TIME.start();\n\t// 基本场景\n\tM3.renderer = new THREE.WebGLRenderer({ antialias: true , alpha: true});\n\n\tM3.scene = new THREE.Scene();\n\tdocument.body.appendChild(M3.renderer.domElement);\n\tM3.renderer.setClearColor(0x2abced, 0);\n\n\tvar winWidth = window.innerWidth;\n\tvar winHeight = window.innerHeight;\n\n\tM3.renderer.setSize(winWidth, winHeight);\n\n\n\tM3.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 5000);\n\n\n\t/* fog */\n\tvar fog = new THREE.Fog(0x666666, 0, 2000);\n\t// M3.scene.fog = fog;\n\n \tvar spotLight = new THREE.SpotLight(0xffffff);\n \tspotLight.intensity = 0.8;\n \tspotLight.position.set(-100, 500, 200);\n \tspotLight.lookAt(new THREE.Vector3); \n\tM3.scene.add(spotLight);\n\n\tvar light = new THREE.AmbientLight( 0x666666 ); // soft white light\n\tM3.scene.add( light );\n\n\twindow.addEventListener('resize', function() {\n\t\twinWidth = window.innerWidth;\n\t\twinHeight = window.innerHeight;\n\t\tM3.camera.aspect = winWidth / winHeight;\n\t\tM3.camera.updateProjectionMatrix();\n\t\tM3.renderer.setSize(winWidth, winHeight);\n\t});\n\n\n\n\t/* helper */\n\t// var size = 400;\n\t// var step = 10;\n\t// var axisHelper = new THREE.AxisHelper( 100 );\n\t// M3.scene.add( axisHelper );\n\t/* grid helper */\n\t// var gridHelperX = new THREE.GridHelper( size, step, 0xff0000 );\n\t// gridHelperX.rotation.z = Math.PI / 2;\n\t// M3.scene.add( gridHelperX );\n\n\t// var gridHelperY = new THREE.GridHelper( size, step, 0x00ff00 );\n\t// M3.scene.add( gridHelperY );\n\n\t// var gridHelperZ = new THREE.GridHelper( size, step, 0x0000ff );\n\t// gridHelperZ.rotation.x = Math.PI / 2;\n\t// M3.scene.add( gridHelperZ );\n\n\tfunction initStats() {\n\n\t\tvar stats = new Stats();\n\n\t\tstats.setMode(0); // 0: fps, 1: ms\n\n\t\t// Align top-left\n\t\tstats.domElement.style.position = 'absolute';\n\t\tstats.domElement.style.zIndex = 100000;\n\t\tstats.domElement.style.left = '0px';\n\t\tstats.domElement.style.top = '0px';\n\n\t\t// document.body.appendChild(stats.domElement);\n\t\treturn stats;\n\t}\n\tvar stats = initStats();\n\n\t// main render tick\n\tvar m3Time = new Time();\n\n\tM3.time = new Time();\n\tM3.time.addTick(function() {\n\t\tstats.update();\n\t\tM3.renderer.render(M3.scene, M3.camera);\n\t});\n\n\n\t// M3.viewManager.activateView('index');\n\t// M3.viewManager.activateView('display', {mobiles: [\n\t// \t{'name': 'pro5', 'position': new THREE.Vector3(0, 0, 0)},\n\t// \t{'name': 'pro6', 'position': new THREE.Vector3(100, 0, 0)},\n\t// \t{'name': 'mx6', 'position': new THREE.Vector3(200, 0, 0)}\n\t// ]});\n\tM3.viewManager.activateView('select');\t\n}\n\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/main.js\n **/","import Progress from './progress.js';\n// import Index from './index.js';\nimport Select from './select.js';\nimport Display from './display.js';\nvar _viewConstructors = {\n    'progress': Progress,\n    // 'index': Index,\n    'select': Select,\n    'display': Display,\n};\n\nvar _views = {};\n\n\nclass ViewManager {\n\n\tconstructor() {\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\t// 所有 view 及其管理的 stages 相应窗口变化\n\t\twindow.addEventListener('resize', (function() {\n\t\t    var winWidth;\n\t\t    var fontSize;\n\t\t    var htmlElem = document.querySelector('html');\n\t\t    function resize() {\n\t\t        winWidth = window.innerWidth;\n\t\t        fontSize = winWidth / 100;\n\t\t        fontSize = fontSize > 10 ? 10 : (fontSize < 5 ? 5 : fontSize);\n\t\t        htmlElem.style.fontSize = fontSize + 'px';\n\n\t\t        for (let name in _views) {\n\t\t        \tif (_views[name].active) { \n\t\t\t            _views[name].resize();\n\t\t\t            _views[name].stages && _views[name].stages.forEach(function(stage) {\n\t\t\t            \tstage.resize && stage.resize();\n\t\t\t            });\t\t        \t\t\n\t\t        \t}\n\n\t\t        }\n\t\t    }\n\t\t    resize();\n\t\t    return resize;\n\t\t})());\t\t\n\t}\n\n    activateView(name, data) {\n        var view = this.getView(name);\n        view.activate(data);\n    }\n\n    inactivateView(name, data) {\n        var view = this.getView(name);\n        view.inactivate(data);\n    }\n\n    getView(name) {\n        if (!_views[name]) {\n            _views[name] = new _viewConstructors[name](this);\n        }\n        return _views[name];\n    }\n\n    removeView(view) {\n    \tdelete views[view.name];\n    }\n\n}\n\nexport default ViewManager;\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/view/view-manager.js\n **/","import View from './view.js';\n\nclass ProgressView extends View {\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._$progressWrap = document.querySelector('#progressView');\n\t\tthis._$progressVal = document.querySelector('#progressVal');\n\t\tthis._$water = document.querySelector('.water');\n\t\tthis._$waterDivs = this._$water.querySelectorAll('div');\n\t\tthis.setProgress(0);\n\t}\n\n\tactivate() { \n\t\tthis._$progressWrap.style.display = 'block';\n\t}\n\n\tinactivate() {\n\t\tsetTimeout(function() {\n\t\t\tthis._$progressWrap.style.display = 'none';\n\t\t\tthis.setProgress(0)\n\t\t}.bind(this), 1000);\n\t}\n\n\tsetProgress(percent) {\n\t\tvar initColor = [246, 11, 55];\n\t\tvar finalColor = [16, 121, 125];\n\t\tvar opacity = 0.3;\n\t\tvar currentColor;\n\n\t\tcurrentColor = finalColor.map(function(colorVal, i) {\n\t\t\treturn initColor[i] + (colorVal - initColor[i]) * percent|0;\n\t\t});\n\n\t\tthis._$waterDivs.forEach(function($waterDiv) {\n\t\t\t$waterDiv.style.backgroundColor = 'rgba(' + currentColor.join(',') + ',' + opacity + ')';\n\t\t});\n\n\t\tthis._$progressVal.innerHTML = (percent*100 | 0) + '%';\n\t\tpercent *= 0.999;\n\t\tthis._$water.style.transform = 'scaleY(' + percent.toFixed(2) + ')';\n\t}\n}\n\nexport default ProgressView;\n\n\n/** WEBPACK FOOTER **\n ** ./js/view/progress.js\n **/","import Time from 'time.js';\n\nclass View extends Time {\n\n    constructor(viewManager) {\n        super();\n        this.viewManager = viewManager;\n        this.stages = []; // 3d 对象\n        this.active = false;\n    }\n\n    // 激活视图，data 为接受的参数\n    activate(data) {\n\n    }\n\n    // 冻结视图，data 为接受的参数\n    inactivate(data) {}\n\n    addStage(stage) {\n\n    }\n\n    // 窗口大小变化的操作\n    resize() {}\n\n    distroy() {\n        super.distroy();\n        this.viewManager.removeView(this);\n    }\n\n}\n\nexport default View;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/view/view.js\n **/","import EventEmitter from 'EventEmitter.js';\n/* 时间 */\nvar TIME = {\n\n\t// 所有时间body对象\n\tbodys : [],\n\tdelta: 16\n}\n\nvar stop = false;\nTIME.addBody = function(timeBody) {\n\tthis.bodys.push(timeBody);\n}\n\nTIME.removeBody = function(timeBody) {\n\tvar index = this.bodys.indexOf(timeBody);\n\n\tif (index !== -1) {\n\t\tthis.bodys.splice(index, 1);\n\t}\n}\nTIME.tick = (function() {\n\tvar now = (new Date()).getTime();\n\tvar last = now;\n\tvar delta;\n\treturn function() {\n\t\tdelta = now - last;\n\t\tdelta = delta > 500 ? 30 : (delta < 16? 16 : delta);\n\t\tTIME.delta = delta;\n\t\tlast = now;\n\n\t\tTIME.handleFrame(delta);\n\t\tif (!stop) {\n\t\t\trequestAnimationFrame(TIME.tick);\n\t\t\t// setTimeout(TIME.tick, 1000);\n\t\t}\t\t\n\t}\t\n})();\n\n\nTIME.start = function() {\n\tstop = false;\n\tthis.tick();\n}\n\nTIME.stop = function() {\n\tstop = true;\n}\n\nTIME.handleFrame = function(delta) { \n\n\tTIME.bodys.forEach(function(body) {\n\t\tif (!body.isStop) {\n\t\t\tbody.ticks.forEach(function(tick) {\n\t\t\t\ttick.fn && tick.fn(delta); \n\t\t\t});\n\t\t}\n\t});\n\n\tTWEEN.update();\n}\n\nwindow.TIME = TIME;\n\n/* 时间物体类，提供两个时机，帧更新，固定间隔更新，每一个有时间概念的物体，就继承 */\nclass Time extends EventEmitter {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.ticks = [];\n\t\tthis.tweens = [];\n\t\tthis.isStop = false;\n\t\tTIME.addBody(this);\n\t}\n\n\n\t/**\n\t * 该物体灭亡\n\t */\n\tdestory() {\n\t\tTIME.removeBody(this);\n\t}\n\n\t/** \n\t * 帧更新\n\t * @param timegap 与上一帧的时间间隔\n\t */\n\taddTick(fn) {\n\t\tvar tick = {'fn': fn.bind(this)};\n\n\t\ttick.isStop = false;\n\t\tthis.ticks.push(tick);\n\t\treturn tick;\n\t}\n\n\tremoveTick(tick) {\n\t\tif (!tick) {\n\t\t\t// remove all\n\t\t\tthis.ticks = [];\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this.ticks.indexOf(tick);\n\n\t\tif (index !== -1) {\n\t\t\tthis.ticks.splice(index, 1);\n\t\t}\n\t}\n\n\t/** \n\t * tween\n\t */\n\taddTween(tween) {\n\t\tthis.tweens.push(tween);\n\t}\n\n\tremoveTween(tween) {\n\t\tif (!tween) {\n\t\t\t// remove all\n\t\t\tthis.tween = [];\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this.tweens.indexOf(tween);\n\n\t\tif (index !== -1) {\n\t\t\t//tween.stop();\n\t\t\tthis.tweens.splice(index, 1);\n\t\t}\n\t}\n\n\t// stop 暂停时间\n\tstop() {\n\t\tthis.isStop = true;\n\t\tthis.tweens.forEach(function(tween) {\n\t\t\ttween.stop();\n\t\t});\n\t}\n\n\tstart() {\n\t\tthis.isStop = false;\n\t\tthis.tweens.forEach(function(tween) {\n\t\t\ttween.start();\n\t\t});\n\t}\n}\n\nwindow.Time = Time;\n\nfor (let i = 0; i < 10000; i+=100) {\n\twindow['TIME_' + i] = window.env === 'develop' ? 0 : i;\n}\n\n\nexport default Time;\n\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/common/time.js\n **/","/*!\n * EventEmitter v5.1.0 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - http://oli.me.uk/\n * @preserve\n */\n\n;(function (exports) {\n    'use strict';\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    function isValidListener (listener) {\n        if (typeof listener === 'function' || listener instanceof RegExp) {\n            return true\n        } else if (listener && typeof listener === 'object') {\n            return isValidListener(listener.listener)\n        } else {\n            return false\n        }\n    }\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        if (!isValidListener(listener)) {\n            throw new TypeError('listener must be a function');\n        }\n\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n\n                for (i = 0; i < listeners.length; i++) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}(this || {}));\n\n\n/** WEBPACK FOOTER **\n ** ./js/libs/EventEmitter.js\n **/","import View from './view.js';\nimport SelectTable from '../stages/select-table.js';\nimport SelectCube from '../stages/select-cube.js';\nimport SelectStars from '../stages/select-stars.js';\nimport selectCfg from 'select-conf.js';\n\n\nclass SelectView extends View {\n\n\tconstructor() {\n\t\tsuper();\n\t\t// this._selectTable = new SelectTable();\n\t\t// this._selectCubeStage = new SelectCube();\n\t\t\n\t\tthis._selectStarsStage = new SelectStars();\n\n\t\tthis._products = selectCfg.products;\n\t\tthis.init();\n\t\t\n\t\t// this.stages.push(this._selectTable); // super\n\t}\n\n\tinit() {\n\t\t// ui\n\t\tvar $selectProducts = $('.select-products');\n\t\tvar selectHTML = '';\n\t\tselectCfg.products.forEach(function(product) {\n\t\t\tselectHTML += `<li data-product-name=\"${product.name}\">${product.name}</li>`;\n\t\t});\n\t\t$selectProducts.html(selectHTML);\n\t\tthis._initEvent();\n\t}\n\n\t_initEvent() {\n\t\tlet that = this;\n\t\tlet $selectView = $('#selectView');\n\t\tlet $ok = $('.select-confirm');\n\t\tlet $productItems = $('#selectView .select-products li');\n\t\t$('#selectView').on('click', '.select-products li', function() {\n\t\t\tif (!that.activate) return;\n\t\t\tlet productName = $(this).data('productName');\n\n\t\t\tthat._selectStarsStage.toggle(productName);\n\t\t});\n\n\t\tthat._selectStarsStage.addListener('selected-change', function(_selecteds) {\n\t\t\t$productItems.removeClass('selected');\n\t\t\t_selecteds.forEach((selected)=>$productItems.filter(`[data-product-name=${selected.name}]`).addClass('selected'));\n\t\t\t$productItems.filter('.selected').length?$ok.addClass('selected'):$ok.removeClass('selected');\n\t\t});\n\t\t$('#selectView').on('click', '.select-confirm.selected', function() {\n\t\t\t// go to display\n\n\t\t\t// format data for display view\n\t\t\t// {'name': 'pro6', 'position': V3}\n\n\t\t\tlet selectedData = that._selectStarsStage.getSelected().map(pStar=>({'name': pStar.name, 'position': pStar.mesh.position.clone()}));\n\n\t\t\tM3.viewManager.activateView('display', {mobiles: selectedData});\n\t\t\tthat.inactivate();\n\t\t\t// that._selectStarsStage.\n\t\t});\n\t}\n\n\tactivate() { \n\t\t// stage init\n\t\t// if (!this._selectTable.isInit) {\n\t\t// \tthis._selectTable.init();\n\t\t// }\n\t\t// this._selectTable.entry()\n\n\t\t// if (!this._selectCubeStage.isInit) {\n\t\t// \tthis._selectCubeStage.init();\n\t\t// }\n\t\t// this._selectCubeStage.entry()\n\n\n\t\tif (!this._selectStarsStage.isInit) {\n\t\t\tthis._selectStarsStage.init();\n\t\t}\n\t\tthis._selectStarsStage.entry();\n\n\t\t// select animation\n\t\t\n\t}\n\n\n\tinactivate() {\n\t\tthis._selectStarsStage.leave();\n\t\n\t\t$('#selectView').addClass('inactivate');\n\t}\n\n}\n\nexport default SelectView;\n\n\n/** WEBPACK FOOTER **\n ** ./js/view/select.js\n **/","import Stage from './stage.js';\nimport selectCfg from 'select-conf.js';\n\n// Dependencies CONFIG.selects\nclass SelectTable extends Stage {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.isInit = false;\n\t\tthis.objects;\n\n\t\tthis._BASECROOD = new THREE.Vector3(0, 0, 0);\n\t\tthis._CAMERACROOD = new THREE.Vector3(0, 100, 400);\n\n\t\tthis._products = {}; // {'pro5': {mesh: xx, glowMesh, selected: false}}\n\n\t\tthis._t;\n\t\tthis._controls;\n\n\t\t// shader\n\t\tthis._glowMaterial;\n\t}\n\n\t// this.objects\n\tinit() {\n\t\tthis._glowMaterial = new THREE.GlowMaterial();\n\n\t\tthis._buildBase();\n\t\tthis._buildProductLogo(); //set products\n\n\n\n        this.isInit = true;\n\t}\n\n\tentry() {\n\n\t\tObject.keys(this.objects).forEach(function(o) { M3.scene.add(this.objects[o]);}.bind(this));\n\n\t\tthis.camera.position.copy(this._CAMERACROOD);\n\t\tthis.camera.lookAt(this._BASECROOD);\n\t\tthis._controls = new THREE.TrackballControls(this.camera, M3.renderer.domElement);\n\t\tthis._controls.staticMoving = true;\n\n\n\t\t// this.addTHREEObjTween(mesh.material, {color: new THREE.Color(0x0cbbef), emissive: new THREE.Color(0xcccccc)}, 3000).start();\n\n\t\tthis.addTHREEObjTween(this.objects.glowSvgMesh.material, {\n\t\t\tuniforms_p_value: 0.05,\n\t\t\tuniforms_glowColor_value: 0xffffff\n\t\t}, 4000).start();\n\n\n\n\t\tvar glowTable = function() {\n\t\t\tvar uniforms_p_value = this.objects.tableGlow.material.uniforms.p.value === 1.5 ? 5.7 : 1.5;\n\t\t\tlet tableGlowTween = this.addTHREEObjTween(this.objects.tableGlow.material, {\n\t\t\t\tuniforms_p_value: uniforms_p_value,\n\t\t\t}, 4000, {\n\t\t\t\tonComplete() { glowTable()}\n\t\t\t}).start();\t\t\t\n\t\t}.bind(this);\n\n\t\tglowTable();\n\n\t\t// glow vertor\n\t\tthis._t = this.addTick(function(delta) {\n\t\t\tthis._controls.update(delta);\n\t\t\t\n\t\t\tlet glowMesh;\n\n\t\t\tM3.scene.traverse(function(object) {\n\t\t\t\tif (object.material && object.material instanceof THREE.ShaderMaterial) {\n\t\t\t\t\tobject.material.uniforms.viewVector.value = \n\t\t\t\t\tnew THREE.Vector3().subVectors(this.camera.position, object.position);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t});\n\n\t\t// shader test \n\t\tvar gui = new dat.GUI();\n\t\tvar parameters = { c: 0.5, p: 4.0 };\n\t\tvar cGUI = gui.add( parameters, 'c' ).min(0.0).max(1.0).step(0.01).name(\"c\").listen();\n\t\tcGUI.onChange(\n\t\t    function(value) { \n\t\t\t\tsetPandC(parameters.p, parameters.c); \n\t\t    }\n\t\t);\n\n\t\tvar pGUI = gui.add(parameters, 'p').min(0.0).max(6.0).step(0.01).name(\"p\").listen();\n\t\tpGUI.onChange(\n\t\t    function(value) { \n\t\t\t\tsetPandC(parameters.p, parameters.c);\n\t\t    }\n\t\t);\n\n\t\tfunction setPandC(p, c) {\n\t\t\tM3.scene.traverse(function(object) {\n\t\t\t\tif (object.material && object.material instanceof THREE.ShaderMaterial) {\n\t\t\t\t\tobject.material.uniforms[\"p\"].value = p; \n\t\t\t\t\tobject.material.uniforms[\"c\"].value = c; \n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tselectProduct(productNames) {\n\t\tthis._products.forEach(function(_product) {\n\n\t\t});\n\t}\n\n\tleave() {\n\t\t// or return a promise so that can do some ani\n\t\tthis.removeTick(); \n\t}\n\n\t_createSVGGemo(svgString, options) {\n\t\tvar shape = transformSVGPathExposed(svgString);\n\t\tvar defaultOptions = {\n            amount: 5,\n            bevelThickness: 0,\n            bevelSize: 0,\n            bevelSegments: 12,\n            bevelEnabled: false,\n            curveSegments: 80,\n            steps: 1\n        };\n        var svgGemo;\n\n        options = $.extend({}, defaultOptions, options);\n\t\tsvgGemo = new THREE.ExtrudeGeometry(shape, options)\n        svgGemo.center();\t\n        return svgGemo;\n\t}\n\n\t_buildBase() {\n\n\t\t// TABLE 2m width\n\t\tvar tableTopGemo = new THREE.CylinderGeometry(100, 100, 3, 100);\n\t\tvar tableTopMaterial = new THREE.MeshPhongMaterial({color: 0xaaaaff});\n\n\t\ttableTopMaterial.transparent = true;\n\t\ttableTopMaterial.opacity = 0.3;\n\t\ttableTopMaterial.refractionRatio = 1.3;\n\t\t// tableTopMaterial.reflectivity = 1;\n\t\ttableTopMaterial.shininess = 37.46;\n\t\ttableTopMaterial.specular = new THREE.Color(\"rgb(0.54, 0.54, 0.54)\");\n\n\t\tvar tableTop = new THREE.Mesh(tableTopGemo, tableTopMaterial);\n\t\ttableTop.position.set(0, 33, 0);\n\n\n\t\tvar tableBottomGemo = new THREE.CylinderGeometry(100, 90, 30, 100, 10);\n\t\tvar tableBottomMaterial = new THREE.MeshLambertMaterial({color: 0x3a5c67,'side': THREE.DoubleSide, 'emissive': 0x888888}); \n\t\tvar tableBottom = new THREE.Mesh(tableBottomGemo, tableBottomMaterial);\n\t\ttableBottom.position.set(0, 15, 0);\n\n\t\tthis.objects.tableTop = tableTop;\n\t\tthis.objects.tableBottom = tableBottom;\n\n\t\tvar tableGlowMaterial = new THREE.GlowMaterial({c: 0.12, p: 6, color: new THREE.Color(0x0cbbef)});\n\t\tvar tableGlowGemo = new THREE.CylinderGeometry(100, 99.5, 2, 100, 10);\n\t\tvar tableGlow = new THREE.Mesh(tableGlowGemo, tableGlowMaterial);\n\t\ttableGlow.position.set(0, 31, 0);\n\n\t\tthis.objects.tableTop = tableTop;\n\t\tthis.objects.tableBottom = tableBottom;\n\t\tthis.objects.tableGlow = tableGlow;\n\n\t\t// MEIZU LOGO\n\t\tvar svgString = selectCfg.logo;\n\t\tvar options = {\n            amount: 5,\n            bevelThickness: 0.5,\n            bevelSize: 0.5,\n            bevelSegments: 12,\n            bevelEnabled: true,\n            curveSegments: 80,\n            steps: 1\n        };\n        var svgGemo = this._createSVGGemo(svgString, options);\n        svgGemo.computeBoundingBox()\n        svgGemo.translate(0, -svgGemo.boundingBox.max.y, 0);\n        svgGemo.rotateX(Math.PI);\n\n        var svgMaterial = new THREE.MeshPhongMaterial({color: 0x0cbbef, shininess: 100, metal: true, wireframe: true});\n        var svgMesh = new THREE.Mesh(svgGemo, svgMaterial);\n        svgMesh.position.set(0, 0, 150);\n        this.objects.svgLogo = svgMesh;\n\n\n        var glowMaterial = new THREE.GlowMaterial({c: 0.12, p: 5, color: 0x0cbbef});\n        var glowSvgMesh = new THREE.Mesh(svgGemo.clone(), glowMaterial);\n\t\tglowSvgMesh.position.copy(svgMesh.position);\n\t\tglowSvgMesh.scale.multiplyScalar(1.1);\n\t\t// this.objects.glowSvgMesh = glowSvgMesh;\n\n\t\t// PLANE & GRID & cube\n\t\t\n\t\t// PLANE \n\t\tvar planeGridCount = 30;\n\t\tvar gridWidth = 100;\n\t\tvar planeWidth = planeGridCount * gridWidth;\n\t\tvar planeHeight = planeGridCount * gridWidth;\n\t\tvar phaneGeom = new THREE.PlaneGeometry(planeWidth, planeHeight, planeGridCount, planeGridCount);\n\t\tvar material = new THREE.MeshPhongMaterial( {color: 0x3a5c67, side: THREE.DoubleSide} );\n\t\t// var material = new THREE.MeshBasicMaterial( {color: 0x333333, side: THREE.DoubleSide} );\n\t\tvar plane = new THREE.Mesh( phaneGeom, material );\n\t\tplane.rotation.x = Math.PI * 0.5;\n\t\tplane.position.y -= 1;\n\t\tthis.objects.plane = plane;\n\n\n\t\t// GRID \n\t\tvar gridGroup = new THREE.Group();\n\t\tvar gridMaterial = new THREE.MeshPhongMaterial({color: 0xdddddd, side: THREE.DoubleSide});\n\t\tvar gridMaterial = this._glowMaterial.clone();\n\t\tvar gridMesh;\n\n\n\t\tfor (let i = 0; i < planeGridCount; i++) {\n\t\t\tfor (let j = 0; j < planeGridCount; j++) {\n\t\t\t\tif ( (i % 2 && !(j % 2)) || (!(i % 2) && j % 2) ) {\n\t\t\t\t\tgridMesh = new THREE.Mesh(\n\t\t\t\t\t\tnew THREE.PlaneGeometry(gridWidth, gridWidth, 1, 1), \n\t\t\t\t\t\tgridMaterial\n\t\t\t\t\t);\n\t\t\t\t\tgridMesh.userData.crood = {x: i, y: j};\n\t\t\t\t\tgridMesh.rotation.x = -Math.PI * 0.5;\n\t\t\t\t\tgridMesh.position.set(i * gridWidth - planeWidth/2, 0.1, j * gridWidth - planeHeight/2);\n\t\t\t\t\tgridGroup.add(gridMesh);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.objects.gridGroup = gridGroup;\n\n\n\t\t// CUBE corner\n\t\tvar cubeGridCount = 35;\n\t\tvar cubeWidth = planeWidth / cubeGridCount;\n\n\n\n\t\t// light\n        var directionalLightColor = \"#ffffff\";\n        var directionalLight = new THREE.DirectionalLight(directionalLightColor);\n        directionalLight.name = this.name + ' directionalLight';\n        directionalLight.position.set(-100, 50, 50);\n        directionalLight.castShadow = true;\n        directionalLight.shadowCameraNear = 0;\n        directionalLight.shadowCameraFar = 300;\n        directionalLight.shadowCameraLeft = -200;\n        directionalLight.shadowCameraRight = 200;\n        directionalLight.shadowCameraTop = 200;\n        directionalLight.shadowCameraBottom = -200;\n\n        directionalLight.distance = 0;\n        directionalLight.intensity = 0.5;\n        directionalLight.shadowMapHeight = 1024;\n        directionalLight.shadowMapWidth = 1024;\n        directionalLight.target.lookAt(this._BASECROOD); \n        // this.objects.directionalLight = directionalLight;\n\n \t\tthis.objects.spotLight = new THREE.SpotLight(0xffffff);\n \t\tthis.objects.spotLight.intensity = 0.8;\n \t\tthis.objects.spotLight.position.set(-300, 200, 100);\n \t\tthis.objects.spotLight.lookAt(this._BASECROOD); \n\n \t\tthis.objects.spotLight2 = new THREE.SpotLight(0xffffff);\n \t\tthis.objects.spotLight2.intensity = 0.5;\n \t\tthis.objects.spotLight2.position.set(100, 200, -100);\n \t\tthis.objects.spotLight2.lookAt(this._BASECROOD); \n\t}\n\n\t_buildProductLogo() {\n\t\tvar logoMaterial = new THREE.MeshPhongMaterial({color: 0x999999});\n\t\tvar group = new THREE.Group();\n\t\tvar len = selectCfg.products.length;\n\t\tvar angelStep = Math.PI * 2 / len;\n\t\tvar Radius = 90;\n\t\tvar y = 32;\n\t\tvar x;\n\t\tvar z;\n\n\t\tvar svgOption = {\n            amount: 1,\n            bevelThickness: 0.1,\n            bevelSize: 0.1,\n            bevelSegments: 12,\n            bevelEnabled: false,\n            curveSegments: 80,\n            steps: 1\n        };\n\n\t\tselectCfg.products.forEach(function(product, i) {\n\t\t\tvar gemo = this._createSVGGemo(product.svgString, svgOption);\n\t\t\tvar mesh = new THREE.Mesh(gemo, logoMaterial/*.clone()*/);\n\t\t\t\n\t\t\tvar glowMesh = new THREE.Mesh(gemo.clone(), this._glowMaterial.clone());\n\n\n\t\t\tx = Radius * Math.cos(angelStep * i);\n\t\t\tz = Radius * Math.sin(angelStep * i);\n\n\t\t\tthis._products[product.name] = {'mesh': mesh, 'glowMesh': glowMesh, 'selected':false};\n\n\t\t\tmesh.scale.set(0.15, 0.15, 0.15);\n\t\t\tmesh.position.set(x, y, z);\n\t\t\tmesh.rotation.x = Math.PI / 2;\n\t\t\tmesh.rotation.z = Math.PI / 2 + angelStep * i;\n\n\t\t\tglowMesh.scale.set(0.15, 0.15, 0.15).multiplyScalar(1.2);;\n\t\t\tglowMesh.position.set(x, y, z);\n\t\t\tglowMesh.rotation.x = Math.PI / 2;\n\t\t\tglowMesh.rotation.z = Math.PI / 2 + angelStep * i;\n\n\t\t\t// group.add(glowMesh);\n\t\t\tgroup.add(mesh);\n\t\t}.bind(this));\n\n\t\tthis.objects.products = group;\n\t}\n}\n\nexport default SelectTable;\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/stages/select-table.js\n **/","import Time from 'time.js';\n\nclass Stage extends Time {\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.objects = {};\n\t\tthis.state; // unload, loading, setup, animate\n\t\tthis.isInit = false;\n\t\tthis.scene;\n\n\t\t// 如果不使用默认的 M3 scene 重写constructor 设置新的scene\n\t\tthis.scene = M3.scene;\n\t\tthis.camera = M3.camera;\n\t}\n\n\t// 加载，接受 进度回调， 成功回调\n\tload(onProgress, onSuccess) {\n\n\t}\n\n\t// 装载 3d 对象\n\tinit(onProgress, onSuccess) {\n\t\t\n\t}\n\n\tresize() {\n\t\t\n\t}\n\n\t// 从 M3.scene 中移除\n\tremove() {\n\t\tfor (var name in this.objects) {\n\t\t\tthis.scene.remove(this.objects[name]);\n\t\t}\n\t}\n\n\tdestory() {\n\t\tsuper.destory(); // remove tick of time\n\t\tthis.remove();\n\t\tfor (var name in this.objects) {\n\t\t\tdelete this.objects[name];\n\t\t}\n\t}\n}\n\nexport default Stage;\n\n\n/** WEBPACK FOOTER **\n ** ./js/stages/stage.js\n **/","var buildPath = './build/'; \nvar products = ['pro6', 'pro5', 'mx5', 'mx6', 'meilan3s', 'meilan3', 'meilannote3'];\n\n\nvar selectConf = {\n\tlogo: 'M22.8,41H3c-1.7,0-3,1.4-3,3v15.1h3.6V45.2c0-0.7,0.5-1.2,1.2-1.2h6.3v15.2h3.6V44H21c0.7,0,1.2,0.5,1.2,1.2v13.9h3.5V44C25.8,42.4,24.4,41,22.8,41zM29.6,44v12.1c0,1.7,1.3,3,3,3H48v-2.9H34.3c-0.7,0-1.2-0.5-1.2-1.2v-3.4h14.1v-3H33.1v-3.4c0-0.7,0.5-1.2,1.2-1.2H48V41H32.6C30.9,41,29.6,42.4,29.6,44zM75.3,41H59.4v2.9h13.1L59.9,55.1c-2,1.7-0.7,4,1,4H77v-2.9H63.6L76.2,45C78.3,43.1,77,41,75.3,41zM96.5,41v13.9c0,0.7-0.5,1.2-1.2,1.2l0,0H85.1l0,0c-0.7,0-1.2-0.5-1.2-1.2V41h-3.5v15.1c0,1.7,1.3,3,3,3H97c1.7,0,3-1.3,3-3V41H96.5zM51.8 41L55.5 41L55.5 59.1L51.8 59.1z',\n\n\tproducts: [],\n\tlogoImg: buildPath + require(\"assets/logo.png\"),\n\tparticleMap: buildPath + require(\"assets/select/particle-map.png\")\n}\n\nvar mx6 = 'M0,66.5h1.9l0,0V37.9l15.4,28.6h1.9l15.2-28.6h0.3v28.6h1.9V34.8h-3L18.2,64L3,34.8H0V66.5zM41.4,34.8l12.9,14.1l1.6-1.4L43.6,34.8M73.1,34.8L60.2,48.9l-1.6-1.4l12.2-12.7H73.1zM41.4,66.5l12.9-14.1l1.6,1.4L43.6,66.5M73.1,66.5L60.2,52.4l-1.6,1.4l12.2,12.7H73.1zM88.7,66.5c-4.1,0-6.9-1.1-8.5-3.3c-1.4-2-2-4.8-2-9.2c0-8,1-12.4,3.3-15.1c2.5-2.8,6.7-4,14-4c0.2,0,0.5,0,1.8,0l0,0l0.1,1.3l-1.7,0c-7.8,0.2-15.1,0.4-15.7,11.7l0,0.6l0.7-0.1c2.7-0.3,6.4-0.7,8.8-0.7c6.5,0,10.5,1.5,10.5,9.2c0,3.7-1,6.2-3,7.6C95.2,65.8,92.6,66.5,88.7,66.5z M80,50.3c-0.1,1.8-0.1,3-0.1,4.3c0,5.2,1,10.5,8.7,10.5c7,0,9.7-2.3,9.7-8.3c0-3.2-0.8-5.2-2.6-6.4c-1.5-1-3.6-1.4-7.2-1.4c-1.6,0-4.3,0.2-8.1,0.8L80,49.8L80,50.3z'\n\nproducts.forEach(function(productName) {\n\tselectConf.products.push(\n\t\t{\"name\": productName, svgString: mx6}\n\t);\n});\n\nexport default selectConf;\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/config/select-conf.js\n **/","module.exports = __webpack_public_path__ + \"assets/logo.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/logo.png\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"assets/select/particle-map.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/select/particle-map.png\n ** module id = 11\n ** module chunks = 0\n **/","import Stage from './stage.js';\n\n// Dependencies CONFIG.selects\nclass SelectCube extends Stage {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.objects;\n\t\tthis._BASECROOD = new THREE.Vector3();\n\t\tthis._PLANEWIDTH = 1500;\n\t\tthis._PLANEHEIGHT = 1500;\n\t\tthis._CUBESIZE = 60; // 立方体大小\n\t\tthis._GRIDXCOUNT = (this._PLANEWIDTH / this._CUBESIZE)|0; // 横向个数\n\t\tthis._GRIDZCOUNT = (this._PLANEHEIGHT / this._CUBESIZE)|0; // 纵向 Z(向) 个数\n\t\tthis._CUBEHEIGHT = 400;\n\t\tthis._MINSCALE = 0.1; // 最小高度缩放\n\t\tthis._MAXSCALE = 0.6; // 最大高度缩放\n\t\tthis._cubes; // 存储方块信息的二维数组\t\t\n\t\tthis.isInit = false;\n\t}\n\n\t// this.objects\n\tinit() {\n\t\tthis.build();\n        this.isInit = true;\n\t}\n\n\tbuild() {\n\n\t\t// cubes\n\t\tthis._cubes = [];\n\n\t\tvar emptySpace = 0.3;\n\t\tvar cubeGroup = new THREE.Group();\n\t\tvar cubeMaterial;\n\t\tvar cubeGeom;\n\t\tvar cube;\n\t\tvar glowCube;\n\n\t\tfor (let i = 0; i < this._GRIDXCOUNT; i++ ) {\n\t\n\t\t\tfor (let j = 0; j < this._GRIDZCOUNT; j++ ) {\n\n\t\t\t\tvar x = this._BASECROOD.x - this._GRIDXCOUNT / 2 + i;\n\t\t\t\tvar z = this._BASECROOD.z - this._GRIDZCOUNT / 2 + j;\n\t\t\t\tif (x * x + z * z < this._GRIDXCOUNT * emptySpace * this._GRIDXCOUNT * emptySpace ||\n\t\t\t\t\t(Math.random() + 0.5) | 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tthis._cubes[i] = this._cubes[i] || [];\n\t\t\t\tthis._cubes[i][j] = {\n\t\t\t\t\tposition: {x: x, y: 0, z: z},\n\t\t\t\t\tscaleV: (Math.random() / 6000), // 缩放速度每一帧缩放 0.??\n\t\t\t\t\tscaleMin: this._MINSCALE + (this._MAXSCALE - this._MINSCALE) * Math.random() / 2,\n\t\t\t\t\tscaleMax: this._MAXSCALE - (this._MAXSCALE - this._MINSCALE) * Math.random() / 2, // 缩放范围\n\t\t\t\t};\n\t\t\t\t// console.log(this._cubes[i][j].position);\n\t\t\t\t// \n\t\t\t\tvar cubeSize = this._CUBESIZE *  (0.2 + 0.5 * Math.random());\n\t\t\t\tcubeGeom = new THREE.BoxGeometry(\n\t\t\t\t\t\t\t\tcubeSize, \n\t\t\t\t\t\t\t\tthis._CUBEHEIGHT, \n\t\t\t\t\t\t\t\tcubeSize,2,2,2\n\t\t\t\t\t\t\t);\n\t\t\t\tcubeMaterial = new THREE.MeshLambertMaterial(\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: 0xffffff,\n\t\t\t\t\t\t// transparent: true,\n\t\t\t\t\t\t// opacity: 0.9,\n\t\t\t\t\t\t// reflectivity: 1,\n\t\t\t\t\t\t// specular: 0xdddddd,\n\t\t\t\t\t\t// shininess: 90\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcube = new THREE.Mesh(cubeGeom, cubeMaterial);\n\t\t\t\tcube.position.set(\n\t\t\t\t\t(this._cubes[i][j].position.x + Math.random() - 0.5) * this._CUBESIZE,\n\t\t\t\t\t0,\n\t\t\t\t\t(this._cubes[i][j].position.z + Math.random() - 0.5) * this._CUBESIZE\n\t\t\t\t);\n\t\t\t\tcube.scale.set(1, 0.01, 1);\n\t\t\t\tthis._cubes[i][j].cube = cube;\n\n\t\t\t\tvar glowCubeGeom = new THREE.BoxGeometry(\n\t\t\t\t\tcubeSize * 1.4, \n\t\t\t\t\tthis._CUBEHEIGHT  * 1.1, \n\t\t\t\t\tcubeSize * 1.4, 3, 8, 3\n\t\t\t\t);\n\t\t\t\tvar modifier = new THREE.SubdivisionModifier( 1 );\n\t\t\t\tmodifier.modify( glowCubeGeom ); \n\t\t\t\tglowCube = new THREE.Mesh(\n\t\t\t\t\tglowCubeGeom,\n\t\t\t\t\tnew THREE.GlowMaterial({\n\t\t\t\t\t\tc: 0.34,\n\t\t\t\t\t\tp: 2.8,\n\t\t\t\t\t\to: 0.3,\n\t\t\t\t\t\tcolor: new THREE.Color(0xffffff),\n\t\t\t\t\t\ttransparent: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\t\n\t\t\t\tglowCube.position.copy(cube.position);\n\t\t\t\tglowCube.scale.copy(cube.scale);\n\t\t\t\tthis._cubes[i][j].glowCube = glowCube;\n\n\t\t\t\tcubeGroup.add(cube);\n\t\t\t\tcubeGroup.add(glowCube);\n\n\n\n\t\t\t}\n\t\t}\n\n\t\tthis.objects.cubeGroup = cubeGroup;\n\n\n\t}\n\n\tentry() {\n\t\tObject.keys(this.objects).forEach(function(o) { M3.scene.add(this.objects[o]);}.bind(this));\n\t\tthis._moveCubes();\n\t}\n\n\tleave() {\n\t\t// or return a promise so that can do some ani\n\t\tthis.removeTick(); \n\t}\n\n\t_moveCube(cube) {\n\t\tvar that = this;\n\t\tvar target = {};\n\t\tvar dur;\n\n\t\tcube.scaleMin = this._MINSCALE + (this._MAXSCALE - this._MINSCALE) * Math.random() / 2;\n\t\tcube.scaleMax = this._MAXSCALE - (this._MAXSCALE - this._MINSCALE) * Math.random() / 2; // 缩放范围\n\t\t\n\t\tif (cube.cube.scale.y <= cube.scaleMin) {\n\t\t\ttarget.scale = new THREE.Vector3(1, cube.scaleMax + 0.01, 1);\n\t\t} else if (cube.cube.scale.y >= cube.scaleMax) {\n\t\t\ttarget.scale = new THREE.Vector3(1, cube.scaleMin - 0.01, 1);\n\t\t} else {\n\t\t\ttarget.scale = new THREE.Vector3(1, cube.scaleMin - 0.01, 1);\n\t\t}\n\t\t// target.scale.x = target.scale.z = target.scale.y < 0.7 ? 0.7: target.scale.y;\n\t\t// target.rotation = new THREE.Euler( 0, cube.cube.rotation.y + Math.random() * Math.PI * (1 - Math.random()), 0, 'XYZ' );\n\n\t\tdur = Math.abs(target.scale.y - cube.cube.scale.y) / cube.scaleV;\n\t\t\n\t\tcube.tween = that.addTHREEObjTween(cube.cube, target, dur, {\n\t\t\tonUpdate: function() {\n\t\t\t\tcube.glowCube.scale.copy(cube.cube.scale)//.multiplyScalar(1.5);\n\t\t\t\t//cube.glowCube.scale.y = cube.cube.scale.y + 0.2;\n\t\t\t},\n\t\t\tonComplete: function() {\n\t\t\t\t// console.log(target);\n\t\t\t\tthat.removeTween(cube.tween);\n\t\t\t\tthat._moveCube(cube);\n\t\t\t}\n\t\t});\n\t\tcube.tween.start();\n\n\n\t}\n\n\t// Normal 方块移动\n\t_moveCubes() {\n\t\tfor (let cube, i = this._cubes.length - 1; i >= 0; i--) {\n\t\t\tif (!this._cubes[i]) { continue; }\n\t\t\tfor (let j = this._cubes[i].length - 1; j >= 0; j--) {\n\t\t\t\tif (!this._cubes[i][j]) { continue; }\n\t\t\t\tcube = this._cubes[i][j];\n\t\t\t\tthis._moveCube(cube);\n\t\t\t};\n\t\t};\n\t}\n\n\n\n}\n\nexport default SelectCube;\n\n\n/** WEBPACK FOOTER **\n ** ./js/stages/select-cube.js\n **/","import Time from 'time.js';\nimport Stage from './stage.js';\nimport selectCfg from 'select-conf.js';\nimport ExplodeParticles from './explode-particles.js';\n\nclass Star extends Time {\n\tconstructor(initCrood) {\n\t\tsuper();\n\t\tthis.startLines = []; // 以此星星为起点的 Line\n\t\tthis.endLines = []; // 以此星星为终点的 Line\n\t\tthis.box;\n\t\tthis.mesh;\n\t\tthis.connectStars = []; \n\t\tthis.initCrood = initCrood;\n\t\tthis.autoMoveTween;\n\t\tthis.rotateT;\n\t}\n\n\tinit() {\n\t\tthis.build();\n\t\tthis.mesh.position.set(0, 0, 0);\n\t\t// this.mesh.scale.set(0, 0, 0);\n\n\t\t// this.mesh.rotation.set(Math.random(), Math.random(), Math.random());\n\t\tthis.rotateT = this.addTick(function() {\n\t\t\tthis.box.rotation.x += 0.002;\n\t\t\tthis.box.rotation.y += 0.006;\n\t\t\t// this.setCrood();\n\t\t\tthis.box.rotation.z += 0.002;\n\t\t}.bind(this));\n\n\t\tlet that = this;\n\t}\n\n\tbuild() {\n\t\t// create mesh\n\t\tlet geom = new THREE.SphereGeometry(10 + Math.random() * 3, 6, 4);\n\t\t/*geom = new THREE.TetrahedronGeometry(15, 0);\n\t\tif (Math.random() > 0) {\n\t\t\tgeom = new THREE.BoxGeometry(15, 15, 15);\n\t\t}*/\n\t\t// geom.computeVertexNormals();\n\n\t\tlet material1 = new THREE.MeshBasicMaterial({color: 0x333333, wireframe: true, opacity: 0.2});\n\t\t// let material2 = THREE.CustomMaterial.glass.clone();\n\t\tlet material2 = new THREE.MeshLambertMaterial();\n\t\tmaterial2.envMap = M3.assets.envMap;\n\t\tmaterial2.side = THREE.DoubleSide;\n\t\tmaterial2.transparent = true;\n\t\tmaterial2.opacity = 0.1;\n\t\tmaterial2.refractionRatio = 1.4;\n\t\t// let mesh = new THREE.Mesh(geom, material2);\n\t\tlet mesh = THREE.SceneUtils.createMultiMaterialObject(geom, [material1, material2]);\n\n\t\tmesh.rotation.set(Math.random(), Math.random(), Math.random());\n\t\tthis.mesh = mesh;\n\t\tthis.box = mesh;\n\t\tthis.box.name = 'starbox';\n\t}\n\n\tsetCrood(crood) {\n\t\tcrood && this.mesh.position.copy(crood);\n\t\tthis.startLines.forEach((line) => line.update());\n\t\tthis.endLines.forEach((line) => line.update());\n\t}\n\n\n\tautoMove() {\n\t\tfunction move() {\n\t\t\tlet newCrood = that.initCrood.clone().add(new THREE.Vector3(\n\t\t\t\tMath.random() * 20,\n\t\t\t\tMath.random() * 20,\n\t\t\t\tMath.random() * 20\n\t\t\t));\n\t\t\tthat.moveTo(newCrood, move);\n\t\t}\n\t\tmove();\n\t}\n\n\tmoveTo(crood, callback) {\n\t\tautoMoveTween = this.addTHREEObjTween(this.mesh, {position: crood}, 2000 + Math.random() * 3000|0, {\n\t\t\tonUpdate: function() { \n\t\t\t\tthis.setCrood(this.mesh.position); \n\t\t\t}.bind(this),\n\t\t\tonComplete: callback\n\t\t}).start();\n\t}\n}\n\nclass ProductStar extends Star {\n\tconstructor(crood, svgString) {\n\t\tsuper(crood);\n\t\tthis.name;\n\t\tthis.selected = false;\n\t\tthis._svgString = svgString;\n\n\t\tthis._svgMesh;\n\t\tthis._glowSprite;\n\n\t\tthis._selectTween;\n\n\t\tthis.updateT;\n\t}\n\n\tinit() {\n\t\tsuper.init(); // call build\n\t\t// this.removeTick(this.rotateT);\n\t\tthis.updateT = this.addTween(() => {\n\t\t\tthis._glowSprite.material.needUpdate = true;\n\t\t\tthis._svgMesh.material.needUpdate = true;\n\t\t});\n\t}\n\n\tbuild() {\n\t\tsuper.build();\n\t\tlet group = new THREE.Group();\n\t\tlet svgGemo = new THREE.SVGGemetry(this._svgString, {});\n\t\t//let material = new THREE.MeshBasicMaterial({color: 0x0cbbef});\n\t\tlet material = new THREE.MeshBasicMaterial({color: 0x095c75});\n\t\t// let material = new THREE.MeshPhongMaterial({color: 0x0a4fdc});\n\t\tlet svgMaterial = new THREE.MeshPhongMaterial({\n\t\t\tcolor: 0x095c75,\n\t\t\temissive: 0xffffff\n\t\t});\n\t\tlet svgMesh = new THREE.Mesh(svgGemo, material);\n\t\tsvgMesh.scale.set(0.1, 0.1, 0.1);\n\n\t\tlet initV = new THREE.Vector3(0,0,1);\n\t\tlet finalV = this.initCrood.clone().normalize();\n\n\t\tinitV.y = finalV.y = 0;\n\t\tlet axis = new THREE.Vector3();\n\t\taxis.crossVectors(initV, finalV).normalize();\n\t\tlet angle = Math.acos( initV.dot(finalV) / initV.length() / initV.length());\n\t\tlet quaternion = new THREE.Quaternion(); \n\n\t\tquaternion.setFromAxisAngle(axis, angle);\n\t\tsvgMesh.rotation.setFromQuaternion(quaternion);\n\t\tthis._svgMesh = svgMesh;\n\n\t\tlet spriteMap = M3.assets.particleMap.texture; \n\n\t\tlet spriteMaterial = new THREE.SpriteMaterial({\n\t\t\tmap: spriteMap,\n\t\t\tblending: THREE.AdditiveBlending,\n\t\t\ttransparent: true,\n\t\t\topacity: 0\n\t\t});\n\t\tlet glowSprite = new THREE.Sprite(spriteMaterial);\n\t\tglowSprite.scale.set(60, 60, 60);\n\t\tthis._glowSprite = glowSprite;\n\t\t\n\t\tgroup.add(glowSprite);\n\t\tgroup.add(svgMesh);\n\t\tgroup.add(this.mesh);\n\t\tthis.mesh = group;\n\t}\n\n\tselect() {\n\t\tvar that = this;\n\t\tthis.selected = true;\n\t\tthis._glowSprite.visible = true;\n\t\tthis._svgMesh.material.stopAnimate().animate({color: 0xffffff}, 300);\n\t\tthis._glowSprite.material.stopAnimate().animate({opacity: 1}, 300, 0, {\n\t\t\tonComplete: ()=>this._glowSprite.visible = true\n\t\t});\n\t}\n\n\tunSelect() {\n\t\tthis.selected = false;\n\t\tthis._glowSprite.visible = true;\n\t\tthis._svgMesh.material.stopAnimate().animate({color: 0x095c75}, 300);\n\t\tthis._glowSprite.material.stopAnimate().animate({opacity: 0}, 300, 0, {\n\t\t\tonComplete: ()=>this._glowSprite.visible = false\n\t\t});\n\t}\n}\n\nclass Line extends Time {\n\tconstructor(startStar, endStar) {\n\t\tsuper();\n\t\tthis.startStar = startStar;\n\t\tthis.endStar = endStar;\n\n\t\tthis.start = new THREE.Vector3;\n\t\tthis.end = new THREE.Vector3;\n\n\t\tthis.mesh; // 需要被加进场景的物体\n\t\tthis.line;\n\t\tthis.startPointLight; // 端点光\n\t\tthis.endPointLight; // 端点光\n\n\t\tthis.ray = new THREE.Raycaster();\n\t\tthis.connected = false;\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tlet lineMaterial = new THREE.LineBasicMaterial( { color: 0xffffff, opacity: 0, linewidth: 1, transparent: true } );\n\t\t/*let lineMaterial = new THREE.MeshBasicMaterial({ \n\t\t\tmap: M3.assets.particleMap.texture,\n\t\t\tblending: THREE.AdditiveBlending,\n\t\t\tcolor: 0xffffff, \n\t\t\ttransparent: true, \n\t\t\topacity: 0.4 \n\t\t});*/\n\t\tlet lineGeom = new THREE.Geometry();\n\t\tlineGeom.vertices.push(this.start, this.end);\n\t\tthis.line = new THREE.Line(lineGeom, lineMaterial);\n\n\t\tlet pointLightMap = M3.assets.particleMap.texture; \n\n\t\tlet spriteMaterial = new THREE.SpriteMaterial({\n\t\t\tmap: pointLightMap,\n\t\t\tblending: THREE.AdditiveBlending,\n\t\t\ttransparent: true,\n\t\t\topacity: 0\n\t\t});\n\t\tthis.startPointLight = new THREE.Sprite(spriteMaterial);\n\t\tthis.endPointLight = new THREE.Sprite(spriteMaterial);\n\t\tthis.startPointLight.scale.set(10,10,10);\n\t\tthis.endPointLight.scale.set(10,10,10);\n\n\t\tthis.mesh = new THREE.Group();\n\t\tthis.mesh.add(this.line);\n\t\tthis.mesh.add(this.startPointLight);\n\t\tthis.mesh.add(this.endPointLight);\n\t\tthis.mesh.visible = false;\n\t}\n\n\tconnect(dur=TIME_1000, delay=0) {\n\t\tlet that = this;\n\t\tlet moveIndex = Math.random()*2|0;\n\t\tlet staticIndex = (moveIndex+1) % 2;\n\t\t\n\t\tthis.mesh.visible = true;\n\t\tfunction update() {\n\t\t\tthat.line.geometry.verticesNeedUpdate = true;\n\t\t\tthat.line.material.needUpdate = true;\n\t\t}\n\t\t\n\t\tlet pointTween = new TWEEN.Tween({p: 0}).to({p: 1}, dur)\n\t\t\t.easing(TWEEN.Easing.Cubic.In).onUpdate(function() {\n\t\t\t\tlet curCroods = that.calCrood();\n\t\t\t\tlet sub = (new THREE.Vector3).subVectors(curCroods[moveIndex],curCroods[staticIndex]);\n\t\t\t\tsub.setLength(sub.length() * this.p);\n\t\t\t\tcurCroods[moveIndex] = curCroods[staticIndex].clone().add(sub);\n\t\t\t\tthat.setCrood(curCroods);\n\t\t\t}).onComplete(function() {\n\t\t\t\tthat.removeTween(pointTween);\n\t\t\t\tthat.connected = true;\n\t\t\t});\n\t\tsetTimeout(()=>pointTween.start(), delay);\t\t\n\t\tthis.line.material.animate({opacity: 0.4}, dur, delay, {onUpdate: update})\n\t\tthis.startPointLight.animate({scale: new THREE.Vector3(1,1,1)}, dur, delay);\n\t\tthis.startPointLight.material.animate({opacity: 0.5}, dur, delay);\n\t}\n\n\tcalCrood() {\n\t\tlet startV = this.startStar.box.getWorldPosition();\n\t\tlet endV = this.endStar.box.getWorldPosition();\n\n\t\t// console.log(this.startStar.initCrood, this.endStar.initCrood);\n\t\t// console.log(startV, endV, (new THREE.Vector3).subVectors(endV, startV));\n\t\tthis.ray.set(startV, (new THREE.Vector3).subVectors(endV, startV).normalize());\n\t\tlet intersects = this.ray.intersectObjects([this.startStar.box, this.endStar.box], true);\n\t\tlet pointStart,pointEnd;\n\n\t\tintersects.forEach(function(intersect) {\n\t\t\tif (!pointStart && \n\t\t\t\t(this.startStar.box === intersect.object ||\n\t\t\t\tthis.startStar.box.children.indexOf(intersect.object) !== -1 )) {\n\t\t\t\tpointStart = intersect.point;\n\t\t\t}\n\t\t\tif (!pointEnd && \n\t\t\t\t(this.endStar.box === intersect.object ||\n\t\t\t\tthis.endStar.box.children.indexOf(intersect.object) !== -1 )) {\n\t\t\t\tpointEnd = intersect.point;\n\t\t\t}\n\t\t}.bind(this));\n\n\t\t//console.log(intersects);\n\t\t//console.log(pointStart, pointEnd);\n\t\treturn [pointStart, pointEnd];\n\t}\n\n\tsetCrood(croods) {\n\t\tthis.start.copy(croods[0]);\n\t\tthis.end.copy(croods[1]);\n\n\t\tthis.startPointLight.position.copy(this.start);\n\t\tthis.endPointLight.position.copy(this.end);\n\n\t\tthis.line.geometry.verticesNeedUpdate = true;\n\t}\n\n\tupdate() {\n\t\tif (!this.connected) return;\n\t\tlet vecs = this.calCrood();\n\t\tthis.setCrood(vecs);\n\t}\n}\n\nclass SelectStars extends Stage {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.isInit = false;\n\t\tthis.interacted = false;\n\n\t\tthis._gridSize = 30;\n\t\tthis._starCount = 60;\n\t\tthis._rangeX = 20; // 边长\n\t\tthis._rangeY = 10; // 边长\n\t\tthis._rangeZ = 20; // 边长\n\t\t\n\t\tthis._minDistant = this._gridSize * 3; // 两个点之间最小间隔\n\t\tthis._maxConnectDistant = this._gridSize * 4; // 两个点的距离小于多少被连在一起\n\n\t\tthis._productCfgs;\n\t\tthis._stars = [];\n\t\tthis._lines = [];\n\t\tthis._pStars = []; // 产品星\n\t\tthis._selectedPStars = [];\n\t\tthis._maxSelected = 2;\n\n\t\tthis.explodeParticles = new ExplodeParticles();\n\t}\n\tinit() {\n\t\tthis._productCfgs = $.extend(true, [], selectCfg.products);\n\t\tthis.isInit = true;\n\t\tthis._initEvent();\n\t\tthis._build();\n\n\t\tthis._controls = new THREE.TrackballControls(this.camera, M3.renderer.domElement);\n\t\tthis._controls.enabled = false;\n\t}\n\n\t_initEvent() {\n\t\tlet that = this;\n\t\tlet raycaster = new THREE.Raycaster();\n\t\tlet intersects;\n\t\tlet mouse = new THREE.Vector2();\n\t\tlet hit;\n\t\tlet hitStar;\n\n\t\tfunction mousedown(event) {\n\t\t\tif (!that.interacted) return;\n\n\t\t\thit = null;\n\t\t\tmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\n\t\t\tmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\t\n\t\t\traycaster.setFromCamera(mouse, M3.camera);\n\t\t\tintersects = raycaster.intersectObjects(that._pStars.map(pStar=>pStar.box), true);\n\n\t\t\tif (intersects.some(function(intersect) {\n\t\t\t\tif (intersect.object.name === 'starbox') {\n\t\t\t\t\thit = intersect.object;\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (intersect.object.parent && intersect.object.parent.name === 'starbox') {\n\t\t\t\t\thit = intersect.object.parent;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t})) {\n\t\t\t\thitStar = that._pStars.filter(pStar=>pStar.box===hit)[0];\n\t\t\t\tthat._toggle(hitStar);\n\t\t\t}\n\t\t\t// console.log(hit);\n\t\t}\n\n\t\tdocument.addEventListener('click', mousedown);\n\t}\n\n\t_build() {\n\t\tlet that = this;\n\t\tlet starCroods = [];\n\t\tlet starCrood;\n\t\tlet isValidCrood = false;\n\t\tlet starGroup = new THREE.Group();\n\t\t\n\t\tlet toBaseVec = new THREE.Vector3(\n\t\t\t-this._gridSize * this._rangeX / 2,\n\t\t\t-this._gridSize * this._rangeY / 2,\n\t\t\t-this._gridSize * this._rangeZ / 2\n\t\t);\n\n\t\twhile(starCroods.length < this._starCount) {\n\n\t\t\tstarCrood = new THREE.Vector3(\n\t\t\t\tparseInt(this._rangeX * Math.random()) * this._gridSize, \n\t\t\t\tparseInt(this._rangeY * Math.random()) * this._gridSize, \n\t\t\t\tparseInt(this._rangeZ * Math.random()) * this._gridSize\n\t\t\t);\n\t\t\tstarCrood.add(toBaseVec);\n\n\t\t\tlet hasConnect = false;\n\t\t\tlet distantVec = new THREE.Vector3;\n\t\t\tlet distant;\n\t\t\tisValidCrood = starCroods.every(function(crood) {\n\t\t\t\tdistant = distantVec.subVectors(starCrood, crood).length();\n\t\t\t\thasConnect = (hasConnect || distant < that._maxConnectDistant);\n\t\t\t\treturn distant > that._minDistant;\n\t\t\t}) && hasConnect;\n\n\t\t\tif (!starCroods.length || isValidCrood) {\n\t\t\t\tstarCroods.push(starCrood);\n\t\t\t}\n\t\t}\n\n\t\t// 在生成的 stars 点中，随机选择作为产品 star\n\t\tlet productIndexes = new Set();\n\t\twhile(productIndexes.size < this._productCfgs.length) {\n\t\t\tproductIndexes.add((Math.random() * this._starCount)|0);\n\t\t}\n\t\t// console.log(starCroods, productIndexes);\n\t\tlet productCfgIndex = 0; // selectCfg.products 的 index\n\t\tstarCroods.forEach(function(starCrood, index) {\n\t\t\tlet star;\n\t\t\tif (productIndexes.has(index)) {\n\t\t\t\tstar = new ProductStar(starCrood, that._productCfgs[productCfgIndex].svgString);\n\t\t\t\tstar.init();\n\t\t\t\tstar.name = that._productCfgs[productCfgIndex].name;\n\t\t\t\tthat._pStars.push(star);\n\t\t\t\tproductCfgIndex++;\n\t\t\t} else {\n\t\t\t\tstar = new Star(starCrood); star.init();\n\t\t\t}\n\t\t\t// star.setCrood(starCrood);\n\t\t\tstar.setCrood(new THREE.Vector3(Math.random()*2, Math.random()*2, Math.random()*2));\n\t\t\t// star.mesh.scale.setScalar(0.0001);\n\t\t\tthat._stars.push(star);\n\t\t\tstarGroup.add(star.mesh);\n\t\t});\n\t\tthis.objects.starGroup = starGroup;\n\t\tthis.objects.starGroup.scale.setScalar(0.0001);\n\n\t\t// line\n\t\tlet line;\n\t\tlet lineGroup = new THREE.Group();\n\t\tthis._stars.forEach(function(iStar, i) {\n\t\t\tthat._stars.forEach(function(jStar, j) {\n\t\t\t\tif (\n\t\t\t\t\ti === j || \n\t\t\t\t\tiStar.connectStars.indexOf(jStar) !== -1 || \n\t\t\t\t\tjStar.connectStars.indexOf(iStar) !== -1 ||\n\t\t\t\t\t(new THREE.Vector3).subVectors(iStar.initCrood, jStar.initCrood).length() > that._maxConnectDistant\n\t\t\t\t) return;\n\n\t\t\t\tline = new Line(iStar, jStar);\n\t\t\t\tiStar.connectStars.push(jStar);\n\t\t\t\tjStar.connectStars.push(iStar);\n\t\t\t\tiStar.startLines.push(line);\n\t\t\t\tjStar.endLines.push(line);\n\t\t\t\tlineGroup.add(line.mesh);\n\t\t\t\tthat._lines.push(line);\n\t\t\t});\n\t\t});\n\t\tthis.objects.lineGroup = lineGroup;\n\t\t\n\t\t// import build\n\t\tthis.explodeParticles.build();\n\t\tthis.objects.particleSystem = this.explodeParticles.particleSystem;\n\n\t}\n\n\tentry(animate = true) {\n\t\tObject.keys(this.objects).forEach(function(o) { M3.scene.add(this.objects[o]);}.bind(this));\n\t\tthis._pStars\n\t\t\t.forEach(pStar=>pStar.mesh.visible=true);\n\n\n\t\tlet that = this;\n\t\tlet lightUpDur = !animate ? 0 : TIME_4000;\n\t\tlet starGroupScaleDelay = !animate ? 0 : TIME_800;\n\t\tlet starGroupScaleDur = !animate ? 0 : TIME_800;\n\n\t\tlet starMoveDelay = !animate ? 0 : TIME_400;\n\t\tlet starMoveDur = !animate ? 0 : TIME_300;\n\n\t\tlet gatherDur = !animate ? 0 : TIME_2200;\n\t\tlet exploreDur = !animate ? 0 : TIME_4000;\n\n\t\tlet cameraRotateDur = !animate ? 0 : gatherDur + exploreDur + TIME_1000;\n\n\t\tlet lineConnectDelay = !animate ? 0 : TIME_2000;\n\t\tlet lineConnectDur = !animate ? 0 : TIME_3000;\n\n\t\t/* lightUp */\n\t\t// lightUp camera cross ani\n\t\tif (animate) {\n\t\t\tthis.camera.position.set(100, 0, -500);\n\t\t\tthis.camera.lookAt(that.explodeParticles.initPos);\n\t\t\tthis.camera.up.set(1, 0, 0);\n\t\t\tthis.camera.animate({\n\t\t\t\tposition: new THREE.Vector3(0, 0, 300),\n\t\t\t\tup: new THREE.Vector3(0, 1 ,0)\n\t\t\t}, lightUpDur, 0, {\n\t\t\t\tonUpdate() { that.camera.lookAt(that.explodeParticles.initPos); },\n\t\t\t});\n\t\t}\n\n\t\tthis.explodeParticles.lightUp(lightUpDur).then(function() {\n\n\t\t\t// group scale\n\t\t\tthat.objects.starGroup.rotation.x = Math.PI * 20;\n\t\t\tthat.objects.starGroup.animate({\n\t\t\t\tscale: new THREE.Vector3(1,1,1),\n\t\t\t\trotation_x: 0 \n\t\t\t}, starGroupScaleDur, starGroupScaleDelay, {\n\t\t\t\tonComplete() {\n\t\t\t\t\t// star move\n\t\t\t\t\tthat._stars.forEach(function(star) {\n\t\t\t\t\t\tstar.mesh.animate({position: star.initCrood}, starMoveDur, starMoveDelay )\n\t\t\t\t\t});\t\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// camera rotate ani after lightup\n\t\t\tif (animate) {\n\t\t\t\tthat.addTween(\n\t\t\t\t\tnew TWEEN.Tween({a: Math.PI*0.5})\n\t\t\t\t\t.to({a: Math.PI*2.5}, cameraRotateDur)\n\t\t\t\t\t.easing(TWEEN.Easing.Cubic.InOut)\n\t\t\t\t\t.onUpdate(function() {\n\t\t\t\t\t\t// 聚集\n\t\t\t\t\t\tlet a = this.a;\n\t\t\t\t\t\tM3.camera.position.x = Math.cos(a) * 300;\n\t\t\t\t\t\tM3.camera.position.z = Math.sin(a) * 300;\n\t\t\t\t\t\tM3.camera.position.y = Math.cos(a) * 200;\n\t\t\t\t\t\tM3.camera.lookAt(that.explodeParticles.initPos);\n\t\t\t\t\t}).start()\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\t// gather\n\t\t\treturn that.explodeParticles.gather(gatherDur);\n\t\t}).then(function() {\n\t\t\treturn that.explodeParticles.explode(exploreDur);\n\t\t}).then(function() {\n\t\t\tthat._lines.forEach(function(line) {\n\t\t\t\tline.connect(lineConnectDur, Math.random() * lineConnectDelay);\n\t\t\t});\n\n\t\t\tthat._controls = new THREE.TrackballControls(that.camera, M3.renderer.domElement);\n\n\t\t\tthat._controls.enabled = true;\n\t\t\tthat._controls.travel = true;\n\t\t\tthat.interacted = true;\n\n\t\t\tthat._t = that.addTick(function(delta) {\n\t\t\t\tthat._controls.update(delta);\n\t\t\t});\n\t\t});\n\n\t\t// control travel\n\t\t/*this.camera.position.set(0,0,1000);\n\t\tthis.camera.lookAt(new THREE.Vector3);\n\t\tthis._controls = new THREE.TrackballControls(this.camera, M3.renderer.domElement);\n\t\tthis._controls.staticMoving = true;\n\t\tthis._controls.travel = false;\n\t\tthis._t = this.addTick(function(delta) {\n\t\t\tthis._controls.update(delta);\n\t\t});*/\n\n\t}\n\n\tleave() {\n\t\tthis.interacted = false;\n\t\tthis._controls.travel = false;\n\t\tthis._controls.enabled = false;\n\t\tthis.removeTick(this._t);\n\t\tthis._pStars\n\t\t\t.filter(pStar=>pStar.selected)\n\t\t\t.forEach(pStar=>{\n\t\t\t\tpStar.mesh.visible=false;\n\t\t\t});\n\n\t\tthis.objects.lineGroup.visible = false;\n\t\t\n\t}\n\n\n\t_select(star) {\n\t\tvar that = this;\n\t\tif (this._selectedPStars.length === this._maxSelected) {\n\t\t\tthis._selectedPStars.shift().unSelect();\n\t\t}\n\t\tstar.select();\n\n\t\t// camera lookAt it\n\n\t\tthis._controls.travel = false;\n\n\t\tlet cameraPosition = star.mesh.position.clone();\n\t\tcameraPosition.setLength(cameraPosition.length() + this._minDistant * 0.8);\n\t\tthis.camera.userData.lookAt = new THREE.Vector3;\n\t\tthis.camera.stopAnimate().animate({position: cameraPosition, lookAt: new THREE.Vector3}, 2000, 0, {\n\t\t\tonComplete() {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthat._controls.travel = true;\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t});\n\n\n\t\tthis._selectedPStars.push(star);\n\t\tthis.emitEvent('selected-change', [this._selectedPStars]);\n\t}\n\n\t_unSelect(star) {\n\t\tstar.unSelect();\n\t\tthis._selectedPStars = this._selectedPStars.filter(pStar=>star!==pStar);\n\t\tthis.emitEvent('selected-change', [this._selectedPStars]);\n\t}\n\n\t_toggle(star) {\n\t\tstar.selected ? this._unSelect(star) : this._select(star);\n\t}\n\n\t// 下列选择方法，使用产品名字，用于UI的交互\n\tselectMul(arr) {\n\t\t\n\t}\n\n\ttoggle(name) {\n\t\tlet star = this._pStars.filter((pStar)=>pStar.name===name)[0];\n\t\tthis._toggle(star);\n\t}\n\n\tgetSelected() {\n\t\t// var selectedNames = this._pStars.filter((pStar)=>pStar.selected).map((pStar)=>pStar.name);\n\t\treturn this._pStars.filter((pStar)=>pStar.selected);\n\t}\n\t\n\n\n\n}\n\nexport default SelectStars;\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/stages/select-stars.js\n **/","import Time from 'time.js';\n\n\nclass ExplodeParticles extends Time {\n    constructor() {\n        super();\n        this.particleSystem;\n        this.initPos = new THREE.Vector3(0, 0, 0);\n        this.finalPos = new THREE.Vector3(0, 0, 0);\n    } \n\n    init() {\n\n    }\n\n    build() {\n        let that = this;\n        let logoImg = M3.assets.logoImg.img;\n        // let particleMap = new THREE.TextureLoader().load(M3.assets.particleMap.dataset.src); \n        let particleMap= M3.assets.particleMap.texture;\n        // particleMap.image = M3.assets.particleMap;\n\n        let imgData = getImageData(logoImg, 0, 0, 0);\n        let zRandom = 200;\n        let yOffset = 0;//-500;\n        let geom = new THREE.Geometry();\n        let material = new THREE.PointsMaterial({\n            map: particleMap,\n            size: 3,\n            transparent: true,\n            opacity: 0.8,\n            sizeAttenuation: true,\n            color: 0xffffff,\n            blending: THREE.AdditiveBlending,\n            // vertexColors: THREE.FaceColors\n        });\n\n        imgData.forEach(function(pixel) {\n            let v3 = new THREE.Vector3(\n                pixel.size.x * 1,\n                pixel.size.y * 1 + yOffset,\n                0\n            );\n            v3.initV = v3.clone(); // for lightUp\n            v3.lightupZ = (Math.random() - 0.5) * 5 * zRandom\n            v3.z = v3.lightupZ;\n\n            \n            v3.exAngle = Math.random() * Math.PI * 2; // for explode\n            v3.exAngleY = (Math.random() - 0.5) * Math.PI * 1; // for explode\n            v3.rPercent = Math.random() * 2 + 1\n            geom.vertices.push(v3);\n            // geom.vertices.push(v3);\n        });\n        that.particleSystem = new THREE.ParticleSystem(geom, material); \n            // M3.scene.add(that.particleSystem);\n            // console.log(that.particleSystem);\n    }\n\n    lightUp(dur = TIME_4000) {\n        let that = this;\n        let cameraTween;\n\n        return new Promise(function(resolve) {\n            // particle ani\n            let particleTween = new TWEEN.Tween({z: 1}).to({z: 0}, dur * 1.2);\n            particleTween.easing(TWEEN.Easing.Cubic.InOut).onUpdate(function() {\n                let z = this.z;\n                that.particleSystem.geometry.verticesNeedUpdate = true;\n                that.particleSystem.geometry.vertices.forEach(function(v3) {\n                    v3.z = v3.lightupZ * z;\n                });\n            }).onComplete(()=>resolve()).start();\n            that.addTween(particleTween);\n        });\n    }\n\n    gather(dur = TIME_2000) {\n        let that = this;\n        let gatherTween = new TWEEN.Tween({p: 1}).to({p: -1}, dur);\n\n        this.addTween(gatherTween);  \n        return new Promise(function(resolve) {\n            gatherTween.easing(TWEEN.Easing.Cubic.InOut).onUpdate(function() {\n\n                // 聚集\n                let p = this.p > 0 ? this.p : 0;\n                that.particleSystem.geometry.verticesNeedUpdate = true;\n                that.particleSystem.geometry.vertices.forEach(function(v3) {\n                    v3.setLength(v3.initV.length() * p);\n                });\n            }).onComplete(resolve).start();\n        });\n    }\n\n    explode(dur = TIME_4000) {\n        let that = this;\n        let explodeTween = new TWEEN.Tween({r: 0, size: 3}).to({r: 1000, size: 20}, dur);\n\n        this.addTween(explodeTween); \n        return new Promise(function(resolve) {\n            explodeTween.easing(TWEEN.Easing.Cubic.Out).onUpdate(function() {\n                // explode\n                let r = this.r;\n                let planeR;\n                that.particleSystem.material.size = this.size;\n                that.particleSystem.material.needsUpdate = true;\n\n                that.particleSystem.geometry.verticesNeedUpdate = true;\n                that.particleSystem.geometry.vertices.forEach(function(v3) {\n                    planeR = r * v3.rPercent * Math.cos(v3.exAngleY);\n                    v3.y = r * v3.rPercent * Math.sin(v3.exAngleY);\n                    v3.x = planeR * Math.cos(v3.exAngle);\n                    v3.z = planeR * Math.sin(v3.exAngle);\n                });\n            }).onComplete(resolve).start();\n        });\n    }\n}\n\nexport default ExplodeParticles;\n\n\n/** WEBPACK FOOTER **\n ** ./js/stages/explode-particles.js\n **/","import View from './view.js';\nimport MobileStage from '../stages/display-mobile.js';\n// import DisplayContainerStage from '../stages/display-container.js';\n\nclass Display extends View {\n\tconstructor() {\n\t\tsuper();\n\t\tthis._lockTick;\n\t\t// this._containerStage; \n\t\tthis._progressView;\n\n\t\tthis.name = 'display';\n\t\tthis.isInit = false;\n\t\tthis.active = false;\n\n\t\t// stages\n\t\tthis._mobileStages = {}; // {pro6: xx, mx6: xx} for cache\n\t\tthis._currentMobileStages = []; \n\t\tthis.stages = [];\n\n\t\t// UI\n\t\tthis._$domWrap = $('#displayView');\n\t\tthis._$domManager = $('.display-manager');\n\n\t\tthis._$windowWrap = $('#displayWindowWrap');\n\n\t\tthis._windowDoms = [];\n\t\tthis._currentWindowDoms = [];\n\n\t\tthis._progressView = M3.viewManager.getView('progress');\n\t\t// this._containerStage = new DisplayContainerStage();\n\t\t// this.stages.push(this._containerStage);\n\t}\n\n\t// data : {mobile: [pro5, mx6 ...]}\n\tactivate(data) { //console.log(data);\n\t\tvar that = this;\n\t\t// check self init\n\t\tif (!this.isInit) {\n\t\t\tthis.init();\n\t\t\t// this._containerStage.init();\n\t\t}\n\n\t\tif (data) {\n\t\t\tvar mobiles = $.extend(true, [], data.mobiles);\n\t\t\tthis._currentMobileStages = [];\n\t\t\tmobiles.forEach(function(mobile, i) {\n\t\t\t\tif (!this._mobileStages[mobile.name]) {\n\t\t\t\t\tvar mobileStage = new MobileStage(mobile.name, mobile.position);\n\t\t\t\t\tthis._mobileStages[mobile.name] = mobileStage;\n\t\t\t\t\tthis._currentMobileStages.push(mobileStage);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\n\t\t\t// this._isload 如果检查到需要加载，会启动加载，并在加载完成之后调用回调\n\t\t\tif (!this._isLoad.bind(this)(this.activate.bind(this))) return;\t\n\t\t}\n\n\t\t// all loaded \n\t\tM3.time.stop();\n\n\t\t//this._containerStage.entry();// containerStage\n\n\t\t// 窗口大小\n\t\tlet sizePos = calculateSubWindowSize(this._currentMobileStages.length);\n\t\tlet x = 0;\n\t\tlet entryCount = 0;\n\n\t\tthis._currentMobileStages.forEach(function(mobileStage, i, all) {\n\t\t\tlet meshPos = new THREE.Vector3(x + (i - (all.length/2)) * 100, 0, 0);\n\n\t\t\tmobileStage.entry(sizePos[i]).then(function() {\n\t\t\t\tentryCount++;\n\t\t\t\tif (entryCount === all.length) {\n\t\t\t\t\t// todo entry animate done\n\t\t\t\t}\n\t\t\t});\n\t\t\tthat.stages.push(mobileStage);\n\t\t});\n\t\tthis._createWindowUI();this._resizeWindows();\n\n\t\t// UI\n\t\tthis._$domWrap.removeClass('none');\n\n\t\tthis.active = true;\n\t}\n\n\tinActivate() {\n\t\tObject.keys(this.scene).forEach(function(o) { M3.scene.remove(that.scene[o]);});\n\t\tthis.removeTick(sphereTick);\n\n\t\tthis._$domWrap.addClass('none');\n\t\tthis.activeWindows.forEach(function(activeWindow) {\n\t\t\tsetTimeout(function() {activeWindow.inActivate();}, 0);\n\t\t});\n\t\tthis.activeWindows.length = 0;\n\n\t\t// this._containerStage.leave();\n\t\tthis.stages = [];\n\t\tthis.active = false;\n\t}\n\n\tresize() {\n\t\tthis._resizeWindows();\n\t}\n\n\tinit() {\n\t\tvar that = this;\n\t\tvar $lockBtn = this._$domManager.find('.lock-btn');\n\t\tvar $unlockBtn = this._$domManager.find('.unlock-btn');\n\t\tvar $backBtn = this._$domManager.find('.back-btn');\n\n\t\tthat.isInit = true;\n\n\t\tthis._$domManager.on('click', '.setting-btn', function() {\n\t\t\tthat._$domManager.addClass('show');\n\t\t});\n\n\t\tthis._$domManager.on('click', '.lock-btn', function() {\n\t\t\t$lockBtn.addClass('none')\n\t\t\t$unlockBtn.removeClass('none');\n\t\t\tthat._$domManager.removeClass('show');\n\t\t\tthat._lock();\n\t\t});\n\n\t\tthis._$domManager.on('click', '.unlock-btn', function() {\n\t\t\t$unlockBtn.addClass('none')\n\t\t\t$lockBtn.removeClass('none');\n\t\t\tthat._$domManager.removeClass('show');\n\t\t\tthat._unlock();\n\t\t});\n\n\t\tthis._$domManager.on('click', '.back-btn', function() {\n\t\t\tthat.inActivate();\n\t\t\tthat.activateView('product-preview');\n\t\t\tthat._$domManager.removeClass('show');\n\t\t});\n\n\t\t// windows\n\t\tthis._$domWrap.on('click', '.reset-btn', function() {\n\t\t\tvar index = $(this).parents('.display-window').index();\n\t\t\tthat.resetWindow(index);\n\t\t});\n\n\t\tthis._$domWrap.on('click', '.close-btn', function() { \n\t\t\tvar index = $(this).parents('.display-window').index();\n\t\t\tthat._closeWindow(index);\n\t\t});\n\n\t\tthis._$domWrap.on('click', '.color', function() {\n\t\t\tvar index = $(this).parents('.display-window').index();\n\t\t\tvar color = $(this).data('color');\n\t\t\tthat._currentMobileStages[index].changeColor(color);\n\t\t\t$(this).addClass('selected').silbings().removeClass('selected');\n\t\t});\n\t}\n\n\t_isLoad(callback) {\n\t\tvar that = this;\n\t\tvar unloadedCount = 0;\n\t\tvar loaded = true;\n\t\tvar loadingInfos = {};\n\n\t\tfunction loading() {\n\t\t\tvar totalSize = 0;\n\t\t\tvar loadedSize = 0;\n\t\t\tvar progress;\n\t\t\tvar loadingInfo;\n\n\t\t\tfor (let name in loadingInfos) {\n\t\t\t\tloadingInfo = loadingInfos[name];\n\t\t\t\ttotalSize += loadingInfo.size;\n\t\t\t\tloadedSize += loadingInfo.progress * loadingInfo.size;\n\t\t\t}\n\n\t\t\tprogress = loadedSize/totalSize;\n\t\t\tthat._showProgress(progress);\n\t\t\tif (unloadedCount === 0) {\n\t\t\t\t// loaded \n\t\t\t\tcallback(); that._progressView.inactivate();\n\t\t\t}\n\t\t}\n\n\t\tfor (let name in this._mobileStages) {\n\t\t\t// loading\n\t\t\tif (!this._mobileStages[name].isInit) {\n\t\t\t\tloaded = false;\n\t\t\t\tunloadedCount++;\n\t\t\t\tloadingInfos[name] = {\n\t\t\t\t\tsize: this._mobileStages[name].size,\n\t\t\t\t\tprogress: 0\n\t\t\t\t};\n\t\t\t\t(function(_name) { \n\t\t\t\t\tthat._mobileStages[_name].init(function(progress) {\n\t\t\t\t\t\tloadingInfos[_name].progress = progress;\n\t\t\t\t\t\tloading();\n\t\t\t\t\t}).then(function() {\n\t\t\t\t\t\tunloadedCount--;\n\t\t\t\t\t\tloadingInfos[_name].progress = 1;\n\t\t\t\t\t\tloading();\n\t\t\t\t\t}).catch(function(e) { console.error(e.stack); });\n\t\t\t\t})(name);\n\t\t\t}\n\t\t}\n\t\tif (!loaded) { this._progressView.activate(); }\n\n\t\treturn loaded;\n\t}\n\n\t_showProgress(progress) {\n\t\t//console.log('display.js loading: ' + progress);\n\t\tthis._progressView.setProgress(progress);\n\t} \n\n\t_createWindowUI() {\n\t\tvar windowTemplate = \n\t\t\t'<div class=\"display-window\">' + \n\t\t\t\t'<div class=\"window-control\">' + \n\t\t\t\t\t'<i class=\"btn reset-btn icon ion-ios-reload\"></i>' + \n\t\t\t\t\t'<i class=\"btn close-btn icon ion-ios-close-empty\"></i>' + \t\t\t\n\t\t\t\t'</div>' + \n\t\t\t\t'<div class=\"colors-control\"></div>' + \n\t\t\t'</div>';\n\t\tvar colorTemplate = '<i class=\"color @color\" data-color=\"@color\"></i>';\n\t\tvar colorHTML = '';\n\n\t\tthis._$windowWrap.html('');\n\t\tthis._currentWindowDoms = [];\n\t\tthis._currentMobileStages.forEach(function(mobileStage, i) {\n\t\t\tif (!this._windowDoms[i]) {\n\t\t\t\tthis._windowDoms[i] = $(windowTemplate);\n\t\t\t}\n\t\t\tthis._currentWindowDoms[i] = this._windowDoms[i];\n\t\t\tthis._$windowWrap.append(this._currentWindowDoms[i]);\n\n\t\t\tcolorHTML = '';\n\t\t\tmobileStage.getColors().forEach(function(color) {\n\t\t\t\tcolorHTML += colorTemplate.replace(/\\@color/g, color);\n\t\t\t});\n\t\t\tthis._currentWindowDoms[i].find('.colors-control').empty().html(colorHTML);\n\t\t}.bind(this));\n\t}\n\n\t// 模型恢复初始状态\n\tresetWindow(index) {\n\t\tif (this._lockTick) {\n\t\t\tthis._currentMobileStages[0].reset();\n\t\t} else {\n\t\t\tthis._currentMobileStages[index].reset();\n\t\t}\n\t}\n\n\t_closeWindow(index) { \n\t\tthis._currentMobileStages[index].remove();\n\t\tthis._currentMobileStages.splice(index, 1);\n\n\t\t// ui remove\n\t\tthis._currentWindowDoms[index].remove();\n\t\tthis._currentWindowDoms.splice(index, 1);\n\t\tthis._resizeWindows();\n\t}\n\n\t_resizeWindows() {\n\t\tvar sizePos = calculateSubWindowSize(this._currentMobileStages.length);\n\n\t\t// stage resize\n\t\tthis._currentMobileStages.forEach(function(mobileStage, i) {\n\t\t\tmobileStage.resizeWindow(sizePos[i]);\n\t\t});\n\n\t\t// ui resize\n\t\tsizePos = $.extend(true, [], sizePos);\n\t\tsizePos.forEach(function(item) {\n\t\t\tfor (let pos in item) {\n\t\t\t\titem[pos] *= 100; item[pos] += '%'; \n\t\t\t}\n\t\t});\n\n\t\tthis._currentWindowDoms.forEach(function($windowDom, i) { \n\t\t\t$windowDom.css(sizePos[i]); \n\t\t});\n\t}\n\n\t_lock() {\n\t\tthis._currentMobileStages.forEach(function(mobileStage, i) {\n\t\t\tmobileStage.lock(i === 0);\n\t\t});\n\n\t\tthis._lockTick = this.addTick(function() {\n\t\t\tvar sizeInfo = this._currentMobileStages[0].getSize();\n\t\t\tthis._currentMobileStages.forEach(function(mobileStage, i) {\n\t\t\t\tif (i > 0) mobileStage.setSize(sizeInfo);\n\t\t\t});\n\t\t}.bind(this));\n\t}\n\n\t_unlock() {\n\t\tthis._currentMobileStages.forEach(function(mobileStage, i) {\n\t\t\tmobileStage.unlock();\n\t\t});\n\t\tthis.removeTick(this._lockTick); this._lockTick = null;\n\t}\n\n\n}\n\nexport default Display;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/view/display.js\n **/","import Stage from './stage.js';\nimport Mobile from './mobile.js';\nimport TrackballControls from 'm3-trackballcontrol.js';\n\nclass DisplayMobile extends Stage {\n\n\tconstructor(mobileName, position) {\n\t\tsuper();\n\t\tthis._windowSize; // for px calculate\n\t\tthis._winSizePX; // for render \n\n\t\t// 3D 资源\n\t\tthis._camera;\n\t\tthis._mobile;\n\n\t\tthis.name; // pro5?\n\t\tthis.size;\n\t\tthis.isInit = false;\n\n\t\tthis.trackball;\n\t\tthis.objects = {};\n\t\tthis.target = position.clone();\n\n\t\t// 模型位置，旋转等信息\n\t\tthis.objectSizes = {\n\t\t\tmodel : {position: null, rotation: null},\n\t\t\tcamera : {position: null, lookAt: null}\n\t\t};\n\n\t\t// 状态\n\t\tthis.state;\n\n\t\tthis.color;\n\n\t\tthis.locked = false;\n\t\tthis.active = false;\n\n\t\tthis.name = mobileName;\n\t\tthis._mobile = new Mobile(this.name);\n\t\tthis.size = this._mobile.size;\n\t}\n\n\tload(onProgress) {\n\t\treturn this._mobile.load(onProgress);\n\t}\n\n\tinit(onProgress) {\n\t\tvar that = this;\n\t\treturn this.load(onProgress).then(function() {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t// init\n\t\t\t\tthat.objects.mesh = that._mobile.mesh;\n\t\t\t\tthat._setupScene();\n\t\t\t\tthat.isInit = true;\n\t\t\t\tresolve();\n\t\t\t});\n\t\t}).catch(function(e) { console.log(e.stack); });;\n\t}\n\n\tentry(windowSize) {\n\t\tthis._windowSize = windowSize;\n\n        this.objects.mesh.position.copy(this.target);\n\t\t\n        this.objects.mesh.rotation.copy(new THREE.Euler(-Math.PI/6, -0.4, -0.2, 'XYZ' ));\n        this._camera.up.copy(M3.camera.up);\n        this._camera.position.copy(M3.camera.position);\n\t\tthis._camera.position.z += 40;\n\t\tthis._camera.lookAt(THREE.THREEUtil.getLookAt(M3.camera));\n\n\t\t// light\n        this.objects.spotLight.position.copy(this.target);\n        this.objects.spotLight.position.y += 200;\n        this.objects.spotLight.position.x += 200;\n        this.objects.spotLight.position.z += 100;\n        this.objects.spotLight.lookAt(this.target); \n\n\t\t// light2\n        this.objects.spotLight2.position.copy(this.target);\n        this.objects.spotLight2.position.y -= 200;\n        this.objects.spotLight2.position.x -= 300;\n        this.objects.spotLight2.position.z -= 100;\n        this.objects.spotLight2.lookAt(this.target); \n\n\n\n\t\t// initial size info\n\t\tthis.objectSizes = {mesh: {}, camera: {}};\n\t\tthis.objectSizes.mesh.position = this.objects.mesh.position.clone();\n\t\tthis.objectSizes.mesh.rotation = this.objects.mesh.rotation.clone();\n\n\t\tthis.objectSizes.camera.position = this.objects.mesh.position.clone();\n\t\tthis.objectSizes.camera.position.z += 50;\n\t\tthis.objectSizes.camera.lookAt = this.objects.mesh.position.clone();\n\n\t\t// 添加到场景\n\t\tObject.keys(this.objects).forEach(function(o) { M3.scene.add(this.objects[o]);}.bind(this));\n\t\t\n\t\tthis.resize();\n\n\t\tthis._changeColor();\n\t\tthis.addTick(this._render.bind(this));\n\n\t\treturn this._playEntryAnimation();\n\t}\n\n\t// 窗口关闭\n\tleave() {\n\n\t\t// 移除模型\n\t\tconsole.log(Object.keys(this.objects));\n\t\tObject.keys(this.objects).forEach(function(o) { M3.scene.remove(that.objects[o]);});\n\t\t// render();\n\t\tthis.$domElem.remove();\n\t\tthis.getView('display-manager').removeWindow(this);\n\t\tthis.removeTween();\n\t\tthis.removeTick();\n\t\tthis.active = false;\n\t}\n\n\t// 窗口重置\n\tresize() {\n\t\tvar winWidth = window.innerWidth;\n\t\tvar winHeight = window.innerHeight;\n\n\t\tthis._winSizePX = {};\n\t\tthis._winSizePX['left'] = parseInt(winWidth * this._windowSize['left']);\n\t\tthis._winSizePX['width'] = parseInt(winWidth * this._windowSize['width']);\n\t\tthis._winSizePX['top'] = parseInt(winHeight * this._windowSize['top']);\n\t\tthis._winSizePX['height'] = parseInt(winHeight * this._windowSize['height']);\n\n\t\tthis._winSizePX['bottom'] = winHeight - this._winSizePX['height'] - this._winSizePX['top'];\n\n\t\tthis._camera.aspect = this._winSizePX['width'] / this._winSizePX['height'];\n\t\tthis._camera.updateProjectionMatrix();\n\n\t\tthis.trackball.handleResize(this._winSizePX);\n\t}\n\n\tresizeWindow(windowSize) {\n\t\tvar that = this;\n\t\tvar initSize = this._windowSize;\n\t\tvar finalSize = windowSize;\n\n\t\tthis.setState('animate');\n\t\tvar resizeTween = new TWEEN.Tween(initSize).easing(TWEEN.Easing.Cubic.InOut).to(finalSize, 1000).onUpdate(function() {\n\t\t\tthat._windowSize = this;\n\t\t\tthat.resize();\n\t\t}).onComplete(function() {\n\t\t\tthat.removeTween(resizeTween);\n\t\t\tthat.setState('handle');\n\t\t}).start();\n\t}\n\n\tsetState(state) { \n\t\tthis.state = state;\n\t\tif (state === 'handle') { \n\t\t\tthis.trackball.init(this._camera, this.objects.mesh);\n\t\t\tthis.resize(); \n\t\t\t!this.locked && this.trackball && (this.trackball.enabled = true);\n\t\t} else {\n\t\t\t!this.locked && this.trackball && (this.trackball.enabled = false);\n\t\t}\n\t}\n\n\t// 获取模型旋转信息，相机相对信息，用于设置其他 displayWindow 使表现一致；\n\tgetSize() {\n\t\tvar size = {};\n\n\t\tsize.modelRotation = this.objects.mesh.rotation.clone();\n\t\tsize.cameraRotation = this._camera.rotation.clone();\n\t\tsize.cameraUp = this._camera.up.clone();\n\t\tsize.eye = (new THREE.Vector3).subVectors(this._camera.position, this.objects.mesh.position);\n\n\t\treturn size;\n\t}\n\n\tsetSize(size) {\n\t\tthis.objects.mesh.rotation.copy(size.modelRotation);\n\t\t// this._camera.rotation.copy(size.cameraRotation);\n\t\t// this._camera.up = size.cameraUp;\n\t\tthis._camera.position.addVectors(this.objects.mesh.position, size.eye);\n\t\tthis._camera.lookAt(this.objects.mesh);\n\t}\n\n\tlock(isMain) {\n\t\tthis.locked = true;\n\t\tif (isMain) {\n\t\t\tthis.trackball.enabled = true;\n\t\t\tthis.trackball.fullScreen = true;\n\t\t} else {\n\t\t\tthis.trackball.enabled = false;\n\t\t}\n\t\tthis.reset();\n\t}\n\n\tunlock() {\n\t\tthis.locked = false;\n\n\t\tthis.trackball.enabled = true;\n\t\tthis.trackball.fullScreen = false;\n\t\tthis.reset();\n\t}\n\n\tgetColors() {\n\t\tif (this._mobile) {\n\t\t\treturn this._mobile.getColors();\n\t\t}\n\t}\n\n\t/*\n\t * 从scene 中移除模型\n\t */\n\tremove() {\n\t\tsuper.remove();\n\t\tthis.removeTick();\n\t}\n\n\t// model，trackball 重置\n\treset() { \n\t\t//console.log(this.objectSizes.mesh.position);\n\t\tthis.setState('animate');\n\t\t\n\t\tvar initModelRotation = this.objectSizes.mesh.rotation;\n\t\tvar initCameraPosition = this.objectSizes.camera.position;\n\t\tvar initCameraLookAtPosition = this.objectSizes.camera.position;\n\n\t\tthis.objects.mesh.animate({\n        \trotation: initModelRotation\n        }, 1000);\n\t\t\n\t\tthis._camera.animate({\n        \tposition: initCameraPosition,\n        \tlookAt: initCameraLookAtPosition\n        }, 1000, 0, {\n        \tonComplete: function() {\n        \t\tthis.setState('handle');\n        \t}.bind(this)\n        });   \n\t}\n\n\t_setupScene() {\n\n\t\t// 3D 相关资源创建\n \t\tthis.objects.spotLight = new THREE.SpotLight(0xeeeeee);\n \t\tthis.objects.spotLight.intensity = 1.5;\n\n \t\tthis.objects.spotLight2 = new THREE.SpotLight(0xeeeeee);\n \t\tthis.objects.spotLight2.intensity = 1.0;\n\t\t \n\t\tthis._camera = new THREE.PerspectiveCamera(53, window.innerWidth / window.innerHeight, 0.1, 1000);\n\n\n        this.trackball = new TrackballControls(this._camera);\n        // this.trackball.enabled = false;\n\t}\n\n\t_changeColor(color) {\n\t\tthis._mobile.changeColor(color);\n\t}\n\n\t/* 动画 */\n\t_playEntryAnimation() {\n\t\tvar that = this;\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tthat.setState('animate');\n\n\t\t\tvar initModelRotation = that.objectSizes.mesh.rotation;\n\t\t\tvar initCameraPosition = that.objectSizes.camera.position;\n\n\t\t\tthat.objects.mesh.rotation.copy(initModelRotation);\n\t\t\tthat.objects.mesh.rotation.x -= Math.PI * 0.5;\n\t\t\tthat.objects.mesh.rotation.z += Math.PI * 1.2;\n\t\t\tthat.objects.mesh.animate({\n\t\t\t\trotation: initModelRotation\n\t\t\t}, 2000);\n\n\t\t\tthat._camera.animate({\n\t\t\t\tposition: initCameraPosition\n\t\t\t}, 2000, 0, {\n\t\t\t\tonComplete: function() {\n\t\t\t\t\tthat.setState('handle');\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t_render() {\n\n\t\tM3.renderer.setViewport(this._winSizePX['left'], this._winSizePX['bottom'], this._winSizePX['width'], this._winSizePX['height']);\n\t\tM3.renderer.setScissor(this._winSizePX['left'], this._winSizePX['bottom'], this._winSizePX['width'], this._winSizePX['height']);\n\t\tM3.renderer.setScissorTest(true);\n\t\tthis._camera.aspect = this._winSizePX['width'] / this._winSizePX['height'];\n\t\tthis._camera.updateProjectionMatrix();\n\t\tM3.renderer.render( M3.scene, this._camera );\t\n\t\tthis.trackball.update();\t\t\n\t}\n}\n\nexport default DisplayMobile;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/stages/display-mobile.js\n **/","// Dependencies CONFIG.mobiles\nimport Time from 'time.js';\nimport Loader from 'loader.js';\nimport MobileConfigs from 'mobile-conf.js';\n\nvar loader = new Loader();\nvar mobileEnvMap;\nvar JSONLoader = new THREE.JSONLoader();\n\n\n\nclass Mobile extends Time {\n\n\tconstructor(mobileName) { \n\t\tsuper();\n\n\t\tthis.mesh; // group\n\t\tthis.size; // 资源大小\n\n\t\tthis.config;\n\t\tthis._materials;\n\t\tthis._colors = [];\n\t\tthis._currentColor;\n\t\tthis._uuidMaterialNameMap = {};\n\t\tthis._texturePath = './assets/texture/';\n\n\t\tMobileConfigs.forEach(function(mobile) {\n\t\t\tif (mobile.name === mobileName) {\n\t\t\t\tthis.config = mobile;\n\t\t\t}\n\t\t}.bind(this));\n\t\tthis.size = loader.calculateSize(this.config);\n\t}\n\n\tgetColors() {\n\t\treturn this._colors;\n\t}\n\n\tchangeColor(color) {\n\t\tif (this._currentColor === color) return;\n\t\tif (this._colors.indexOf(color) < 0) {\n\t\t\tconsole.log('No this color');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.mesh.children.forEach(function(child) {\n\t\t\tvar materialName = this._uuidMaterialNameMap[uuid];\n\n\t\t\tthis._materials[color].forEach(function(material) {\n\t\t\t\tif (material.name.replace(/\\d*$/, '') === materialName.replace(/\\d*$/, '')) {\n\t\t\t\t\tchild.material = material;\n\t\t\t\t\tchild.material.needsUpdate = true;\n\t\t\t\t}\t\t\t\t\n\t\t\t});\n\t\t});\n\t}\n\n\tload(onProgress) {\n\t\tvar that = this;\n\t\tvar models;\n\t\tvar materials;\n\t\tvar group = new THREE.Group();\n\t\tvar loadPromise = loader.load(this.config, onProgress);\n\n\t\treturn loadPromise.then(function(modelRes) {\n\t\t\tmodels = JSON.parse(modelRes.mobile.models);\n\t\t\treturn new Promise(function(resolve) {\n\t\t\t\tthat._materials = models.materials;\n\t\t\t\tfor (var color in that._materials) {\n\t\t\t\t\tthat._colors.push(color);\n\t\t\t\t\tthat._currentColor = that._colors[0];\n\t\t\t\t\tthat._materials[color] = that._JSONLoaderParse(that._materials[color]).materials;\n\t\t\t\t}\n\t\t\t\tfor (let modelName in models.models) {\n\n\t\t\t\t\tvar mParse = that._JSONLoaderParse(models.models[modelName]);\n\t\t\t\t\tvar geometry = mParse.geometry;\n\t\t\t\t\tvar material = mParse.materials[0];\n\t\t\t\t\tvar model;\n\n\t\t\t\t\tif (material.name.match('glass')) {\n\t\t\t\t\t\tmaterial.envMap = M3.assets.envMap;\n\t\t\t\t\t}\n\t\t\t\t\t/*if (material.name.indexOf('metal') >= 0) {\n\t\t\t\t\t\tvar texture = new THREE.ImageUtils.loadTexture('./assets/pro5/metal.jpg');\n\t\t\t\t\t\ttexture.repeat.set(50,50);\n\t            \t\ttexture.wrapS = THREE.RepeatWrapping;\n\t            \t\ttexture.wrapT = THREE.RepeatWrapping;\n\n\t\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial({\n\t\t\t\t\t\t\tmap: texture,\n\t\t\t\t\t\t\tbumpMap: texture,\n\t\t\t\t\t\t\tbumpScale: 0.1\n\t\t\t\t\t\t\t// aoMapIntensity: 2\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}*/\n\n\t\t\t\t\tmaterial.side = THREE.DoubleSide;\n\t\t\t\t\tmaterial.transparent = (material.opacity === 1?false:true);\n\t\t\t\t\tmodel = new THREE.Mesh(geometry, material);\n\n\t\t\t\t\tthat._uuidMaterialNameMap[model.uuid] = mParse.materials[0].name;\n\t\t\t\t\tgroup.add(model);\n\t\t\t\t}\n\t\t\t\tthat.mesh = group;\n\t\t\t\tresolve();\n\t\t\t});\n\t\t}).catch(function(e) { console.error(e.stack); });\n\t}\n\n\t_JSONLoaderParse(json) {\n\n\t\tif(typeof json === 'string') {\n\t\t\tjson = JSON.parse(json);\n\t\t}\n\t\t// change path\n\t\tif (json.materials && typeof json.materials !== 'string') {\n\t\t\tjson.materials.forEach(function(material) {\n\t\t\t\tif (material.mapDiffuse) {\n\t\t\t\t\tmaterial.mapDiffuse = '';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn JSONLoader.parse(json, location.pathname.replace(/[^\\/]+$/, ''));\n\t}\n}\n\nexport default Mobile;\n\n\n/** WEBPACK FOOTER **\n ** ./js/stages/mobile.js\n **/","// 下载缓存\nlet loadedCache = {};\n\nclass Loader {\n\tconstructor() {}\n\n\tcalculateSize(loadParams) {\n\t\tlet totalSize = 0;\n\t\tlet loadTasks = this._getLoadTasks(loadParams);\n\n\t\tfor (let i = 0; i < loadTasks.length; i++) {\n\t\t\ttotalSize += loadTasks[i].size;\n\t\t}\n\t\treturn totalSize;\n\t}\n\n\t// Params 下载任务格式 {url: xx, size: xx}\n\tload(loadParams, onProgress) {\n\t\tlet that = this;\n\t\treturn new Promise(function(onLoad, reject) {\n\t\t\tlet loadedCount = 0;\n\t\t\tlet totalSize = 0; // 总大小\n\t\t\tlet loadedSize = 0; // 已经下载大小\n\t\t\tlet loadTasks = [];\n\t\t\tlet loadTask;\n\n\t\t\tloadTasks = that._getLoadTasks(loadParams); \n\n\t\t\tfunction getLoadedSize() {\n\t\t\t\tlet loadedSize = 0;\n\t\t\t\tloadTasks.forEach(function(_loadTask) { \n\t\t\t\t\tloadedSize += _loadTask.loaded\n\t\t\t\t});\n\t\t\t\treturn loadedSize;\n\t\t\t}\n\t\t\tfor (let i = 0; i < loadTasks.length; i++) {\n\t\t\t\tloadTask = loadTasks[i];\n\t\t\t\tloadTask.loaded = 0;\n\t\t\t\ttotalSize += loadTask.size;\n\n\t\t\t\tif (loadedCache[loadTask.url]) {\n\t\t\t\t\tloadedCount++;\n\t\t\t\t\tloadTask.loaded = loadTask.size;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t(function(loadTask) {\n\t\t\t\t\tloadMethod[loadTask.type](loadTask.url, function(res) {\n\t\t\t\t\t\tloadedCount++;\n\t\t\t\t\t\tloadedCache[loadTask.url] = res;\n\t\t\t\t\t\tloadTask.loaded = loadTask.size;\n\n\t\t\t\t\t\t// console.log(loadTasks[0].loaded, loadTasks[1].loaded);\n\t\t\t\t\t\t// 成功回调\n\t\t\t\t\t\tif (getLoadedSize() / totalSize === 1 && loadedCount === loadTasks.length) {\n\t\t\t\t\t\t\t// console.log(that._getResults(loadParams));\n\t\t\t\t\t\t\tonLoad(that._getResults(loadParams));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, function(progress) {\n\t\t\t\t\t\tloadTask.loaded = loadTask.size * progress;\n\t\t\t\t\t\tonProgress(getLoadedSize() / totalSize);\n\t\t\t\t\t});\n\t\t\t\t})(loadTask);\n\t\t\t}\t\t\t\n\t\t});\n\n\t}\n\n\t// 获取下载类型\n\t_getLoaderType(ext) {\n\t\tlet typeExtMap = {\n\t\t\t'img': /(jpg|jpeg|gif|png)/,\n\t\t\t'json': /json/,\n\t\t\t'js': /js/\n\t\t};\n\n\t\tfor (let type in typeExtMap) {\n\t\t\tif (typeExtMap[type].test(ext)) {\n\t\t\t\treturn type;\n\t\t\t}\n\t\t}\n\t}\n\n\t// 收集下载参数里的 url\n\t_getLoadTasks(_params) { \n\t\tlet urlRegx = /.+\\.(\\w{1,6})$/;\n\t\tlet sizeDefault = {\n\t\t\t'img': 100,\n\t\t\t'json': 100\t\n\t\t};\n\t\tlet that = this;\n\n\t\tfunction _getLoadTasks(params) {\n\t\t\tlet urls = [];\n\t\t\tlet type;\n\n\t\t\tif (Object.prototype.toString.call(params) === '[object Array]') {\n\t\t\t\tparams.forEach(function(param) {\n\t\t\t\t\turls = urls.concat(_getLoadTasks(param));\n\t\t\t\t});\n\t\t\t} else if (typeof params === 'object' && !params.url){\n\t\t\t\tfor (let key in params) {\n\t\t\t\t\turls = urls.concat(_getLoadTasks(params[key]));\n\t\t\t\t}\n\t\t\t} else if (typeof params === 'object' && params.url) {\n\t\t\t\t// 符合资源格式 {url: xx, size: xx}\n\t\t\t\ttype = params.url.match(urlRegx)[1];\n\n\t\t\t\turls.push({\n\t\t\t\t\t'url': params.url,\n\t\t\t\t\t'size': (params.size || sizeDefault[type] || 1),\n\t\t\t\t\t'type': params.type || that._getLoaderType(type)\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn urls;\n\t\t}\n\t\treturn _getLoadTasks(_params);\n\t}\n\n\t// 遍历下载参数里的 url， 替换成下载结果缓存\n\t_getResults(_params) {\n\t\tlet params = $.extend(true, {}, _params);\n\n\t\tfunction _getResults(params) {\n\t\t\tif (Object.prototype.toString.call(params) === '[object Array]') {\n\t\t\t\treturn (params.map(function(param) {\n\t\t\t\t\treturn _getResults(param);\n\t\t\t\t}));\n\t\t\t} else if (typeof params === 'object' && !params.url) {\n\t\t\t\tfor (let key in params) {\n\t\t\t\t\tparams[key] =  _getResults(params[key]);\n\t\t\t\t}\n\t\t\t\treturn params;\n\t\t\t} else if (typeof params === 'object' && params.url) {\n\t\t\t\treturn loadedCache[params.url];\n\t\t\t} else {\n\t\t\t\treturn params;\n\t\t\t}\n\t\t}\n\t\treturn _getResults(params);\n\t}\n}\n\n\n/*\n * 下载 URL等配置在loadconfig.params 中\n * loadMethod 根据不同type 应用相应策略下载资源缓存在 loaded cache 中\n * img直接缓存 url \n */\nlet loadMethod = {\n\n\t// 下载图片 \n\t// return {src: string, img: dom, texture: THREE.Texture}\n\t'img': function(url, onload, onProgress) {\n\t\tlet imgLoader = new THREE.ImageLoader();\n\t\timgLoader.load(url, function(img) {\n\t\t\tlet particleMap = new THREE.TextureLoader().load(url, function(texture) {\n\t\t\t\tlet imgInfo = {};\n\t\t\t\timgInfo.img = img;\n\t\t\t\timgInfo.src = url;\n\t\t\t\timgInfo.texture = texture;\n\t\t\t\tonload(imgInfo);\n\t\t\t});\n\t\t\t/*img.dataset.src = url;\n\t\t\tonload(img);*/\n\t\t}, function(xhr) {\n\t\t\treturn onProgress(xhr.loaded / xhr.total);\n\t\t});\n\t},\n\n\t// 下载 模型\n\t'json': function(url, onload, onProgress) {\n\t\tlet xhrLoader = new THREE.XHRLoader();\n\t\txhrLoader.load(url, onload, function(xhr) {\n\t\t\treturn onProgress(xhr.loaded / xhr.total);\n\t\t});\n\t},\n\n\t// model \n\t'model': function(url, onload, onProgress) {\n\t\tlet xhrLoader = new THREE.XHRLoader();\n\t\txhrLoader.load(url, function(str) {\n\t\t\tonload(str.replace(/module\\.exports\\s*=\\s*/, ''));\n\t\t}, function(xhr) {\n\t\t\treturn onProgress(xhr.loaded / xhr.total);\n\t\t});\n\t},\n\n\t// 下载 script \n\t'js': function(url, onload, onProgress) {\n\n\t\tlet req = new XMLHttpRequest();\n\n\t\t// report progress events\n\t\treq.addEventListener(\"progress\", function(xhr) {\n\t\t    if (xhr.lengthComputable) {\n\t\t        onProgress(xhr.loaded / xhr.total);\n\t\t    }\n\t\t}, false);\n\n\t\t// load responseText into a new script element\n\t\treq.addEventListener(\"load\", function(event) {\n\t\t    let e = event.target;\n\t\t    let s = document.createElement(\"script\");\n\t\t    s.innerHTML = e.responseText;\n\t\t    // or: s[s.innerText!=undefined?\"innerText\":\"textContent\"] = e.responseText\n\t\t    document.documentElement.appendChild(s);\n\t\t\tonload();\n\t\t    /*s.addEventListener(\"load\", function() {\n\t\t    \tconsole.log(1);\n\t\t        \n\t\t    });*/\n\t\t}, false);\n\n\t\treq.open(\"GET\", url);\n\t\treq.send();\n\t}\n}\n\nexport default Loader;\n\n\n/** WEBPACK FOOTER **\n ** ./js/common/loader.js\n **/","// 模型是 webpack Chunk，需要知道webpack 处理之后的路径\nvar buildPath = './build/'; \n\nvar products = ['pro6', 'pro5', 'mx5', 'mx6', 'meilan3s', 'meilan3', 'meilannote3'];\n\nvar mobile = {\n\t'models': {url: buildPath + require('assets/mobiles/pro5/pro5.js'), size: 300, 'type': 'model'},\n\t\n\t// 贴图，file-loader 获取路径\n\t'map': {\n\t\t'default': {url: require('assets/mobiles/pro5/pro5uv.png'), size: 3000}\n\t}\n};\n\nvar mobiles = [];\n\nproducts.forEach(function(productName) {\n\tmobiles.push(\n\t\t{\"name\": productName, mobile: mobile}\n\t);\n});\n\nexport default mobiles;\n\n\n/** WEBPACK FOOTER **\n ** ./js/config/mobile-conf.js\n **/","module.exports = __webpack_public_path__ + \"assets/mobiles/pro5/pro5.js\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/mobiles/pro5/pro5.js\n ** module id = 20\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"assets/mobiles/pro5/pro5uv.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/mobiles/pro5/pro5uv.png\n ** module id = 21\n ** module chunks = 0\n **/","/**\n * @author Eberhard Graether / http://egraether.com/\n * @author Mark Lundin \t/ http://mark-lundin.com\n */\n\nvar TrackballControls = function () {\n\n\tvar _this = this;\n\tvar STATE = { NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\n\n\tthis.domElement = document;\n\n\t// API\n\n\tthis.enabled = true;\n\n\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\n\tthis.fullScreen = false;\n\n\tthis.rotateSpeed = 1.0;\n\tthis.zoomSpeed = 1.2;\n\tthis.panSpeed = 0.3;\n\n\tthis.noRotate = false;\n\tthis.noZoom = false;\n\tthis.noPan = true;\n\tthis.noRoll = false;\n\n\tthis.staticMoving = false;\n\tthis.dynamicDampingFactor = 0.2;\n\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\n\n\t// internals\n\tthis.targetMesh;\n\tthis.target = new THREE.Vector3();\n\tthis.target0 = this.target.clone();\n\tthis.position0; //this.camera.position.clone();\n\tthis.up0; //= this.camera.up.clone();\n\n\tvar EPS = 0.000001;\n\n\tvar lastPosition = new THREE.Vector3();\n\n\tvar _state = STATE.NONE,\n\t_prevState = STATE.NONE,\n\n\t_eye = new THREE.Vector3(),\n\n\t_rotation,\n\n\t_zoomStart = new THREE.Vector2(),\n\t_zoomEnd = new THREE.Vector2(),\n\n\t_touchZoomDistanceStart = 0,\n\t_touchZoomDistanceEnd = 0,\n\n\t_panStart = new THREE.Vector2(),\n\t_panEnd = new THREE.Vector2();\n\n\n\n\t// events\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start'};\n\tvar endEvent = { type: 'end'};\n\n\n\t// methods\n\t\n\tinitEvent();\n\n\tthis.init = function(camera, targetMesh) {\n\n\t\tthis.camera = camera;\n\t\tthis.cameraUp = camera.up.clone();\n\t\tthis.targetMesh = targetMesh;\n\n\t\t_rotation = new THREE.Quaternion();\n\t\t_rotation.setFromEuler(targetMesh.rotation.clone());\n\t\t// for reset \n\t\tthis.target = this.targetMesh.position.clone();\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.camera.position.clone();\n\t\tthis.up0 = this.camera.up.clone();\n\t}\n\n\tthis.changeTargetMesh = function(targetMesh) {\n\t\tthis.targetMesh = targetMesh;\n\t\tthis.target = this.targetMesh.position.clone();\n\t}\n\n\tthis.handleResize = function (winSize) {\n\t\tvar maxDisBase = 80;\n\t\tvar minDisBase = 10;\n\n\t\tthis.screen.left = winSize.left;\n\t\tthis.screen.top = winSize.top;\n\t\tthis.screen.width = winSize.width;\n\t\tthis.screen.height = winSize.height;\n\n\t\tthis.maxDistance = maxDisBase;\n\t\tthis.minDistance = minDisBase;\n\t};\n\n\tthis.handleEvent = function ( event ) {\n\n\t\tif ( typeof this[ event.type ] == 'function' ) {\n\n\t\t\tthis[ event.type ]( event );\n\n\t\t}\n\n\t};\n\n\tvar getMouseOnScreen = ( function () {\n\n\t\tvar vector = new THREE.Vector2();\n\n\t\treturn function ( pageX, pageY ) {\n\n\t\t\tvector.set(\n\t\t\t\t( pageX - _this.screen.left ) / _this.screen.width,\n\t\t\t\t( pageY - _this.screen.top ) / _this.screen.height\n\t\t\t);\n\n\t\t\treturn vector;\n\t\t};\n\n\t}() );\n\n\tvar getMouseProjectionOnBall = function(offsetX, offsetY) {\n\n\t\tvar radio = 0.5;\n        var deltaRotationQuaternion = new THREE.Quaternion()\n            .setFromEuler(new THREE.Euler(\n                offsetY * (Math.PI / 180) * radio,\n                offsetX * (Math.PI / 180) * radio,\n                0,\n                'XYZ'\n            ));\n        \n        _this.targetMesh.quaternion.multiplyQuaternions(deltaRotationQuaternion, _this.targetMesh.quaternion);\n\t};\n\n\n\tthis.rotateTarget = function() { \n\t\t\n\t\t//this.targetMesh.rotation.setFromQuaternion(_rotation, 'XYZ'); \n\t}\n\n\tthis.zoomCamera = function () {\n\n\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\n\n\t\t\tvar factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\n\t\t\t_eye.multiplyScalar( factor );\n\n\t\t} else {\n\n\t\t\tvar factor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * _this.zoomSpeed;\n\n\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\n\n\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\tif ( _this.staticMoving ) {\n\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.panCamera = (function(){\n\n\t\tvar mouseChange = new THREE.Vector2(),\n\t\t\tcameraUp = new THREE.Vector3(),\n\t\t\tpan = new THREE.Vector3();\n\n\t\treturn function () {\n\n\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\n\n\t\t\tif ( mouseChange.lengthSq() ) {\n\n\t\t\t\tmouseChange.multiplyScalar( _eye.length() * _this.panSpeed );\n\n\t\t\t\tpan.copy( _eye ).cross( _this.camera.up ).setLength( mouseChange.x );\n\t\t\t\tpan.add( cameraUp.copy( _this.camera.up ).setLength( mouseChange.y ) );\n\n\t\t\t\t_this.camera.position.add( pan );\n\t\t\t\t_this.target.add( pan );\n\n\t\t\t\tif ( _this.staticMoving ) {\n\n\t\t\t\t\t_panStart.copy( _panEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( _this.dynamicDampingFactor ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t}());\n\n\tthis.checkDistances = function () {\n\n\t\tif ( !_this.noZoom || !_this.noPan ) {\n\n\t\t\tif ( _eye.lengthSq() > _this.maxDistance * _this.maxDistance ) {\n\n\t\t\t\t_this.camera.position.addVectors( _this.target, _eye.setLength( _this.maxDistance ) );\n\n\t\t\t}\n\n\t\t\tif ( _eye.lengthSq() < _this.minDistance * _this.minDistance ) {\n\n\t\t\t\t_this.camera.position.addVectors( _this.target, _eye.setLength( _this.minDistance ) );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.update = function () { \n\t\tif (!this.enabled) return;  \n\n\t\t_eye.subVectors( _this.camera.position, _this.target );\n\n\t\tif ( !_this.noRotate ) {\n\n\t\t\t_this.rotateTarget();\n\n\t\t}\n\n\t\tif ( !_this.noZoom ) {\n\n\t\t\t_this.zoomCamera();\n\n\t\t}\n\n\t\tif ( !_this.noPan ) {\n\n\t\t\t_this.panCamera();\n\n\t\t}\n\n\t\t_this.camera.position.addVectors( _this.target, _eye );\n\n\t\t_this.checkDistances();\n\n\t\t_this.camera.lookAt( _this.target );\n\n\t\tif ( lastPosition.distanceToSquared( _this.camera.position ) > EPS ) {\n\n\t\t\t//_this.dispatchEvent( changeEvent );\n\n\t\t\tlastPosition.copy( _this.camera.position );\n\n\t\t}\n\n\t};\n\n\tthis.resize = function () {\n\n\t\t_state = STATE.NONE;\n\t\t_prevState = STATE.NONE;\n\n\t\t_this.target.copy( _this.target0 );\n\t\t_this.camera.position.copy( _this.position0 );\n\t\t_this.camera.up.copy( _this.up0 );\n\n\t\t_eye.subVectors( _this.camera.position, _this.target );\n\n\t\t_this.camera.lookAt( _this.target );\n\n\t\t_this.dispatchEvent( changeEvent );\n\n\t\tlastPosition.copy( _this.camera.position );\n\n\t};\n\n\n\t// event handle\n\n\tvar mousePreX = 0;\n\tvar mousePreY = 0;\n\n\tfunction isInScreen(x, y) {\n\t\tif ((x > _this.screen.left && x < _this.screen.left + _this.screen.width &&\n\t\t\ty > _this.screen.top && y < _this.screen.top + _this.screen.height) || _this.fullScreen) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction mousedown( event ) {  \n\n\t\tif ( _this.enabled === false || !isInScreen(event.pageX, event.pageY)) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( _state === STATE.NONE ) {\n\t\t\t_state = event.button;\n\t\t}\n\n\t\tif ( _state === STATE.ROTATE && !_this.noRotate ) {\n\t\t\tmousePreX = event.pageX;\n\t\t\tmousePreY = event.pageY;\n\n\t\t} else if ( _state === STATE.ZOOM && !_this.noZoom ) {\n\n\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t_zoomEnd.copy(_zoomStart);\n\n\t\t} else if ( _state === STATE.PAN && !_this.noPan ) {\n\n\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t_panEnd.copy(_panStart)\n\n\t\t}\n\n\t\tdocument.addEventListener( 'mousemove', mousemove, false );\n\t\tdocument.addEventListener( 'mouseup', mouseup, false );\n\n\t\t//_this.dispatchEvent( startEvent );\n\n\t}\n\n\n\t// event handle\n\tfunction mousemove( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( _state === STATE.ROTATE && !_this.noRotate ) {\n\n\t\t\tgetMouseProjectionOnBall( event.pageX - mousePreX, event.pageY - mousePreY) ;\n\n\t\t} else if ( _state === STATE.ZOOM && !_this.noZoom ) {\n\n\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t} else if ( _state === STATE.PAN && !_this.noPan ) {\n\n\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t}\n\t\tmousePreX = event.pageX;\n\t\tmousePreY = event.pageY;\n\n\t}\n\n\tfunction mouseup( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\t_state = STATE.NONE;\n\n\t\tdocument.removeEventListener( 'mousemove', mousemove );\n\t\tdocument.removeEventListener( 'mouseup', mouseup );\n\t\t//_this.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction mousewheel( event ) {\n\n\t\tif ( _this.enabled === false || !isInScreen(event.pageX, event.pageY)) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif ( event.wheelDelta ) { // WebKit / Opera / Explorer 9\n\n\t\t\tdelta = event.wheelDelta / 40;\n\n\t\t} else if ( event.detail ) { // Firefox\n\n\t\t\tdelta = - event.detail / 3;\n\n\t\t}\n\n\t\t_zoomStart.y += delta * 0.01;\n\t\t//_this.dispatchEvent( startEvent );\n\t\t//_this.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction touchstart( event ) {\n\n\t\tif ( _this.enabled === false || !isInScreen(event.pageX, event.pageY)) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\t\t\t\tmousePreX = event.touches[ 0 ].pageX;\n\t\t\t\tmousePreY = event.touches[ 0 ].pageY;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\n\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t_panEnd.copy( _panStart );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t_state = STATE.NONE;\n\n\t\t}\n\t\t//_this.dispatchEvent( startEvent );\n\t}\n\n\tfunction touchmove( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\t\t\t\tgetMouseProjectionOnBall( event.touches[ 0 ].pageX - mousePreX, event.touches[ 0 ].pageY - mousePreY);\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\n\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t_state = STATE.NONE;\n\n\t\t}\n\t\tmousePreX = event.touches[ 0 ].pageX;\n\t\tmousePreY = event.touches[ 0 ].pageY;\n\t}\n\n\tfunction touchend( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\t\t\t\t_rotateEnd.copy( getMouseProjectionOnBall( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\n\t\t\t\t_rotateStart.copy( _rotateEnd );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd = 0;\n\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\n\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t_panStart.copy( _panEnd );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t_state = STATE.NONE;\n\t\t//_this.dispatchEvent( endEvent );\n\t}\n\n\tfunction initEvent() {\n\t\t_this.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\n\t\t_this.domElement.addEventListener( 'mousedown', mousedown, false );\n\n\t\t_this.domElement.addEventListener( 'mousewheel', mousewheel, false );\n\t\t_this.domElement.addEventListener( 'DOMMouseScroll', mousewheel, false ); // firefox\n\n\t\t_this.domElement.addEventListener( 'touchstart', touchstart, false );\n\t\t_this.domElement.addEventListener( 'touchend', touchend, false );\n\t\t_this.domElement.addEventListener( 'touchmove', touchmove, false );\t\t\n\t}\n}\n\n\nmodule.exports = TrackballControls;\n\n\n/** WEBPACK FOOTER **\n ** ./js/common/m3-trackballcontrol.js\n **/","const BUILDPATH = './build/'; \nconst CONFIG = {};\nconst ASSETS = {\n    //libjs: BUILDPATH + '/presets.js',\n\n\n    // envmap\n    envPosZ: {url:  BUILDPATH + require(\"assets/texture/front.jpg\"), size: 20},\n    envNegZ: {url:  BUILDPATH + require(\"assets/texture/back.jpg\"), size: 20},\n    envPosX: {url:  BUILDPATH + require(\"assets/texture/right.jpg\"), size: 20},\n    envNegX: {url:  BUILDPATH + require(\"assets/texture/left.jpg\"), size: 20},\n    envPosY: {url:  BUILDPATH + require(\"assets/texture/top.jpg\"), size: 20},\n    envNegY: {url:  BUILDPATH + require(\"assets/texture/bottom.jpg\"), size: 20},\n\n    // select\n    logoImg: {url: BUILDPATH + require(\"assets/logo.png\"), size: 10},\n\tparticleMap: {url: BUILDPATH + require(\"assets/select/particle-map.png\"), size: 10}\n}\n\nexport {CONFIG, ASSETS};\n\n\n/** WEBPACK FOOTER **\n ** ./js/config/config.js\n **/","module.exports = __webpack_public_path__ + \"assets/texture/front.jpg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/texture/front.jpg\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"assets/texture/back.jpg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/texture/back.jpg\n ** module id = 25\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"assets/texture/right.jpg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/texture/right.jpg\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"assets/texture/left.jpg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/texture/left.jpg\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"assets/texture/top.jpg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/texture/top.jpg\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"assets/texture/bottom.jpg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/texture/bottom.jpg\n ** module id = 29\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./css/m3.scss\n ** module id = 30\n ** module chunks = 0\n **/"],"sourceRoot":""}